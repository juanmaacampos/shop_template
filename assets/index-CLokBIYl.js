(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function L2(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var o=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return i[a]}})}),n}var Eh={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function z2(){if(zv)return gl;zv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:d,ref:o!==void 0?o:null,props:u}}return gl.Fragment=e,gl.jsx=n,gl.jsxs=n,gl}var Uv;function U2(){return Uv||(Uv=1,Eh.exports=z2()),Eh.exports}var y=U2(),Sh={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function B2(){if(Bv)return ke;Bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=w&&_[w]||_["@@iterator"],typeof _=="function"?_:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,V={};function L(_,D,$){this.props=_,this.context=D,this.refs=V,this.updater=$||P}L.prototype.isReactComponent={},L.prototype.setState=function(_,D){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,D,"setState")},L.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function H(){}H.prototype=L.prototype;function ee(_,D,$){this.props=_,this.context=D,this.refs=V,this.updater=$||P}var se=ee.prototype=new H;se.constructor=ee,z(se,L.prototype),se.isPureReactComponent=!0;var he=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function O(_,D,$,X,re,ue){return $=ue.ref,{$$typeof:i,type:_,key:D,ref:$!==void 0?$:null,props:ue}}function I(_,D){return O(_.type,D,void 0,void 0,void 0,_.props)}function R(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function E(_){var D={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function($){return D[$]})}var M=/\/+/g;function k(_,D){return typeof _=="object"&&_!==null&&_.key!=null?E(""+_.key):D.toString(36)}function C(){}function W(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(C,C):(_.status="pending",_.then(function(D){_.status==="pending"&&(_.status="fulfilled",_.value=D)},function(D){_.status==="pending"&&(_.status="rejected",_.reason=D)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function me(_,D,$,X,re){var ue=typeof _;(ue==="undefined"||ue==="boolean")&&(_=null);var oe=!1;if(_===null)oe=!0;else switch(ue){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(_.$$typeof){case i:case e:oe=!0;break;case b:return oe=_._init,me(oe(_._payload),D,$,X,re)}}if(oe)return re=re(_),oe=X===""?"."+k(_,0):X,he(re)?($="",oe!=null&&($=oe.replace(M,"$&/")+"/"),me(re,D,$,"",function(Ne){return Ne})):re!=null&&(R(re)&&(re=I(re,$+(re.key==null||_&&_.key===re.key?"":(""+re.key).replace(M,"$&/")+"/")+oe)),D.push(re)),1;oe=0;var ye=X===""?".":X+":";if(he(_))for(var Se=0;Se<_.length;Se++)X=_[Se],ue=ye+k(X,Se),oe+=me(X,D,$,ue,re);else if(Se=x(_),typeof Se=="function")for(_=Se.call(_),Se=0;!(X=_.next()).done;)X=X.value,ue=ye+k(X,Se++),oe+=me(X,D,$,ue,re);else if(ue==="object"){if(typeof _.then=="function")return me(W(_),D,$,X,re);throw D=String(_),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Q(_,D,$){if(_==null)return _;var X=[],re=0;return me(_,X,"","",function(ue){return D.call($,ue,re++)}),X}function S(_){if(_._status===-1){var D=_._result;D=D(),D.then(function($){(_._status===0||_._status===-1)&&(_._status=1,_._result=$)},function($){(_._status===0||_._status===-1)&&(_._status=2,_._result=$)}),_._status===-1&&(_._status=0,_._result=D)}if(_._status===1)return _._result.default;throw _._result}var ge=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function G(){}return ke.Children={map:Q,forEach:function(_,D,$){Q(_,function(){D.apply(this,arguments)},$)},count:function(_){var D=0;return Q(_,function(){D++}),D},toArray:function(_){return Q(_,function(D){return D})||[]},only:function(_){if(!R(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ke.Component=L,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=ee,ke.StrictMode=a,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,ke.__COMPILER_RUNTIME={__proto__:null,c:function(_){return U.H.useMemoCache(_)}},ke.cache=function(_){return function(){return _.apply(null,arguments)}},ke.cloneElement=function(_,D,$){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var X=z({},_.props),re=_.key,ue=void 0;if(D!=null)for(oe in D.ref!==void 0&&(ue=void 0),D.key!==void 0&&(re=""+D.key),D)!F.call(D,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&D.ref===void 0||(X[oe]=D[oe]);var oe=arguments.length-2;if(oe===1)X.children=$;else if(1<oe){for(var ye=Array(oe),Se=0;Se<oe;Se++)ye[Se]=arguments[Se+2];X.children=ye}return O(_.type,re,void 0,void 0,ue,X)},ke.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},ke.createElement=function(_,D,$){var X,re={},ue=null;if(D!=null)for(X in D.key!==void 0&&(ue=""+D.key),D)F.call(D,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(re[X]=D[X]);var oe=arguments.length-2;if(oe===1)re.children=$;else if(1<oe){for(var ye=Array(oe),Se=0;Se<oe;Se++)ye[Se]=arguments[Se+2];re.children=ye}if(_&&_.defaultProps)for(X in oe=_.defaultProps,oe)re[X]===void 0&&(re[X]=oe[X]);return O(_,ue,void 0,void 0,null,re)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(_){return{$$typeof:m,render:_}},ke.isValidElement=R,ke.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:S}},ke.memo=function(_,D){return{$$typeof:p,type:_,compare:D===void 0?null:D}},ke.startTransition=function(_){var D=U.T,$={};U.T=$;try{var X=_(),re=U.S;re!==null&&re($,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(G,ge)}catch(ue){ge(ue)}finally{U.T=D}},ke.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},ke.use=function(_){return U.H.use(_)},ke.useActionState=function(_,D,$){return U.H.useActionState(_,D,$)},ke.useCallback=function(_,D){return U.H.useCallback(_,D)},ke.useContext=function(_){return U.H.useContext(_)},ke.useDebugValue=function(){},ke.useDeferredValue=function(_,D){return U.H.useDeferredValue(_,D)},ke.useEffect=function(_,D,$){var X=U.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(_,D)},ke.useId=function(){return U.H.useId()},ke.useImperativeHandle=function(_,D,$){return U.H.useImperativeHandle(_,D,$)},ke.useInsertionEffect=function(_,D){return U.H.useInsertionEffect(_,D)},ke.useLayoutEffect=function(_,D){return U.H.useLayoutEffect(_,D)},ke.useMemo=function(_,D){return U.H.useMemo(_,D)},ke.useOptimistic=function(_,D){return U.H.useOptimistic(_,D)},ke.useReducer=function(_,D,$){return U.H.useReducer(_,D,$)},ke.useRef=function(_){return U.H.useRef(_)},ke.useState=function(_){return U.H.useState(_)},ke.useSyncExternalStore=function(_,D,$){return U.H.useSyncExternalStore(_,D,$)},ke.useTransition=function(){return U.H.useTransition()},ke.version="19.1.0",ke}var qv;function Or(){return qv||(qv=1,Sh.exports=B2()),Sh.exports}var q=Or();const za=M0(q);var Th={exports:{}},yl={},wh={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function q2(){return Hv||(Hv=1,function(i){function e(Q,S){var ge=Q.length;Q.push(S);e:for(;0<ge;){var G=ge-1>>>1,_=Q[G];if(0<o(_,S))Q[G]=S,Q[ge]=_,ge=G;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var S=Q[0],ge=Q.pop();if(ge!==S){Q[0]=ge;e:for(var G=0,_=Q.length,D=_>>>1;G<D;){var $=2*(G+1)-1,X=Q[$],re=$+1,ue=Q[re];if(0>o(X,ge))re<_&&0>o(ue,X)?(Q[G]=ue,Q[re]=ge,G=re):(Q[G]=X,Q[$]=ge,G=$);else if(re<_&&0>o(ue,ge))Q[G]=ue,Q[re]=ge,G=re;else break e}}return S}function o(Q,S){var ge=Q.sortIndex-S.sortIndex;return ge!==0?ge:Q.id-S.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var g=[],p=[],b=1,w=null,x=3,P=!1,z=!1,V=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function he(Q){for(var S=n(p);S!==null;){if(S.callback===null)a(p);else if(S.startTime<=Q)a(p),S.sortIndex=S.expirationTime,e(g,S);else break;S=n(p)}}function U(Q){if(V=!1,he(Q),!z)if(n(g)!==null)z=!0,F||(F=!0,k());else{var S=n(p);S!==null&&me(U,S.startTime-Q)}}var F=!1,O=-1,I=5,R=-1;function E(){return L?!0:!(i.unstable_now()-R<I)}function M(){if(L=!1,F){var Q=i.unstable_now();R=Q;var S=!0;try{e:{z=!1,V&&(V=!1,ee(O),O=-1),P=!0;var ge=x;try{t:{for(he(Q),w=n(g);w!==null&&!(w.expirationTime>Q&&E());){var G=w.callback;if(typeof G=="function"){w.callback=null,x=w.priorityLevel;var _=G(w.expirationTime<=Q);if(Q=i.unstable_now(),typeof _=="function"){w.callback=_,he(Q),S=!0;break t}w===n(g)&&a(g),he(Q)}else a(g);w=n(g)}if(w!==null)S=!0;else{var D=n(p);D!==null&&me(U,D.startTime-Q),S=!1}}break e}finally{w=null,x=ge,P=!1}S=void 0}}finally{S?k():F=!1}}}var k;if(typeof se=="function")k=function(){se(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,W=C.port2;C.port1.onmessage=M,k=function(){W.postMessage(null)}}else k=function(){H(M,0)};function me(Q,S){O=H(function(){Q(i.unstable_now())},S)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var S=3;break;default:S=x}var ge=x;x=S;try{return Q()}finally{x=ge}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(Q,S){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=x;x=Q;try{return S()}finally{x=ge}},i.unstable_scheduleCallback=function(Q,S,ge){var G=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?G+ge:G):ge=G,Q){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=ge+_,Q={id:b++,callback:S,priorityLevel:Q,startTime:ge,expirationTime:_,sortIndex:-1},ge>G?(Q.sortIndex=ge,e(p,Q),n(g)===null&&Q===n(p)&&(V?(ee(O),O=-1):V=!0,me(U,ge-G))):(Q.sortIndex=_,e(g,Q),z||P||(z=!0,F||(F=!0,k()))),Q},i.unstable_shouldYield=E,i.unstable_wrapCallback=function(Q){var S=x;return function(){var ge=x;x=S;try{return Q.apply(this,arguments)}finally{x=ge}}}}(Ah)),Ah}var Fv;function H2(){return Fv||(Fv=1,wh.exports=q2()),wh.exports}var Rh={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function F2(){if(Gv)return fn;Gv=1;var i=Or();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:b}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,b)},fn.flushSync=function(g){var p=d.T,b=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=p,a.p=b,a.d.f()}},fn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},fn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},fn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,w=m(b,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:P}):b==="script"&&a.d.X(g,{crossOrigin:w,integrity:x,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},fn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,w=m(b,p.crossOrigin);a.d.L(g,b,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},fn.requestFormReset=function(g){a.d.r(g)},fn.unstable_batchedUpdates=function(g,p){return g(p)},fn.useFormState=function(g,p,b){return d.H.useFormState(g,p,b)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var Qv;function G2(){if(Qv)return Rh.exports;Qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rh.exports=F2(),Rh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function Q2(){if($v)return yl;$v=1;var i=H2(),e=Or(),n=G2();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var f=s.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===s)return m(f),t;if(h===l)return m(f),r;h=h.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=h;else{for(var A=!1,N=f.child;N;){if(N===s){A=!0,s=f,l=h;break}if(N===l){A=!0,l=f,s=h;break}N=N.sibling}if(!A){for(N=h.child;N;){if(N===s){A=!0,s=h,l=f;break}if(N===l){A=!0,l=h,s=f;break}N=N.sibling}if(!A)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),se=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function W(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case L:return"Profiler";case V:return"StrictMode";case U:return"Suspense";case F:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case se:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case he:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:W(t.type)||"Memo";case I:r=t._payload,t=t._init;try{return W(t(r))}catch{}}return null}var me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},G=[],_=-1;function D(t){return{current:t}}function $(t){0>_||(t.current=G[_],G[_]=null,_--)}function X(t,r){_++,G[_]=t.current,t.current=r}var re=D(null),ue=D(null),oe=D(null),ye=D(null);function Se(t,r){switch(X(oe,r),X(ue,t),X(re,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?hv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=hv(r),t=mv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(re),X(re,t)}function Ne(){$(re),$(ue),$(oe)}function Pe(t){t.memoizedState!==null&&X(ye,t);var r=re.current,s=mv(r,t.type);r!==s&&(X(ue,t),X(re,s))}function ze(t){ue.current===t&&($(re),$(ue)),ye.current===t&&($(ye),fl._currentValue=ge)}var qe=Object.prototype.hasOwnProperty,Ve=i.unstable_scheduleCallback,Me=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,ht=i.unstable_requestPaint,xe=i.unstable_now,mt=i.unstable_getCurrentPriorityLevel,pt=i.unstable_ImmediatePriority,gt=i.unstable_UserBlockingPriority,Rt=i.unstable_NormalPriority,Wn=i.unstable_LowPriority,Zn=i.unstable_IdlePriority,di=i.log,or=i.unstable_setDisableYieldValue,yt=null,Ue=null;function Lt(t){if(typeof di=="function"&&or(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(yt,t)}catch{}}var un=Math.clz32?Math.clz32:ea,ru=Math.log,Tf=Math.LN2;function ea(t){return t>>>=0,t===0?32:31-(ru(t)/Tf|0)|0}var ta=256,na=4194304;function Jn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xa(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,h=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var N=l&134217727;return N!==0?(l=N&~h,l!==0?f=Jn(l):(A&=N,A!==0?f=Jn(A):s||(s=N&~t,s!==0&&(f=Jn(s))))):(N=l&~h,N!==0?f=Jn(N):A!==0?f=Jn(A):s||(s=l&~t,s!==0&&(f=Jn(s)))),f===0?0:r!==0&&r!==f&&(r&h)===0&&(h=f&-f,s=r&-r,h>=s||h===32&&(s&4194048)!==0)?r:f}function ra(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function co(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var t=ta;return ta<<=1,(ta&4194048)===0&&(ta=256),t}function ho(){var t=na;return na<<=1,(na&62914560)===0&&(na=4194304),t}function Ir(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Dr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mo(t,r,s,l,f,h){var A=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var N=t.entanglements,B=t.expirationTimes,te=t.hiddenUpdates;for(s=A&~s;0<s;){var le=31-un(s),fe=1<<le;N[le]=0,B[le]=-1;var ne=te[le];if(ne!==null)for(te[le]=null,le=0;le<ne.length;le++){var ie=ne[le];ie!==null&&(ie.lane&=-536870913)}s&=~fe}l!==0&&lr(t,l,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(A&~r))}function lr(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-un(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function po(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-un(s),f=1<<l;f&r|t[l]&r&&(t[l]|=r),s&=~f}}function hi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mi(){var t=S.p;return t!==0?t:(t=window.event,t===void 0?32:Mv(t.type))}function iu(t,r){var s=S.p;try{return S.p=t,r()}finally{S.p=s}}var vt=Math.random().toString(36).slice(2),zt="__reactFiber$"+vt,Dt="__reactProps$"+vt,Ln="__reactContainer$"+vt,go="__reactEvents$"+vt,wf="__reactListeners$"+vt,pi="__reactHandles$"+vt,au="__reactResources$"+vt,ia="__reactMarker$"+vt;function gi(t){delete t[zt],delete t[Dt],delete t[go],delete t[wf],delete t[pi]}function Mr(t){var r=t[zt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Ln]||s[zt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=vv(t);t!==null;){if(s=t[zt])return s;t=vv(t)}return r}t=s,s=t.parentNode}return null}function ur(t){if(t=t[zt]||t[Ln]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function cr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function vn(t){var r=t[au];return r||(r=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[ia]=!0}var yo=new Set,Za={};function er(t,r){jr(t,r),jr(t+"Capture",r)}function jr(t,r){for(Za[t]=r,t=0;t<r.length;t++)yo.add(r[t])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},aa={};function lu(t){return qe.call(aa,t)?!0:qe.call(ou,t)?!1:su.test(t)?aa[t]=!0:(ou[t]=!0,!1)}function yi(t,r,s){if(lu(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function fr(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Zt(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var sa,uu;function Pr(t){if(sa===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);sa=r&&r[1]||"",uu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+t+uu}var Ja=!1;function es(t,r){if(!t||Ja)return"";Ja=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var ne=ie}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(ie){ne=ie}t.call(fe.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),A=h[0],N=h[1];if(A&&N){var B=A.split(`
`),te=N.split(`
`);for(f=l=0;l<B.length&&!B[l].includes("DetermineComponentFrameRoot");)l++;for(;f<te.length&&!te[f].includes("DetermineComponentFrameRoot");)f++;if(l===B.length||f===te.length)for(l=B.length-1,f=te.length-1;1<=l&&0<=f&&B[l]!==te[f];)f--;for(;1<=l&&0<=f;l--,f--)if(B[l]!==te[f]){if(l!==1||f!==1)do if(l--,f--,0>f||B[l]!==te[f]){var le=`
`+B[l].replace(" at new "," at ");return t.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",t.displayName)),le}while(1<=l&&0<=f);break}}}finally{Ja=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Pr(s):""}function vo(t){switch(t.tag){case 26:case 27:case 5:return Pr(t.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return es(t.type,!1);case 11:return es(t.type.render,!1);case 1:return es(t.type,!0);case 31:return Pr("Activity");default:return""}}function ts(t){try{var r="";do r+=vo(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function _n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _o(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Af(t){var r=_o(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(A){l=""+A,h.call(this,A)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ns(t){t._valueTracker||(t._valueTracker=Af(t))}function bo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=_o(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rf=/[\n"\\]/g;function Mt(t){return t.replace(Rf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Cn(t,r,s,l,f,h,A,N){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),r!=null?A==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+_n(r)):t.value!==""+_n(r)&&(t.value=""+_n(r)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),r!=null?vi(t,A,_n(r)):s!=null?vi(t,A,_n(s)):l!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+_n(N):t.removeAttribute("name")}function la(t,r,s,l,f,h,A,N){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),r!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||r!=null))return;s=s!=null?""+_n(s):"",r=r!=null?""+_n(r):s,N||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=N?t.checked:!!l,t.defaultChecked=!!l,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function vi(t,r,s){r==="number"&&oa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function kr(t,r,s,l){if(t=t.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=r.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+_n(s),r=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function st(t,r,s){if(r!=null&&(r=""+_n(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+_n(s):""}function ua(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(me(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=_n(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function zn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||ca.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Eo(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&cu(t,f,l)}else for(var h in r)r.hasOwnProperty(h)&&cu(t,h,r[h])}function So(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(t){return Cf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vr=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,zr=null;function To(t){var r=ur(t);if(r&&(t=r.stateNode)){var s=t[Dt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Cn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Mt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var f=l[Dt]||null;if(!f)throw Error(a(90));Cn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&bo(l)}break e;case"textarea":st(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&kr(t,!!s.multiple,r,!1)}}}var dr=!1;function fu(t,r,s){if(dr)return t(r,s);dr=!0;try{var l=t(r);return l}finally{if(dr=!1,(Lr!==null||zr!==null)&&(ic(),Lr&&(r=Lr,t=zr,zr=Lr=null,To(r),t)))for(r=0;r<t.length;r++)To(t[r])}}function fa(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Dt]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(tr)try{var da={};Object.defineProperty(da,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Bn=!1}var hr=null,_i=null,Ur=null;function wo(){if(Ur)return Ur;var t,r=_i,s=r.length,l,f="value"in hr?hr.value:hr.textContent,h=f.length;for(t=0;t<s&&r[t]===f[t];t++);var A=s-t;for(l=1;l<=A&&r[s-l]===f[h-l];l++);return Ur=f.slice(t,1<l?1-l:void 0)}function mr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function pr(){return!0}function Ao(){return!1}function Ft(t){function r(s,l,f,h,A){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=A,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(s=t[N],this[N]=s?s(h):h[N]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?pr:Ao,this.isPropagationStopped=Ao,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),r}var tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Ft(tt),ha=b({},tt,{view:0,detail:0}),du=Ft(ha),as,ss,gr,ma=b({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gr&&(gr&&t.type==="mousemove"?(as=t.screenX-gr.screenX,ss=t.screenY-gr.screenY):ss=as=0,gr=t),as)},movementY:function(t){return"movementY"in t?t.movementY:ss}}),qn=Ft(ma),hu=b({},ma,{dataTransfer:0}),Of=Ft(hu),pa=b({},ha,{relatedTarget:0}),os=Ft(pa),Ro=b({},tt,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=Ft(Ro),mu=b({},tt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),us=Ft(mu),Nf=b({},tt,{data:0}),xo=Ft(Nf),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=gu[t])?!!r[t]:!1}function ya(){return Co}var yu=b({},ha,{key:function(t){if(t.key){var r=ga[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(t){return t.type==="keypress"?mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cs=Ft(yu),vu=b({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=Ft(vu),Br=b({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),_u=Ft(Br),bu=b({},tt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=Ft(bu),Su=b({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=Ft(Su),bn=b({},tt,{newState:0,oldState:0}),Tu=Ft(bn),wu=[9,13,27,32],yr=tr&&"CompositionEvent"in window,c=null;tr&&"documentMode"in document&&(c=document.documentMode);var v=tr&&"TextEvent"in window&&!c,T=tr&&(!yr||c&&8<c&&11>=c),j=" ",Z=!1;function ae(t,r){switch(t){case"keyup":return wu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $e=!1;function Ut(t,r){switch(t){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(Z=!0,j);case"textInput":return t=r.data,t===j&&Z?null:t;default:return null}}function Ke(t,r){if($e)return t==="compositionend"||!yr&&ae(t,r)?(t=wo(),Ur=_i=hr=null,$e=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return T&&r.locale!=="ko"?null:r.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Gt[t.type]:r==="textarea"}function qr(t,r,s,l){Lr?zr?zr.push(l):zr=[l]:Lr=l,r=cc(r,"onChange"),0<r.length&&(s=new is("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var Jt=null,vr=null;function No(t){lv(t,0)}function Au(t){var r=cr(t);if(bo(r))return t}function Op(t,r){if(t==="change")return r}var Np=!1;if(tr){var If;if(tr){var Df="oninput"in document;if(!Df){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),Df=typeof Ip.oninput=="function"}If=Df}else If=!1;Np=If&&(!document.documentMode||9<document.documentMode)}function Dp(){Jt&&(Jt.detachEvent("onpropertychange",Mp),vr=Jt=null)}function Mp(t){if(t.propertyName==="value"&&Au(vr)){var r=[];qr(r,vr,t,Un(t)),fu(No,r)}}function mE(t,r,s){t==="focusin"?(Dp(),Jt=r,vr=s,Jt.attachEvent("onpropertychange",Mp)):t==="focusout"&&Dp()}function pE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(vr)}function gE(t,r){if(t==="click")return Au(r)}function yE(t,r){if(t==="input"||t==="change")return Au(r)}function vE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var On=typeof Object.is=="function"?Object.is:vE;function Io(t,r){if(On(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!qe.call(r,f)||!On(t[f],r[f]))return!1}return!0}function jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,r){var s=jp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=jp(s)}}function kp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?kp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=oa(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=oa(t.document)}return r}function Mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var _E=tr&&"documentMode"in document&&11>=document.documentMode,ds=null,jf=null,Do=null,Pf=!1;function Lp(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pf||ds==null||ds!==oa(l)||(l=ds,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Do&&Io(Do,l)||(Do=l,l=cc(jf,"onSelect"),0<l.length&&(r=new is("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=ds)))}function va(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var hs={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},kf={},zp={};tr&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function _a(t){if(kf[t])return kf[t];if(!hs[t])return t;var r=hs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in zp)return kf[t]=r[s];return t}var Up=_a("animationend"),Bp=_a("animationiteration"),qp=_a("animationstart"),bE=_a("transitionrun"),EE=_a("transitionstart"),SE=_a("transitioncancel"),Hp=_a("transitionend"),Fp=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function nr(t,r){Fp.set(t,r),er(r,[t])}var Gp=new WeakMap;function Hn(t,r){if(typeof t=="object"&&t!==null){var s=Gp.get(t);return s!==void 0?s:(r={value:t,source:r,stack:ts(r)},Gp.set(t,r),r)}return{value:t,source:r,stack:ts(r)}}var Fn=[],ms=0,Lf=0;function Ru(){for(var t=ms,r=Lf=ms=0;r<t;){var s=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var h=Fn[r];if(Fn[r++]=null,l!==null&&f!==null){var A=l.pending;A===null?f.next=f:(f.next=A.next,A.next=f),l.pending=f}h!==0&&Qp(s,f,h)}}function xu(t,r,s,l){Fn[ms++]=t,Fn[ms++]=r,Fn[ms++]=s,Fn[ms++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function zf(t,r,s,l){return xu(t,r,s,l),Cu(t)}function ps(t,r){return xu(t,null,null,r),Cu(t)}function Qp(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,h=t.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&r!==null&&(f=31-un(s),t=h.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=s|536870912),h):null}function Cu(t){if(50<rl)throw rl=0,Gd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var gs={};function TE(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,r,s,l){return new TE(t,r,s,l)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hr(t,r){var s=t.alternate;return s===null?(s=Nn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function $p(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ou(t,r,s,l,f,h){var A=0;if(l=t,typeof t=="function")Uf(t)&&(A=1);else if(typeof t=="string")A=A2(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Nn(31,s,r,f),t.elementType=R,t.lanes=h,t;case z:return ba(s.children,f,h,r);case V:A=8,f|=24;break;case L:return t=Nn(12,s,r,f|2),t.elementType=L,t.lanes=h,t;case U:return t=Nn(13,s,r,f),t.elementType=U,t.lanes=h,t;case F:return t=Nn(19,s,r,f),t.elementType=F,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case se:A=10;break e;case ee:A=9;break e;case he:A=11;break e;case O:A=14;break e;case I:A=16,l=null;break e}A=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=Nn(A,s,r,f),r.elementType=t,r.type=l,r.lanes=h,r}function ba(t,r,s,l){return t=Nn(7,t,l,r),t.lanes=s,t}function Bf(t,r,s){return t=Nn(6,t,null,r),t.lanes=s,t}function qf(t,r,s){return r=Nn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ys=[],vs=0,Nu=null,Iu=0,Gn=[],Qn=0,Ea=null,Fr=1,Gr="";function Sa(t,r){ys[vs++]=Iu,ys[vs++]=Nu,Nu=t,Iu=r}function Kp(t,r,s){Gn[Qn++]=Fr,Gn[Qn++]=Gr,Gn[Qn++]=Ea,Ea=t;var l=Fr;t=Gr;var f=32-un(l)-1;l&=~(1<<f),s+=1;var h=32-un(r)+f;if(30<h){var A=f-f%5;h=(l&(1<<A)-1).toString(32),l>>=A,f-=A,Fr=1<<32-un(r)+f|s<<f|l,Gr=h+t}else Fr=1<<h|s<<f|l,Gr=t}function Hf(t){t.return!==null&&(Sa(t,1),Kp(t,1,0))}function Ff(t){for(;t===Nu;)Nu=ys[--vs],ys[vs]=null,Iu=ys[--vs],ys[vs]=null;for(;t===Ea;)Ea=Gn[--Qn],Gn[Qn]=null,Gr=Gn[--Qn],Gn[Qn]=null,Fr=Gn[--Qn],Gn[Qn]=null}var En=null,Tt=null,et=!1,Ta=null,_r=!1,Gf=Error(a(519));function wa(t){var r=Error(a(418,""));throw Po(Hn(r,t)),Gf}function Yp(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[zt]=t,r[Dt]=l,s){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<al.length;s++)Fe(al[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),la(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ns(r);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),ua(r,l.value,l.defaultValue,l.children),ns(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||dv(r.textContent,s)?(l.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),l.onScroll!=null&&Fe("scroll",r),l.onScrollEnd!=null&&Fe("scrollend",r),l.onClick!=null&&(r.onclick=fc),r=!0):r=!1,r||wa(t)}function Xp(t){for(En=t.return;En;)switch(En.tag){case 5:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:En=En.return}}function Mo(t){if(t!==En)return!1;if(!et)return Xp(t),et=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||oh(t.type,t.memoizedProps)),s=!s),s&&Tt&&wa(t),Xp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){Tt=ir(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}Tt=null}}else r===27?(r=Tt,Pi(t.type)?(t=fh,fh=null,Tt=t):Tt=r):Tt=En?ir(t.stateNode.nextSibling):null;return!0}function jo(){Tt=En=null,et=!1}function Wp(){var t=Ta;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Ta=null),t}function Po(t){Ta===null?Ta=[t]:Ta.push(t)}var Qf=D(null),Aa=null,Qr=null;function bi(t,r,s){X(Qf,r._currentValue),r._currentValue=s}function $r(t){t._currentValue=Qf.current,$(Qf)}function $f(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Kf(t,r,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var A=f.child;h=h.firstContext;e:for(;h!==null;){var N=h;h=f;for(var B=0;B<r.length;B++)if(N.context===r[B]){h.lanes|=s,N=h.alternate,N!==null&&(N.lanes|=s),$f(h.return,s,t),l||(A=null);break e}h=N.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(a(341));A.lanes|=s,h=A.alternate,h!==null&&(h.lanes|=s),$f(A,s,t),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===t){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function ko(t,r,s,l){t=null;for(var f=r,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var N=f.type;On(f.pendingProps.value,A.value)||(t!==null?t.push(N):t=[N])}}else if(f===ye.current){if(A=f.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(fl):t=[fl])}f=f.return}t!==null&&Kf(r,t,s,l),r.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ra(t){Aa=t,Qr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function cn(t){return Zp(Aa,t)}function Mu(t,r){return Aa===null&&Ra(t),Zp(t,r)}function Zp(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Qr===null){if(t===null)throw Error(a(308));Qr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Qr=Qr.next=r;return s}var wE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},AE=i.unstable_scheduleCallback,RE=i.unstable_NormalPriority,qt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new wE,data:new Map,refCount:0}}function Vo(t){t.refCount--,t.refCount===0&&AE(RE,function(){t.controller.abort()})}var Lo=null,Xf=0,_s=0,bs=null;function xE(t,r){if(Lo===null){var s=Lo=[];Xf=0,_s=Zd(),bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Xf++,r.then(Jp,Jp),r}function Jp(){if(--Xf===0&&Lo!==null){bs!==null&&(bs.status="fulfilled");var t=Lo;Lo=null,_s=0,bs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function CE(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var eg=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&xE(t,r),eg!==null&&eg(t,r)};var xa=D(null);function Wf(){var t=xa.current;return t!==null?t:ft.pooledCache}function ju(t,r){r===null?X(xa,xa.current):X(xa,r.pool)}function tg(){var t=Wf();return t===null?null:{parent:qt._currentValue,pool:t}}var zo=Error(a(460)),ng=Error(a(474)),Pu=Error(a(542)),Zf={then:function(){}};function rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ku(){}function ig(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(ku,ku),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,sg(t),t;default:if(typeof r.status=="string")r.then(ku,ku);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,sg(t),t}throw Uo=r,zo}}var Uo=null;function ag(){if(Uo===null)throw Error(a(459));var t=Uo;return Uo=null,t}function sg(t){if(t===zo||t===Pu)throw Error(a(483))}var Ei=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Cu(t),Qp(t,null,s),r}return xu(t,l,r,s),Cu(t)}function Bo(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,po(t,s)}}function td(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?f=h=A:h=h.next=A,s=s.next}while(s!==null);h===null?f=h=r:h=h.next=r}else f=h=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var nd=!1;function qo(){if(nd){var t=bs;if(t!==null)throw t}}function Ho(t,r,s,l){nd=!1;var f=t.updateQueue;Ei=!1;var h=f.firstBaseUpdate,A=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var B=N,te=B.next;B.next=null,A===null?h=te:A.next=te,A=B;var le=t.alternate;le!==null&&(le=le.updateQueue,N=le.lastBaseUpdate,N!==A&&(N===null?le.firstBaseUpdate=te:N.next=te,le.lastBaseUpdate=B))}if(h!==null){var fe=f.baseState;A=0,le=te=B=null,N=h;do{var ne=N.lane&-536870913,ie=ne!==N.lane;if(ie?(Ye&ne)===ne:(l&ne)===ne){ne!==0&&ne===_s&&(nd=!0),le!==null&&(le=le.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Oe=t,Re=N;ne=r;var ut=s;switch(Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){fe=Oe.call(ut,fe,ne);break e}fe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,ne=typeof Oe=="function"?Oe.call(ut,fe,ne):Oe,ne==null)break e;fe=b({},fe,ne);break e;case 2:Ei=!0}}ne=N.callback,ne!==null&&(t.flags|=64,ie&&(t.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:N.tag,payload:N.payload,callback:N.callback,next:null},le===null?(te=le=ie,B=fe):le=le.next=ie,A|=ne;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;ie=N,N=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);le===null&&(B=fe),f.baseState=B,f.firstBaseUpdate=te,f.lastBaseUpdate=le,h===null&&(f.shared.lanes=0),Ii|=A,t.lanes=A,t.memoizedState=fe}}function og(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function lg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)og(s[t],r)}var Es=D(null),Vu=D(0);function ug(t,r){t=ei,X(Vu,t),X(Es,r),ei=t|r.baseLanes}function rd(){X(Vu,ei),X(Es,Es.current)}function id(){ei=Vu.current,$(Es),$(Vu)}var wi=0,Le=null,ot=null,jt=null,Lu=!1,Ss=!1,Ca=!1,zu=0,Fo=0,Ts=null,OE=0;function Ct(){throw Error(a(321))}function ad(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!On(t[s],r[s]))return!1;return!0}function sd(t,r,s,l,f,h){return wi=h,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?Qg:$g,Ca=!1,h=s(l,f),Ca=!1,Ss&&(h=fg(r,s,l,f)),cg(t),h}function cg(t){Q.H=Gu;var r=ot!==null&&ot.next!==null;if(wi=0,jt=ot=Le=null,Lu=!1,Fo=0,Ts=null,r)throw Error(a(300));t===null||Qt||(t=t.dependencies,t!==null&&Du(t)&&(Qt=!0))}function fg(t,r,s,l){Le=t;var f=0;do{if(Ss&&(Ts=null),Fo=0,Ss=!1,25<=f)throw Error(a(301));if(f+=1,jt=ot=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}Q.H=kE,h=r(s,l)}while(Ss);return h}function NE(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?Go(r):r,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Le.flags|=1024),r}function od(){var t=zu!==0;return zu=0,t}function ld(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function ud(t){if(Lu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Lu=!1}wi=0,jt=ot=Le=null,Ss=!1,Fo=zu=0,Ts=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Le.memoizedState=jt=t:jt=jt.next=t,jt}function Pt(){if(ot===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var r=jt===null?Le.memoizedState:jt.next;if(r!==null)jt=r,ot=t;else{if(t===null)throw Le.alternate===null?Error(a(467)):Error(a(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},jt===null?Le.memoizedState=jt=t:jt=jt.next=t}return jt}function cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(t){var r=Fo;return Fo+=1,Ts===null&&(Ts=[]),t=ig(Ts,t,r),r=Le,(jt===null?r.memoizedState:jt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Qg:$g),t}function Uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Go(t);if(t.$$typeof===se)return cn(t)}throw Error(a(438,String(t)))}function fd(t){var r=null,s=Le.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=cd(),Le.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=E;return r.index++,s}function Kr(t,r){return typeof r=="function"?r(t):r}function Bu(t){var r=Pt();return dd(r,ot,t)}function dd(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,h=l.pending;if(h!==null){if(f!==null){var A=f.next;f.next=h.next,h.next=A}r.baseQueue=f=h,l.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{r=f.next;var N=A=null,B=null,te=r,le=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(Ye&fe)===fe:(wi&fe)===fe){var ne=te.revertLane;if(ne===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===_s&&(le=!0);else if((wi&ne)===ne){te=te.next,ne===_s&&(le=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},B===null?(N=B=fe,A=h):B=B.next=fe,Le.lanes|=ne,Ii|=ne;fe=te.action,Ca&&s(h,fe),h=te.hasEagerState?te.eagerState:s(h,fe)}else ne={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},B===null?(N=B=ne,A=h):B=B.next=ne,Le.lanes|=fe,Ii|=fe;te=te.next}while(te!==null&&te!==r);if(B===null?A=h:B.next=N,!On(h,t.memoizedState)&&(Qt=!0,le&&(s=bs,s!==null)))throw s;t.memoizedState=h,t.baseState=A,t.baseQueue=B,l.lastRenderedState=h}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hd(t){var r=Pt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,h=r.memoizedState;if(f!==null){s.pending=null;var A=f=f.next;do h=t(h,A.action),A=A.next;while(A!==f);On(h,r.memoizedState)||(Qt=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),s.lastRenderedState=h}return[h,l]}function dg(t,r,s){var l=Le,f=Pt(),h=et;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=r();var A=!On((ot||f).memoizedState,s);A&&(f.memoizedState=s,Qt=!0),f=f.queue;var N=pg.bind(null,l,f,t);if(Qo(2048,8,N,[t]),f.getSnapshot!==r||A||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,ws(9,qu(),mg.bind(null,l,f,s,r),null),ft===null)throw Error(a(349));h||(wi&124)!==0||hg(l,r,s)}return s}function hg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Le.updateQueue,r===null?(r=cd(),Le.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function mg(t,r,s,l){r.value=s,r.getSnapshot=l,gg(r)&&yg(t)}function pg(t,r,s){return s(function(){gg(r)&&yg(t)})}function gg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!On(t,s)}catch{return!0}}function yg(t){var r=ps(t,2);r!==null&&Pn(r,t,2)}function md(t){var r=wn();if(typeof t=="function"){var s=t;if(t=s(),Ca){Lt(!0);try{s()}finally{Lt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},r}function vg(t,r,s,l){return t.baseState=s,dd(t,ot,typeof l=="function"?l:Kr)}function IE(t,r,s,l,f){if(Fu(t))throw Error(a(485));if(t=r.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){h.listeners.push(A)}};Q.T!==null?s(!0):h.isTransition=!1,l(h),s=r.pending,s===null?(h.next=r.pending=h,_g(r,h)):(h.next=s.next,r.pending=s.next=h)}}function _g(t,r){var s=r.action,l=r.payload,f=t.state;if(r.isTransition){var h=Q.T,A={};Q.T=A;try{var N=s(f,l),B=Q.S;B!==null&&B(A,N),bg(t,r,N)}catch(te){pd(t,r,te)}finally{Q.T=h}}else try{h=s(f,l),bg(t,r,h)}catch(te){pd(t,r,te)}}function bg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Eg(t,r,l)},function(l){return pd(t,r,l)}):Eg(t,r,s)}function Eg(t,r,s){r.status="fulfilled",r.value=s,Sg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,_g(t,s)))}function pd(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Sg(r),r=r.next;while(r!==l)}t.action=null}function Sg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Tg(t,r){return r}function wg(t,r){if(et){var s=ft.formState;if(s!==null){e:{var l=Le;if(et){if(Tt){t:{for(var f=Tt,h=_r;f.nodeType!==8;){if(!h){f=null;break t}if(f=ir(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Tt=ir(f.nextSibling),l=f.data==="F!";break e}}wa(l)}l=!1}l&&(r=s[0])}}return s=wn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:r},s.queue=l,s=Hg.bind(null,Le,l),l.dispatch=s,l=md(!1),h=bd.bind(null,Le,!1,l.queue),l=wn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,s=IE.bind(null,Le,f,h,s),f.dispatch=s,l.memoizedState=t,[r,s,!1]}function Ag(t){var r=Pt();return Rg(r,ot,t)}function Rg(t,r,s){if(r=dd(t,r,Tg)[0],t=Bu(Kr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Go(r)}catch(A){throw A===zo?Pu:A}else l=r;r=Pt();var f=r.queue,h=f.dispatch;return s!==r.memoizedState&&(Le.flags|=2048,ws(9,qu(),DE.bind(null,f,s),null)),[l,h,t]}function DE(t,r){t.action=r}function xg(t){var r=Pt(),s=ot;if(s!==null)return Rg(r,s,t);Pt(),r=r.memoizedState,s=Pt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function ws(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Le.updateQueue,r===null&&(r=cd(),Le.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function qu(){return{destroy:void 0,resource:void 0}}function Cg(){return Pt().memoizedState}function Hu(t,r,s,l){var f=wn();l=l===void 0?null:l,Le.flags|=t,f.memoizedState=ws(1|r,qu(),s,l)}function Qo(t,r,s,l){var f=Pt();l=l===void 0?null:l;var h=f.memoizedState.inst;ot!==null&&l!==null&&ad(l,ot.memoizedState.deps)?f.memoizedState=ws(r,h,s,l):(Le.flags|=t,f.memoizedState=ws(1|r,h,s,l))}function Og(t,r){Hu(8390656,8,t,r)}function Ng(t,r){Qo(2048,8,t,r)}function Ig(t,r){return Qo(4,2,t,r)}function Dg(t,r){return Qo(4,4,t,r)}function Mg(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function jg(t,r,s){s=s!=null?s.concat([t]):null,Qo(4,4,Mg.bind(null,r,t),s)}function gd(){}function Pg(t,r){var s=Pt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&ad(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function kg(t,r){var s=Pt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&ad(r,l[1]))return l[0];if(l=t(),Ca){Lt(!0);try{t()}finally{Lt(!1)}}return s.memoizedState=[l,r],l}function yd(t,r,s){return s===void 0||(wi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=zy(),Le.lanes|=t,Ii|=t,s)}function Vg(t,r,s,l){return On(s,r)?s:Es.current!==null?(t=yd(t,s,l),On(t,r)||(Qt=!0),t):(wi&42)===0?(Qt=!0,t.memoizedState=s):(t=zy(),Le.lanes|=t,Ii|=t,r)}function Lg(t,r,s,l,f){var h=S.p;S.p=h!==0&&8>h?h:8;var A=Q.T,N={};Q.T=N,bd(t,!1,r,s);try{var B=f(),te=Q.S;if(te!==null&&te(N,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var le=CE(B,l);$o(t,r,le,jn(t))}else $o(t,r,l,jn(t))}catch(fe){$o(t,r,{then:function(){},status:"rejected",reason:fe},jn())}finally{S.p=h,Q.T=A}}function ME(){}function vd(t,r,s,l){if(t.tag!==5)throw Error(a(476));var f=zg(t).queue;Lg(t,f,r,ge,s===null?ME:function(){return Ug(t),s(l)})}function zg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:ge},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ug(t){var r=zg(t).next.queue;$o(t,r,{},jn())}function _d(){return cn(fl)}function Bg(){return Pt().memoizedState}function qg(){return Pt().memoizedState}function jE(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=jn();t=Si(s);var l=Ti(r,t,s);l!==null&&(Pn(l,r,s),Bo(l,r,s)),r={cache:Yf()},t.payload=r;return}r=r.return}}function PE(t,r,s){var l=jn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Fg(r,s):(s=zf(t,r,s,l),s!==null&&(Pn(s,t,l),Gg(s,r,l)))}function Hg(t,r,s){var l=jn();$o(t,r,s,l)}function $o(t,r,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Fg(r,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var A=r.lastRenderedState,N=h(A,s);if(f.hasEagerState=!0,f.eagerState=N,On(N,A))return xu(t,r,f,0),ft===null&&Ru(),!1}catch{}finally{}if(s=zf(t,r,f,l),s!==null)return Pn(s,t,l),Gg(s,r,l),!0}return!1}function bd(t,r,s,l){if(l={lane:2,revertLane:Zd(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(r)throw Error(a(479))}else r=zf(t,s,l,2),r!==null&&Pn(r,t,2)}function Fu(t){var r=t.alternate;return t===Le||r!==null&&r===Le}function Fg(t,r){Ss=Lu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Gg(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,po(t,s)}}var Gu={readContext:cn,use:Uu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},Qg={readContext:cn,use:Uu,useCallback:function(t,r){return wn().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:Og,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Hu(4194308,4,Mg.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Hu(4194308,4,t,r)},useInsertionEffect:function(t,r){Hu(4,2,t,r)},useMemo:function(t,r){var s=wn();r=r===void 0?null:r;var l=t();if(Ca){Lt(!0);try{t()}finally{Lt(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=wn();if(s!==void 0){var f=s(r);if(Ca){Lt(!0);try{s(r)}finally{Lt(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=PE.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var r=wn();return t={current:t},r.memoizedState=t},useState:function(t){t=md(t);var r=t.queue,s=Hg.bind(null,Le,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:gd,useDeferredValue:function(t,r){var s=wn();return yd(s,t,r)},useTransition:function(){var t=md(!1);return t=Lg.bind(null,Le,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Le,f=wn();if(et){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ft===null)throw Error(a(349));(Ye&124)!==0||hg(l,r,s)}f.memoizedState=s;var h={value:s,getSnapshot:r};return f.queue=h,Og(pg.bind(null,l,h,t),[t]),l.flags|=2048,ws(9,qu(),mg.bind(null,l,h,s,r),null),s},useId:function(){var t=wn(),r=ft.identifierPrefix;if(et){var s=Gr,l=Fr;s=(l&~(1<<32-un(l)-1)).toString(32)+s,r=""+r+"R"+s,s=zu++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=OE++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:_d,useFormState:wg,useActionState:wg,useOptimistic:function(t){var r=wn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=bd.bind(null,Le,!0,s),s.dispatch=r,[t,r]},useMemoCache:fd,useCacheRefresh:function(){return wn().memoizedState=jE.bind(null,Le)}},$g={readContext:cn,use:Uu,useCallback:Pg,useContext:cn,useEffect:Ng,useImperativeHandle:jg,useInsertionEffect:Ig,useLayoutEffect:Dg,useMemo:kg,useReducer:Bu,useRef:Cg,useState:function(){return Bu(Kr)},useDebugValue:gd,useDeferredValue:function(t,r){var s=Pt();return Vg(s,ot.memoizedState,t,r)},useTransition:function(){var t=Bu(Kr)[0],r=Pt().memoizedState;return[typeof t=="boolean"?t:Go(t),r]},useSyncExternalStore:dg,useId:Bg,useHostTransitionStatus:_d,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,r){var s=Pt();return vg(s,ot,t,r)},useMemoCache:fd,useCacheRefresh:qg},kE={readContext:cn,use:Uu,useCallback:Pg,useContext:cn,useEffect:Ng,useImperativeHandle:jg,useInsertionEffect:Ig,useLayoutEffect:Dg,useMemo:kg,useReducer:hd,useRef:Cg,useState:function(){return hd(Kr)},useDebugValue:gd,useDeferredValue:function(t,r){var s=Pt();return ot===null?yd(s,t,r):Vg(s,ot.memoizedState,t,r)},useTransition:function(){var t=hd(Kr)[0],r=Pt().memoizedState;return[typeof t=="boolean"?t:Go(t),r]},useSyncExternalStore:dg,useId:Bg,useHostTransitionStatus:_d,useFormState:xg,useActionState:xg,useOptimistic:function(t,r){var s=Pt();return ot!==null?vg(s,ot,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:fd,useCacheRefresh:qg},As=null,Ko=0;function Qu(t){var r=Ko;return Ko+=1,As===null&&(As=[]),ig(As,t,r)}function Yo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function $u(t,r){throw r.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Kg(t){var r=t._init;return r(t._payload)}function Yg(t){function r(Y,K){if(t){var J=Y.deletions;J===null?(Y.deletions=[K],Y.flags|=16):J.push(K)}}function s(Y,K){if(!t)return null;for(;K!==null;)r(Y,K),K=K.sibling;return null}function l(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function f(Y,K){return Y=Hr(Y,K),Y.index=0,Y.sibling=null,Y}function h(Y,K,J){return Y.index=J,t?(J=Y.alternate,J!==null?(J=J.index,J<K?(Y.flags|=67108866,K):J):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function A(Y){return t&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,K,J,ce){return K===null||K.tag!==6?(K=Bf(J,Y.mode,ce),K.return=Y,K):(K=f(K,J),K.return=Y,K)}function B(Y,K,J,ce){var Ee=J.type;return Ee===z?le(Y,K,J.props.children,ce,J.key):K!==null&&(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===I&&Kg(Ee)===K.type)?(K=f(K,J.props),Yo(K,J),K.return=Y,K):(K=Ou(J.type,J.key,J.props,null,Y.mode,ce),Yo(K,J),K.return=Y,K)}function te(Y,K,J,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=qf(J,Y.mode,ce),K.return=Y,K):(K=f(K,J.children||[]),K.return=Y,K)}function le(Y,K,J,ce,Ee){return K===null||K.tag!==7?(K=ba(J,Y.mode,ce,Ee),K.return=Y,K):(K=f(K,J),K.return=Y,K)}function fe(Y,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Bf(""+K,Y.mode,J),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return J=Ou(K.type,K.key,K.props,null,Y.mode,J),Yo(J,K),J.return=Y,J;case P:return K=qf(K,Y.mode,J),K.return=Y,K;case I:var ce=K._init;return K=ce(K._payload),fe(Y,K,J)}if(me(K)||k(K))return K=ba(K,Y.mode,J,null),K.return=Y,K;if(typeof K.then=="function")return fe(Y,Qu(K),J);if(K.$$typeof===se)return fe(Y,Mu(Y,K),J);$u(Y,K)}return null}function ne(Y,K,J,ce){var Ee=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ee!==null?null:N(Y,K,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===Ee?B(Y,K,J,ce):null;case P:return J.key===Ee?te(Y,K,J,ce):null;case I:return Ee=J._init,J=Ee(J._payload),ne(Y,K,J,ce)}if(me(J)||k(J))return Ee!==null?null:le(Y,K,J,ce,null);if(typeof J.then=="function")return ne(Y,K,Qu(J),ce);if(J.$$typeof===se)return ne(Y,K,Mu(Y,J),ce);$u(Y,J)}return null}function ie(Y,K,J,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(J)||null,N(K,Y,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return Y=Y.get(ce.key===null?J:ce.key)||null,B(K,Y,ce,Ee);case P:return Y=Y.get(ce.key===null?J:ce.key)||null,te(K,Y,ce,Ee);case I:var Be=ce._init;return ce=Be(ce._payload),ie(Y,K,J,ce,Ee)}if(me(ce)||k(ce))return Y=Y.get(J)||null,le(K,Y,ce,Ee,null);if(typeof ce.then=="function")return ie(Y,K,J,Qu(ce),Ee);if(ce.$$typeof===se)return ie(Y,K,J,Mu(K,ce),Ee);$u(K,ce)}return null}function Oe(Y,K,J,ce){for(var Ee=null,Be=null,we=K,Ce=K=0,Kt=null;we!==null&&Ce<J.length;Ce++){we.index>Ce?(Kt=we,we=null):Kt=we.sibling;var Ze=ne(Y,we,J[Ce],ce);if(Ze===null){we===null&&(we=Kt);break}t&&we&&Ze.alternate===null&&r(Y,we),K=h(Ze,K,Ce),Be===null?Ee=Ze:Be.sibling=Ze,Be=Ze,we=Kt}if(Ce===J.length)return s(Y,we),et&&Sa(Y,Ce),Ee;if(we===null){for(;Ce<J.length;Ce++)we=fe(Y,J[Ce],ce),we!==null&&(K=h(we,K,Ce),Be===null?Ee=we:Be.sibling=we,Be=we);return et&&Sa(Y,Ce),Ee}for(we=l(we);Ce<J.length;Ce++)Kt=ie(we,Y,Ce,J[Ce],ce),Kt!==null&&(t&&Kt.alternate!==null&&we.delete(Kt.key===null?Ce:Kt.key),K=h(Kt,K,Ce),Be===null?Ee=Kt:Be.sibling=Kt,Be=Kt);return t&&we.forEach(function(Ui){return r(Y,Ui)}),et&&Sa(Y,Ce),Ee}function Re(Y,K,J,ce){if(J==null)throw Error(a(151));for(var Ee=null,Be=null,we=K,Ce=K=0,Kt=null,Ze=J.next();we!==null&&!Ze.done;Ce++,Ze=J.next()){we.index>Ce?(Kt=we,we=null):Kt=we.sibling;var Ui=ne(Y,we,Ze.value,ce);if(Ui===null){we===null&&(we=Kt);break}t&&we&&Ui.alternate===null&&r(Y,we),K=h(Ui,K,Ce),Be===null?Ee=Ui:Be.sibling=Ui,Be=Ui,we=Kt}if(Ze.done)return s(Y,we),et&&Sa(Y,Ce),Ee;if(we===null){for(;!Ze.done;Ce++,Ze=J.next())Ze=fe(Y,Ze.value,ce),Ze!==null&&(K=h(Ze,K,Ce),Be===null?Ee=Ze:Be.sibling=Ze,Be=Ze);return et&&Sa(Y,Ce),Ee}for(we=l(we);!Ze.done;Ce++,Ze=J.next())Ze=ie(we,Y,Ce,Ze.value,ce),Ze!==null&&(t&&Ze.alternate!==null&&we.delete(Ze.key===null?Ce:Ze.key),K=h(Ze,K,Ce),Be===null?Ee=Ze:Be.sibling=Ze,Be=Ze);return t&&we.forEach(function(V2){return r(Y,V2)}),et&&Sa(Y,Ce),Ee}function ut(Y,K,J,ce){if(typeof J=="object"&&J!==null&&J.type===z&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:e:{for(var Ee=J.key;K!==null;){if(K.key===Ee){if(Ee=J.type,Ee===z){if(K.tag===7){s(Y,K.sibling),ce=f(K,J.props.children),ce.return=Y,Y=ce;break e}}else if(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===I&&Kg(Ee)===K.type){s(Y,K.sibling),ce=f(K,J.props),Yo(ce,J),ce.return=Y,Y=ce;break e}s(Y,K);break}else r(Y,K);K=K.sibling}J.type===z?(ce=ba(J.props.children,Y.mode,ce,J.key),ce.return=Y,Y=ce):(ce=Ou(J.type,J.key,J.props,null,Y.mode,ce),Yo(ce,J),ce.return=Y,Y=ce)}return A(Y);case P:e:{for(Ee=J.key;K!==null;){if(K.key===Ee)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){s(Y,K.sibling),ce=f(K,J.children||[]),ce.return=Y,Y=ce;break e}else{s(Y,K);break}else r(Y,K);K=K.sibling}ce=qf(J,Y.mode,ce),ce.return=Y,Y=ce}return A(Y);case I:return Ee=J._init,J=Ee(J._payload),ut(Y,K,J,ce)}if(me(J))return Oe(Y,K,J,ce);if(k(J)){if(Ee=k(J),typeof Ee!="function")throw Error(a(150));return J=Ee.call(J),Re(Y,K,J,ce)}if(typeof J.then=="function")return ut(Y,K,Qu(J),ce);if(J.$$typeof===se)return ut(Y,K,Mu(Y,J),ce);$u(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(s(Y,K.sibling),ce=f(K,J),ce.return=Y,Y=ce):(s(Y,K),ce=Bf(J,Y.mode,ce),ce.return=Y,Y=ce),A(Y)):s(Y,K)}return function(Y,K,J,ce){try{Ko=0;var Ee=ut(Y,K,J,ce);return As=null,Ee}catch(we){if(we===zo||we===Pu)throw we;var Be=Nn(29,we,null,Y.mode);return Be.lanes=ce,Be.return=Y,Be}finally{}}}var Rs=Yg(!0),Xg=Yg(!1),$n=D(null),br=null;function Ai(t){var r=t.alternate;X(Ht,Ht.current&1),X($n,t),br===null&&(r===null||Es.current!==null||r.memoizedState!==null)&&(br=t)}function Wg(t){if(t.tag===22){if(X(Ht,Ht.current),X($n,t),br===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(br=t)}}else Ri()}function Ri(){X(Ht,Ht.current),X($n,$n.current)}function Yr(t){$($n),br===t&&(br=null),$(Ht)}var Ht=D(0);function Ku(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||ch(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ed(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:b({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Sd={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=jn(),f=Si(l);f.payload=r,s!=null&&(f.callback=s),r=Ti(t,f,l),r!==null&&(Pn(r,t,l),Bo(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=jn(),f=Si(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=Ti(t,f,l),r!==null&&(Pn(r,t,l),Bo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=jn(),l=Si(s);l.tag=2,r!=null&&(l.callback=r),r=Ti(t,l,s),r!==null&&(Pn(r,t,s),Bo(r,t,s))}};function Zg(t,r,s,l,f,h,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,A):r.prototype&&r.prototype.isPureReactComponent?!Io(s,l)||!Io(f,h):!0}function Jg(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Sd.enqueueReplaceState(r,r.state,null)}function Oa(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=b({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ey(t){Yu(t)}function ty(t){console.error(t)}function ny(t){Yu(t)}function Xu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ry(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Td(t,r,s){return s=Si(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(t,r)},s}function iy(t){return t=Si(t),t.tag=3,t}function ay(t,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;t.payload=function(){return f(h)},t.callback=function(){ry(r,s,l)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){ry(r,s,l),typeof f!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function VE(t,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&ko(r,s,f,!0),s=$n.current,s!==null){switch(s.tag){case 13:return br===null?$d():s.alternate===null&&wt===0&&(wt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Zf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Yd(t,l,f)),!1;case 22:return s.flags|=65536,l===Zf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Yd(t,l,f)),!1}throw Error(a(435,s.tag))}return Yd(t,l,f),$d(),!1}if(et)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Gf&&(t=Error(a(422),{cause:l}),Po(Hn(t,s)))):(l!==Gf&&(r=Error(a(423),{cause:l}),Po(Hn(r,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Hn(l,s),f=Td(t.stateNode,l,f),td(t,f),wt!==4&&(wt=2)),!1;var h=Error(a(520),{cause:l});if(h=Hn(h,s),nl===null?nl=[h]:nl.push(h),wt!==4&&(wt=2),r===null)return!0;l=Hn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Td(s.stateNode,l,t),td(s,t),!1;case 1:if(r=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Di===null||!Di.has(h))))return s.flags|=65536,f&=-f,s.lanes|=f,f=iy(f),ay(f,t,s,l),td(s,f),!1}s=s.return}while(s!==null);return!1}var sy=Error(a(461)),Qt=!1;function en(t,r,s,l){r.child=t===null?Xg(r,null,s,l):Rs(r,t.child,s,l)}function oy(t,r,s,l,f){s=s.render;var h=r.ref;if("ref"in l){var A={};for(var N in l)N!=="ref"&&(A[N]=l[N])}else A=l;return Ra(r),l=sd(t,r,s,A,h,f),N=od(),t!==null&&!Qt?(ld(t,r,f),Xr(t,r,f)):(et&&N&&Hf(r),r.flags|=1,en(t,r,l,f),r.child)}function ly(t,r,s,l,f){if(t===null){var h=s.type;return typeof h=="function"&&!Uf(h)&&h.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=h,uy(t,r,h,l,f)):(t=Ou(s.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(h=t.child,!Id(t,f)){var A=h.memoizedProps;if(s=s.compare,s=s!==null?s:Io,s(A,l)&&t.ref===r.ref)return Xr(t,r,f)}return r.flags|=1,t=Hr(h,l),t.ref=r.ref,t.return=r,r.child=t}function uy(t,r,s,l,f){if(t!==null){var h=t.memoizedProps;if(Io(h,l)&&t.ref===r.ref)if(Qt=!1,r.pendingProps=l=h,Id(t,f))(t.flags&131072)!==0&&(Qt=!0);else return r.lanes=t.lanes,Xr(t,r,f)}return wd(t,r,s,l,f)}function cy(t,r,s){var l=r.pendingProps,f=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=h!==null?h.baseLanes|s:s,t!==null){for(f=r.child=t.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;r.childLanes=h&~l}else r.childLanes=0,r.child=null;return fy(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(r,h!==null?h.cachePool:null),h!==null?ug(r,h):rd(),Wg(r);else return r.lanes=r.childLanes=536870912,fy(t,r,h!==null?h.baseLanes|s:s,s)}else h!==null?(ju(r,h.cachePool),ug(r,h),Ri(),r.memoizedState=null):(t!==null&&ju(r,null),rd(),Ri());return en(t,r,f,s),r.child}function fy(t,r,s,l){var f=Wf();return f=f===null?null:{parent:qt._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},t!==null&&ju(r,null),rd(),Wg(r),t!==null&&ko(t,r,l,!0),null}function Wu(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function wd(t,r,s,l,f){return Ra(r),s=sd(t,r,s,l,void 0,f),l=od(),t!==null&&!Qt?(ld(t,r,f),Xr(t,r,f)):(et&&l&&Hf(r),r.flags|=1,en(t,r,s,f),r.child)}function dy(t,r,s,l,f,h){return Ra(r),r.updateQueue=null,s=fg(r,l,s,f),cg(t),l=od(),t!==null&&!Qt?(ld(t,r,h),Xr(t,r,h)):(et&&l&&Hf(r),r.flags|=1,en(t,r,s,h),r.child)}function hy(t,r,s,l,f){if(Ra(r),r.stateNode===null){var h=gs,A=s.contextType;typeof A=="object"&&A!==null&&(h=cn(A)),h=new s(l,h),r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sd,r.stateNode=h,h._reactInternals=r,h=r.stateNode,h.props=l,h.state=r.memoizedState,h.refs={},Jf(r),A=s.contextType,h.context=typeof A=="object"&&A!==null?cn(A):gs,h.state=r.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(Ed(r,s,A,l),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(A=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),A!==h.state&&Sd.enqueueReplaceState(h,h.state,null),Ho(r,l,h,f),qo(),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){h=r.stateNode;var N=r.memoizedProps,B=Oa(s,N);h.props=B;var te=h.context,le=s.contextType;A=gs,typeof le=="object"&&le!==null&&(A=cn(le));var fe=s.getDerivedStateFromProps;le=typeof fe=="function"||typeof h.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,le||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(N||te!==A)&&Jg(r,h,l,A),Ei=!1;var ne=r.memoizedState;h.state=ne,Ho(r,l,h,f),qo(),te=r.memoizedState,N||ne!==te||Ei?(typeof fe=="function"&&(Ed(r,s,fe,l),te=r.memoizedState),(B=Ei||Zg(r,s,B,l,ne,te,A))?(le||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(r.flags|=4194308)):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=te),h.props=l,h.state=te,h.context=A,l=B):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{h=r.stateNode,ed(t,r),A=r.memoizedProps,le=Oa(s,A),h.props=le,fe=r.pendingProps,ne=h.context,te=s.contextType,B=gs,typeof te=="object"&&te!==null&&(B=cn(te)),N=s.getDerivedStateFromProps,(te=typeof N=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(A!==fe||ne!==B)&&Jg(r,h,l,B),Ei=!1,ne=r.memoizedState,h.state=ne,Ho(r,l,h,f),qo();var ie=r.memoizedState;A!==fe||ne!==ie||Ei||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof N=="function"&&(Ed(r,s,N,l),ie=r.memoizedState),(le=Ei||Zg(r,s,le,l,ne,ie,B)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(te||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,ie,B),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,ie,B)),typeof h.componentDidUpdate=="function"&&(r.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof h.componentDidUpdate!="function"||A===t.memoizedProps&&ne===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ne===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ie),h.props=l,h.state=ie,h.context=B,l=le):(typeof h.componentDidUpdate!="function"||A===t.memoizedProps&&ne===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ne===t.memoizedState||(r.flags|=1024),l=!1)}return h=l,Wu(t,r),l=(r.flags&128)!==0,h||l?(h=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),r.flags|=1,t!==null&&l?(r.child=Rs(r,t.child,null,f),r.child=Rs(r,null,s,f)):en(t,r,s,f),r.memoizedState=h.state,t=r.child):t=Xr(t,r,f),t}function my(t,r,s,l){return jo(),r.flags|=256,en(t,r,s,l),r.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(t){return{baseLanes:t,cachePool:tg()}}function xd(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Kn),t}function py(t,r,s){var l=r.pendingProps,f=!1,h=(r.flags&128)!==0,A;if((A=h)||(A=t!==null&&t.memoizedState===null?!1:(Ht.current&2)!==0),A&&(f=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,t===null){if(et){if(f?Ai(r):Ri(),et){var N=Tt,B;if(B=N){e:{for(B=N,N=_r;B.nodeType!==8;){if(!N){N=null;break e}if(B=ir(B.nextSibling),B===null){N=null;break e}}N=B}N!==null?(r.memoizedState={dehydrated:N,treeContext:Ea!==null?{id:Fr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},B=Nn(18,null,null,0),B.stateNode=N,B.return=r,r.child=B,En=r,Tt=null,B=!0):B=!1}B||wa(r)}if(N=r.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return ch(N)?r.lanes=32:r.lanes=536870912,null;Yr(r)}return N=l.children,l=l.fallback,f?(Ri(),f=r.mode,N=Zu({mode:"hidden",children:N},f),l=ba(l,f,s,null),N.return=r,l.return=r,N.sibling=l,r.child=N,f=r.child,f.memoizedState=Rd(s),f.childLanes=xd(t,A,s),r.memoizedState=Ad,l):(Ai(r),Cd(r,N))}if(B=t.memoizedState,B!==null&&(N=B.dehydrated,N!==null)){if(h)r.flags&256?(Ai(r),r.flags&=-257,r=Od(t,r,s)):r.memoizedState!==null?(Ri(),r.child=t.child,r.flags|=128,r=null):(Ri(),f=l.fallback,N=r.mode,l=Zu({mode:"visible",children:l.children},N),f=ba(f,N,s,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Rs(r,t.child,null,s),l=r.child,l.memoizedState=Rd(s),l.childLanes=xd(t,A,s),r.memoizedState=Ad,r=f);else if(Ai(r),ch(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var te=A.dgst;A=te,l=Error(a(419)),l.stack="",l.digest=A,Po({value:l,source:null,stack:null}),r=Od(t,r,s)}else if(Qt||ko(t,r,s,!1),A=(s&t.childLanes)!==0,Qt||A){if(A=ft,A!==null&&(l=s&-s,l=(l&42)!==0?1:hi(l),l=(l&(A.suspendedLanes|s))!==0?0:l,l!==0&&l!==B.retryLane))throw B.retryLane=l,ps(t,l),Pn(A,t,l),sy;N.data==="$?"||$d(),r=Od(t,r,s)}else N.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=B.treeContext,Tt=ir(N.nextSibling),En=r,et=!0,Ta=null,_r=!1,t!==null&&(Gn[Qn++]=Fr,Gn[Qn++]=Gr,Gn[Qn++]=Ea,Fr=t.id,Gr=t.overflow,Ea=r),r=Cd(r,l.children),r.flags|=4096);return r}return f?(Ri(),f=l.fallback,N=r.mode,B=t.child,te=B.sibling,l=Hr(B,{mode:"hidden",children:l.children}),l.subtreeFlags=B.subtreeFlags&65011712,te!==null?f=Hr(te,f):(f=ba(f,N,s,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,N=t.child.memoizedState,N===null?N=Rd(s):(B=N.cachePool,B!==null?(te=qt._currentValue,B=B.parent!==te?{parent:te,pool:te}:B):B=tg(),N={baseLanes:N.baseLanes|s,cachePool:B}),f.memoizedState=N,f.childLanes=xd(t,A,s),r.memoizedState=Ad,l):(Ai(r),s=t.child,t=s.sibling,s=Hr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(A=r.deletions,A===null?(r.deletions=[t],r.flags|=16):A.push(t)),r.child=s,r.memoizedState=null,s)}function Cd(t,r){return r=Zu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Zu(t,r){return t=Nn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Od(t,r,s){return Rs(r,t.child,null,s),t=Cd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function gy(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),$f(t.return,r,s)}function Nd(t,r,s,l,f){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=s,h.tailMode=f)}function yy(t,r,s){var l=r.pendingProps,f=l.revealOrder,h=l.tail;if(en(t,r,l.children,s),l=Ht.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,s,r);else if(t.tag===19)gy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(X(Ht,l),f){case"forwards":for(s=r.child,f=null;s!==null;)t=s.alternate,t!==null&&Ku(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),Nd(r,!1,f,s,h);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ku(t)===null){r.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Nd(r,!0,s,null,h);break;case"together":Nd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Ii|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(ko(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=Hr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Hr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Id(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function LE(t,r,s){switch(r.tag){case 3:Se(r,r.stateNode.containerInfo),bi(r,qt,t.memoizedState.cache),jo();break;case 27:case 5:Pe(r);break;case 4:Se(r,r.stateNode.containerInfo);break;case 10:bi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ai(r),r.flags|=128,null):(s&r.child.childLanes)!==0?py(t,r,s):(Ai(r),t=Xr(t,r,s),t!==null?t.sibling:null);Ai(r);break;case 19:var f=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(ko(t,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return yy(t,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(Ht,Ht.current),l)break;return null;case 22:case 23:return r.lanes=0,cy(t,r,s);case 24:bi(r,qt,t.memoizedState.cache)}return Xr(t,r,s)}function vy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Qt=!0;else{if(!Id(t,s)&&(r.flags&128)===0)return Qt=!1,LE(t,r,s);Qt=(t.flags&131072)!==0}else Qt=!1,et&&(r.flags&1048576)!==0&&Kp(r,Iu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Uf(l)?(t=Oa(l,t),r.tag=1,r=hy(null,r,l,t,s)):(r.tag=0,r=wd(null,r,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===he){r.tag=11,r=oy(null,r,l,t,s);break e}else if(f===O){r.tag=14,r=ly(null,r,l,t,s);break e}}throw r=W(l)||l,Error(a(306,r,""))}}return r;case 0:return wd(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=Oa(l,r.pendingProps),hy(t,r,l,f,s);case 3:e:{if(Se(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var h=r.memoizedState;f=h.element,ed(t,r),Ho(r,l,null,s);var A=r.memoizedState;if(l=A.cache,bi(r,qt,l),l!==h.cache&&Kf(r,[qt],s,!0),qo(),l=A.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=my(t,r,l,s);break e}else if(l!==f){f=Hn(Error(a(424)),r),Po(f),r=my(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=ir(t.firstChild),En=r,et=!0,Ta=null,_r=!0,s=Xg(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(jo(),l===f){r=Xr(t,r,s);break e}en(t,r,l,s)}r=r.child}return r;case 26:return Wu(t,r),t===null?(s=Sv(r.type,null,r.pendingProps,null))?r.memoizedState=s:et||(s=r.type,t=r.pendingProps,l=dc(oe.current).createElement(s),l[zt]=r,l[Dt]=t,nn(l,s,t),xt(l),r.stateNode=l):r.memoizedState=Sv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Pe(r),t===null&&et&&(l=r.stateNode=_v(r.type,r.pendingProps,oe.current),En=r,_r=!0,f=Tt,Pi(r.type)?(fh=f,Tt=ir(l.firstChild)):Tt=f),en(t,r,r.pendingProps.children,s),Wu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&et&&((f=l=Tt)&&(l=d2(l,r.type,r.pendingProps,_r),l!==null?(r.stateNode=l,En=r,Tt=ir(l.firstChild),_r=!1,f=!0):f=!1),f||wa(r)),Pe(r),f=r.type,h=r.pendingProps,A=t!==null?t.memoizedProps:null,l=h.children,oh(f,h)?l=null:A!==null&&oh(f,A)&&(r.flags|=32),r.memoizedState!==null&&(f=sd(t,r,NE,null,null,s),fl._currentValue=f),Wu(t,r),en(t,r,l,s),r.child;case 6:return t===null&&et&&((t=s=Tt)&&(s=h2(s,r.pendingProps,_r),s!==null?(r.stateNode=s,En=r,Tt=null,t=!0):t=!1),t||wa(r)),null;case 13:return py(t,r,s);case 4:return Se(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Rs(r,null,l,s):en(t,r,l,s),r.child;case 11:return oy(t,r,r.type,r.pendingProps,s);case 7:return en(t,r,r.pendingProps,s),r.child;case 8:return en(t,r,r.pendingProps.children,s),r.child;case 12:return en(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,bi(r,r.type,l.value),en(t,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ra(r),f=cn(f),l=l(f),r.flags|=1,en(t,r,l,s),r.child;case 14:return ly(t,r,r.type,r.pendingProps,s);case 15:return uy(t,r,r.type,r.pendingProps,s);case 19:return yy(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=Zu(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Hr(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return cy(t,r,s);case 24:return Ra(r),l=cn(qt),t===null?(f=Wf(),f===null&&(f=ft,h=Yf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=s),f=h),r.memoizedState={parent:l,cache:f},Jf(r),bi(r,qt,f)):((t.lanes&s)!==0&&(ed(t,r),Ho(r,null,null,s),qo()),f=t.memoizedState,h=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),bi(r,qt,l)):(l=h.cache,bi(r,qt,l),l!==f.cache&&Kf(r,[qt],s,!0))),en(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Wr(t){t.flags|=4}function _y(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xv(r)){if(r=$n.current,r!==null&&((Ye&4194048)===Ye?br!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||r!==br))throw Uo=Zf,ng;t.flags|=8192}}function Ju(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ho():536870912,t.lanes|=r,Ns|=r)}function Xo(t,r){if(!et)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function zE(t,r,s){var l=r.pendingProps;switch(Ff(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return bt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$r(qt),Ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Mo(r)?Wr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wp())),bt(r),null;case 26:return s=r.memoizedState,t===null?(Wr(r),s!==null?(bt(r),_y(r,s)):(bt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Wr(r),bt(r),_y(r,s)):(bt(r),r.flags&=-16777217):(t.memoizedProps!==l&&Wr(r),bt(r),r.flags&=-16777217),null;case 27:ze(r),s=oe.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Wr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return bt(r),null}t=re.current,Mo(r)?Yp(r):(t=_v(f,l,s),r.stateNode=t,Wr(r))}return bt(r),null;case 5:if(ze(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Wr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return bt(r),null}if(t=re.current,Mo(r))Yp(r);else{switch(f=dc(oe.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[zt]=r,t[Dt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(nn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Wr(r)}}return bt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Wr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=oe.current,Mo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,f=En,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[zt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||dv(t.nodeValue,s)),t||wa(r)}else t=dc(t).createTextNode(l),t[zt]=r,r.stateNode=t}return bt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Mo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[zt]=r}else jo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),f=!1}else f=Wp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Yr(r),r):(Yr(r),null)}if(Yr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),Ju(r,r.updateQueue),bt(r),null;case 4:return Ne(),t===null&&nh(r.stateNode.containerInfo),bt(r),null;case 10:return $r(r.type),bt(r),null;case 19:if($(Ht),f=r.memoizedState,f===null)return bt(r),null;if(l=(r.flags&128)!==0,h=f.rendering,h===null)if(l)Xo(f,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(h=Ku(t),h!==null){for(r.flags|=128,Xo(f,!1),t=h.updateQueue,r.updateQueue=t,Ju(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)$p(s,t),s=s.sibling;return X(Ht,Ht.current&1|2),r.child}t=t.sibling}f.tail!==null&&xe()>nc&&(r.flags|=128,l=!0,Xo(f,!1),r.lanes=4194304)}else{if(!l)if(t=Ku(h),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ju(r,t),Xo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!et)return bt(r),null}else 2*xe()-f.renderingStartTime>nc&&s!==536870912&&(r.flags|=128,l=!0,Xo(f,!1),r.lanes=4194304);f.isBackwards?(h.sibling=r.child,r.child=h):(t=f.last,t!==null?t.sibling=h:r.child=h,f.last=h)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=xe(),r.sibling=null,t=Ht.current,X(Ht,l?t&1|2:t&1),r):(bt(r),null);case 22:case 23:return Yr(r),id(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),s=r.updateQueue,s!==null&&Ju(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&$(xa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),$r(qt),bt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function UE(t,r){switch(Ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return $r(qt),Ne(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ze(r),null;case 13:if(Yr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));jo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return $(Ht),null;case 4:return Ne(),null;case 10:return $r(r.type),null;case 22:case 23:return Yr(r),id(),t!==null&&$(xa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return $r(qt),null;case 25:return null;default:return null}}function by(t,r){switch(Ff(r),r.tag){case 3:$r(qt),Ne();break;case 26:case 27:case 5:ze(r);break;case 4:Ne();break;case 13:Yr(r);break;case 19:$(Ht);break;case 10:$r(r.type);break;case 22:case 23:Yr(r),id(),t!==null&&$(xa);break;case 24:$r(qt)}}function Wo(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var h=s.create,A=s.inst;l=h(),A.destroy=l}s=s.next}while(s!==f)}}catch(N){ct(r,r.return,N)}}function xi(t,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&t)===t){var A=l.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,f=r;var B=s,te=N;try{te()}catch(le){ct(f,B,le)}}}l=l.next}while(l!==h)}}catch(le){ct(r,r.return,le)}}function Ey(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{lg(r,s)}catch(l){ct(t,t.return,l)}}}function Sy(t,r,s){s.props=Oa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ct(t,r,l)}}function Zo(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){ct(t,r,f)}}function Er(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){ct(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ct(t,r,f)}else s.current=null}function Ty(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){ct(t,t.return,f)}}function Dd(t,r,s){try{var l=t.stateNode;o2(l,t.type,s,r),l[Dt]=r}catch(f){ct(t,t.return,f)}}function wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=fc));else if(l!==4&&(l===27&&Pi(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(jd(t,r,s),t=t.sibling;t!==null;)jd(t,r,s),t=t.sibling}function ec(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&Pi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ec(t,r,s),t=t.sibling;t!==null;)ec(t,r,s),t=t.sibling}function Ay(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);nn(r,l,s),r[zt]=t,r[Dt]=s}catch(h){ct(t,t.return,h)}}var Zr=!1,Ot=!1,Pd=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,$t=null;function BE(t,r){if(t=t.containerInfo,ah=vc,t=Vp(t),Mf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var A=0,N=-1,B=-1,te=0,le=0,fe=t,ne=null;t:for(;;){for(var ie;fe!==s||f!==0&&fe.nodeType!==3||(N=A+f),fe!==h||l!==0&&fe.nodeType!==3||(B=A+l),fe.nodeType===3&&(A+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)ne=fe,fe=ie;for(;;){if(fe===t)break t;if(ne===s&&++te===f&&(N=A),ne===h&&++le===l&&(B=A),(ie=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=ie}s=N===-1||B===-1?null:{start:N,end:B}}else s=null}s=s||{start:0,end:0}}else s=null;for(sh={focusedElem:t,selectionRange:s},vc=!1,$t=r;$t!==null;)if(r=$t,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,$t=t;else for(;$t!==null;){switch(r=$t,h=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=r,f=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var Oe=Oa(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Oe,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){ct(s,s.return,Re)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)uh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,$t=t;break}$t=r.return}}function xy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ci(t,s),l&4&&Wo(5,s);break;case 1:if(Ci(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(A){ct(s,s.return,A)}else{var f=Oa(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(A){ct(s,s.return,A)}}l&64&&Ey(s),l&512&&Zo(s,s.return);break;case 3:if(Ci(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{lg(t,r)}catch(A){ct(s,s.return,A)}}break;case 27:r===null&&l&4&&Ay(s);case 26:case 5:Ci(t,s),r===null&&l&4&&Ty(s),l&512&&Zo(s,s.return);break;case 12:Ci(t,s);break;case 13:Ci(t,s),l&4&&Ny(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=XE.bind(null,s),m2(t,s))));break;case 22:if(l=s.memoizedState!==null||Zr,!l){r=r!==null&&r.memoizedState!==null||Ot,f=Zr;var h=Ot;Zr=l,(Ot=r)&&!h?Oi(t,s,(s.subtreeFlags&8772)!==0):Ci(t,s),Zr=f,Ot=h}break;case 30:break;default:Ci(t,s)}}function Cy(t){var r=t.alternate;r!==null&&(t.alternate=null,Cy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&gi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,An=!1;function Jr(t,r,s){for(s=s.child;s!==null;)Oy(t,r,s),s=s.sibling}function Oy(t,r,s){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(yt,s)}catch{}switch(s.tag){case 26:Ot||Er(s,r),Jr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||Er(s,r);var l=_t,f=An;Pi(s.type)&&(_t=s.stateNode,An=!1),Jr(t,r,s),ol(s.stateNode),_t=l,An=f;break;case 5:Ot||Er(s,r);case 6:if(l=_t,f=An,_t=null,Jr(t,r,s),_t=l,An=f,_t!==null)if(An)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(h){ct(s,r,h)}else try{_t.removeChild(s.stateNode)}catch(h){ct(s,r,h)}break;case 18:_t!==null&&(An?(t=_t,yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),pl(t)):yv(_t,s.stateNode));break;case 4:l=_t,f=An,_t=s.stateNode.containerInfo,An=!0,Jr(t,r,s),_t=l,An=f;break;case 0:case 11:case 14:case 15:Ot||xi(2,s,r),Ot||xi(4,s,r),Jr(t,r,s);break;case 1:Ot||(Er(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Sy(s,r,l)),Jr(t,r,s);break;case 21:Jr(t,r,s);break;case 22:Ot=(l=Ot)||s.memoizedState!==null,Jr(t,r,s),Ot=l;break;default:Jr(t,r,s)}}function Ny(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pl(t)}catch(s){ct(r,r.return,s)}}function qE(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ry),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ry),r;default:throw Error(a(435,t.tag))}}function kd(t,r){var s=qE(t);r.forEach(function(l){var f=WE.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function In(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],h=t,A=r,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(Pi(N.type)){_t=N.stateNode,An=!1;break e}break;case 5:_t=N.stateNode,An=!1;break e;case 3:case 4:_t=N.stateNode.containerInfo,An=!0;break e}N=N.return}if(_t===null)throw Error(a(160));Oy(h,A,f),_t=null,An=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Iy(r,t),r=r.sibling}var rr=null;function Iy(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(r,t),Dn(t),l&4&&(xi(3,t,t.return),Wo(3,t),xi(5,t,t.return));break;case 1:In(r,t),Dn(t),l&512&&(Ot||s===null||Er(s,s.return)),l&64&&Zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=rr;if(In(r,t),Dn(t),l&512&&(Ot||s===null||Er(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[ia]||h[zt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),nn(h,l,s),h[zt]=t,xt(h),l=h;break e;case"link":var A=Av("link","href",f).get(l+(s.href||""));if(A){for(var N=0;N<A.length;N++)if(h=A[N],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(N,1);break t}}h=f.createElement(l),nn(h,l,s),f.head.appendChild(h);break;case"meta":if(A=Av("meta","content",f).get(l+(s.content||""))){for(N=0;N<A.length;N++)if(h=A[N],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(N,1);break t}}h=f.createElement(l),nn(h,l,s),f.head.appendChild(h);break;default:throw Error(a(468,l))}h[zt]=t,xt(h),l=h}t.stateNode=l}else Rv(f,t.type,t.stateNode);else t.stateNode=wv(f,l,t.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?Rv(f,t.type,t.stateNode):wv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,s.memoizedProps)}break;case 27:In(r,t),Dn(t),l&512&&(Ot||s===null||Er(s,s.return)),s!==null&&l&4&&Dd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(In(r,t),Dn(t),l&512&&(Ot||s===null||Er(s,s.return)),t.flags&32){f=t.stateNode;try{zn(f,"")}catch(ie){ct(t,t.return,ie)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Dd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(Pd=!0);break;case 6:if(In(r,t),Dn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ie){ct(t,t.return,ie)}}break;case 3:if(pc=null,f=rr,rr=hc(r.containerInfo),In(r,t),rr=f,Dn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{pl(r.containerInfo)}catch(ie){ct(t,t.return,ie)}Pd&&(Pd=!1,Dy(t));break;case 4:l=rr,rr=hc(t.stateNode.containerInfo),In(r,t),Dn(t),rr=l;break;case 12:In(r,t),Dn(t);break;case 13:In(r,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(qd=xe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kd(t,l)));break;case 22:f=t.memoizedState!==null;var B=s!==null&&s.memoizedState!==null,te=Zr,le=Ot;if(Zr=te||f,Ot=le||B,In(r,t),Ot=le,Zr=te,Dn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||B||Zr||Ot||Na(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){B=s=r;try{if(h=B.stateNode,f)A=h.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=B.stateNode;var fe=B.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;N.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(ie){ct(B,B.return,ie)}}}else if(r.tag===6){if(s===null){B=r;try{B.stateNode.nodeValue=f?"":B.memoizedProps}catch(ie){ct(B,B.return,ie)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,kd(t,s))));break;case 19:In(r,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kd(t,l)));break;case 30:break;case 21:break;default:In(r,t),Dn(t)}}function Dn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(wy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,h=Md(t);ec(t,h,f);break;case 5:var A=s.stateNode;s.flags&32&&(zn(A,""),s.flags&=-33);var N=Md(t);ec(t,N,A);break;case 3:case 4:var B=s.stateNode.containerInfo,te=Md(t);jd(t,te,B);break;default:throw Error(a(161))}}catch(le){ct(t,t.return,le)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Dy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ci(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)xy(t,r.alternate,r),r=r.sibling}function Na(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:xi(4,r,r.return),Na(r);break;case 1:Er(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Sy(r,r.return,s),Na(r);break;case 27:ol(r.stateNode);case 26:case 5:Er(r,r.return),Na(r);break;case 22:r.memoizedState===null&&Na(r);break;case 30:Na(r);break;default:Na(r)}t=t.sibling}}function Oi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,h=r,A=h.flags;switch(h.tag){case 0:case 11:case 15:Oi(f,h,s),Wo(4,h);break;case 1:if(Oi(f,h,s),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(te){ct(l,l.return,te)}if(l=h,f=l.updateQueue,f!==null){var N=l.stateNode;try{var B=f.shared.hiddenCallbacks;if(B!==null)for(f.shared.hiddenCallbacks=null,f=0;f<B.length;f++)og(B[f],N)}catch(te){ct(l,l.return,te)}}s&&A&64&&Ey(h),Zo(h,h.return);break;case 27:Ay(h);case 26:case 5:Oi(f,h,s),s&&l===null&&A&4&&Ty(h),Zo(h,h.return);break;case 12:Oi(f,h,s);break;case 13:Oi(f,h,s),s&&A&4&&Ny(f,h);break;case 22:h.memoizedState===null&&Oi(f,h,s),Zo(h,h.return);break;case 30:break;default:Oi(f,h,s)}r=r.sibling}}function Vd(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Vo(s))}function Ld(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Vo(t))}function Sr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)My(t,r,s,l),r=r.sibling}function My(t,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Sr(t,r,s,l),f&2048&&Wo(9,r);break;case 1:Sr(t,r,s,l);break;case 3:Sr(t,r,s,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Vo(t)));break;case 12:if(f&2048){Sr(t,r,s,l),t=r.stateNode;try{var h=r.memoizedProps,A=h.id,N=h.onPostCommit;typeof N=="function"&&N(A,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(B){ct(r,r.return,B)}}else Sr(t,r,s,l);break;case 13:Sr(t,r,s,l);break;case 23:break;case 22:h=r.stateNode,A=r.alternate,r.memoizedState!==null?h._visibility&2?Sr(t,r,s,l):Jo(t,r):h._visibility&2?Sr(t,r,s,l):(h._visibility|=2,xs(t,r,s,l,(r.subtreeFlags&10256)!==0)),f&2048&&Vd(A,r);break;case 24:Sr(t,r,s,l),f&2048&&Ld(r.alternate,r);break;default:Sr(t,r,s,l)}}function xs(t,r,s,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var h=t,A=r,N=s,B=l,te=A.flags;switch(A.tag){case 0:case 11:case 15:xs(h,A,N,B,f),Wo(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?xs(h,A,N,B,f):Jo(h,A):(le._visibility|=2,xs(h,A,N,B,f)),f&&te&2048&&Vd(A.alternate,A);break;case 24:xs(h,A,N,B,f),f&&te&2048&&Ld(A.alternate,A);break;default:xs(h,A,N,B,f)}r=r.sibling}}function Jo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,f=l.flags;switch(l.tag){case 22:Jo(s,l),f&2048&&Vd(l.alternate,l);break;case 24:Jo(s,l),f&2048&&Ld(l.alternate,l);break;default:Jo(s,l)}r=r.sibling}}var el=8192;function Cs(t){if(t.subtreeFlags&el)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 26:Cs(t),t.flags&el&&t.memoizedState!==null&&x2(rr,t.memoizedState,t.memoizedProps);break;case 5:Cs(t);break;case 3:case 4:var r=rr;rr=hc(t.stateNode.containerInfo),Cs(t),rr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=el,el=16777216,Cs(t),el=r):Cs(t));break;default:Cs(t)}}function Py(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];$t=l,Vy(l,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&xi(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,tc(t)):tl(t);break;default:tl(t)}}function tc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];$t=l,Vy(l,t)}Py(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:xi(8,r,r.return),tc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,tc(r));break;default:tc(r)}t=t.sibling}}function Vy(t,r){for(;$t!==null;){var s=$t;switch(s.tag){case 0:case 11:case 15:xi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,$t=l;else e:for(s=t;$t!==null;){l=$t;var f=l.sibling,h=l.return;if(Cy(l),l===s){$t=null;break e}if(f!==null){f.return=h,$t=f;break e}$t=h}}}var HE={getCacheForType:function(t){var r=cn(qt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},FE=typeof WeakMap=="function"?WeakMap:Map,rt=0,ft=null,He=null,Ye=0,it=0,Mn=null,Ni=!1,Os=!1,zd=!1,ei=0,wt=0,Ii=0,Ia=0,Ud=0,Kn=0,Ns=0,nl=null,Rn=null,Bd=!1,qd=0,nc=1/0,rc=null,Di=null,tn=0,Mi=null,Is=null,Ds=0,Hd=0,Fd=null,Ly=null,rl=0,Gd=null;function jn(){if((rt&2)!==0&&Ye!==0)return Ye&-Ye;if(Q.T!==null){var t=_s;return t!==0?t:Zd()}return mi()}function zy(){Kn===0&&(Kn=(Ye&536870912)===0||et?fo():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Kn}function Pn(t,r,s){(t===ft&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Ms(t,0),ji(t,Ye,Kn,!1)),Dr(t,s),((rt&2)===0||t!==ft)&&(t===ft&&((rt&2)===0&&(Ia|=s),wt===4&&ji(t,Ye,Kn,!1)),Tr(t))}function Uy(t,r,s){if((rt&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||ra(t,r),f=l?$E(t,r):Kd(t,r,!0),h=l;do{if(f===0){Os&&!l&&ji(t,r,0,!1);break}else{if(s=t.current.alternate,h&&!GE(s)){f=Kd(t,r,!1),h=!1;continue}if(f===2){if(h=r,t.errorRecoveryDisabledLanes&h)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var N=t;f=nl;var B=N.current.memoizedState.isDehydrated;if(B&&(Ms(N,A).flags|=256),A=Kd(N,A,!1),A!==2){if(zd&&!B){N.errorRecoveryDisabledLanes|=h,Ia|=h,f=4;break e}h=Rn,Rn=f,h!==null&&(Rn===null?Rn=h:Rn.push.apply(Rn,h))}f=A}if(h=!1,f!==2)continue}}if(f===1){Ms(t,0),ji(t,r,0,!0);break}e:{switch(l=t,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:ji(l,r,Kn,!Ni);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=qd+300-xe(),10<f)){if(ji(l,r,Kn,!Ni),Xa(l,0,!0)!==0)break e;l.timeoutHandle=pv(By.bind(null,l,s,Rn,rc,Bd,r,Kn,Ia,Ns,Ni,h,2,-0,0),f);break e}By(l,s,Rn,rc,Bd,r,Kn,Ia,Ns,Ni,h,0,-0,0)}}break}while(!0);Tr(t)}function By(t,r,s,l,f,h,A,N,B,te,le,fe,ne,ie){if(t.timeoutHandle=-1,fe=r.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:R2},jy(r),fe=C2(),fe!==null)){t.cancelPendingCommit=fe(Ky.bind(null,t,r,h,s,l,f,A,N,B,le,1,ne,ie)),ji(t,h,A,!te);return}Ky(t,r,h,s,l,f,A,N,B)}function GE(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],h=f.getSnapshot;f=f.value;try{if(!On(h(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ji(t,r,s,l){r&=~Ud,r&=~Ia,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var h=31-un(f),A=1<<h;l[h]=-1,f&=~A}s!==0&&lr(t,s,r)}function ic(){return(rt&6)===0?(il(0),!1):!0}function Qd(){if(He!==null){if(it===0)var t=He.return;else t=He,Qr=Aa=null,ud(t),As=null,Ko=0,t=He;for(;t!==null;)by(t.alternate,t),t=t.return;He=null}}function Ms(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,u2(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Qd(),ft=t,He=s=Hr(t.current,null),Ye=r,it=0,Mn=null,Ni=!1,Os=ra(t,r),zd=!1,Ns=Kn=Ud=Ia=Ii=wt=0,Rn=nl=null,Bd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-un(l),h=1<<f;r|=t[f],l&=~h}return ei=r,Ru(),s}function qy(t,r){Le=null,Q.H=Gu,r===zo||r===Pu?(r=ag(),it=3):r===ng?(r=ag(),it=4):it=r===sy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,He===null&&(wt=1,Xu(t,Hn(r,t.current)))}function Hy(){var t=Q.H;return Q.H=Gu,t===null?Gu:t}function Fy(){var t=Q.A;return Q.A=HE,t}function $d(){wt=4,Ni||(Ye&4194048)!==Ye&&$n.current!==null||(Os=!0),(Ii&134217727)===0&&(Ia&134217727)===0||ft===null||ji(ft,Ye,Kn,!1)}function Kd(t,r,s){var l=rt;rt|=2;var f=Hy(),h=Fy();(ft!==t||Ye!==r)&&(rc=null,Ms(t,r)),r=!1;var A=wt;e:do try{if(it!==0&&He!==null){var N=He,B=Mn;switch(it){case 8:Qd(),A=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var te=it;if(it=0,Mn=null,js(t,N,B,te),s&&Os){A=0;break e}break;default:te=it,it=0,Mn=null,js(t,N,B,te)}}QE(),A=wt;break}catch(le){qy(t,le)}while(!0);return r&&t.shellSuspendCounter++,Qr=Aa=null,rt=l,Q.H=f,Q.A=h,He===null&&(ft=null,Ye=0,Ru()),A}function QE(){for(;He!==null;)Gy(He)}function $E(t,r){var s=rt;rt|=2;var l=Hy(),f=Fy();ft!==t||Ye!==r?(rc=null,nc=xe()+500,Ms(t,r)):Os=ra(t,r);e:do try{if(it!==0&&He!==null){r=He;var h=Mn;t:switch(it){case 1:it=0,Mn=null,js(t,r,h,1);break;case 2:case 9:if(rg(h)){it=0,Mn=null,Qy(r);break}r=function(){it!==2&&it!==9||ft!==t||(it=7),Tr(t)},h.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:rg(h)?(it=0,Mn=null,Qy(r)):(it=0,Mn=null,js(t,r,h,7));break;case 5:var A=null;switch(He.tag){case 26:A=He.memoizedState;case 5:case 27:var N=He;if(!A||xv(A)){it=0,Mn=null;var B=N.sibling;if(B!==null)He=B;else{var te=N.return;te!==null?(He=te,ac(te)):He=null}break t}}it=0,Mn=null,js(t,r,h,5);break;case 6:it=0,Mn=null,js(t,r,h,6);break;case 8:Qd(),wt=6;break e;default:throw Error(a(462))}}KE();break}catch(le){qy(t,le)}while(!0);return Qr=Aa=null,Q.H=l,Q.A=f,rt=s,He!==null?0:(ft=null,Ye=0,Ru(),wt)}function KE(){for(;He!==null&&!Ge();)Gy(He)}function Gy(t){var r=vy(t.alternate,t,ei);t.memoizedProps=t.pendingProps,r===null?ac(t):He=r}function Qy(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=dy(s,r,r.pendingProps,r.type,void 0,Ye);break;case 11:r=dy(s,r,r.pendingProps,r.type.render,r.ref,Ye);break;case 5:ud(r);default:by(s,r),r=He=$p(r,ei),r=vy(s,r,ei)}t.memoizedProps=t.pendingProps,r===null?ac(t):He=r}function js(t,r,s,l){Qr=Aa=null,ud(r),As=null,Ko=0;var f=r.return;try{if(VE(t,f,r,s,Ye)){wt=1,Xu(t,Hn(s,t.current)),He=null;return}}catch(h){if(f!==null)throw He=f,h;wt=1,Xu(t,Hn(s,t.current)),He=null;return}r.flags&32768?(et||l===1?t=!0:Os||(Ye&536870912)!==0?t=!1:(Ni=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(r,t)):ac(r)}function ac(t){var r=t;do{if((r.flags&32768)!==0){$y(r,Ni);return}t=r.return;var s=zE(r.alternate,r,ei);if(s!==null){He=s;return}if(r=r.sibling,r!==null){He=r;return}He=r=t}while(r!==null);wt===0&&(wt=5)}function $y(t,r){do{var s=UE(t.alternate,t);if(s!==null){s.flags&=32767,He=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){He=t;return}He=t=s}while(t!==null);wt=6,He=null}function Ky(t,r,s,l,f,h,A,N,B){t.cancelPendingCommit=null;do sc();while(tn!==0);if((rt&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(h=r.lanes|r.childLanes,h|=Lf,mo(t,s,h,A,N,B),t===ft&&(He=ft=null,Ye=0),Is=r,Mi=t,Ds=s,Hd=h,Fd=f,Ly=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZE(Rt,function(){return Jy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=S.p,S.p=2,A=rt,rt|=4;try{BE(t,r,s)}finally{rt=A,S.p=f,Q.T=l}}tn=1,Yy(),Xy(),Wy()}}function Yy(){if(tn===1){tn=0;var t=Mi,r=Is,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=S.p;S.p=2;var f=rt;rt|=4;try{Iy(r,t);var h=sh,A=Vp(t.containerInfo),N=h.focusedElem,B=h.selectionRange;if(A!==N&&N&&N.ownerDocument&&kp(N.ownerDocument.documentElement,N)){if(B!==null&&Mf(N)){var te=B.start,le=B.end;if(le===void 0&&(le=te),"selectionStart"in N)N.selectionStart=te,N.selectionEnd=Math.min(le,N.value.length);else{var fe=N.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),Oe=N.textContent.length,Re=Math.min(B.start,Oe),ut=B.end===void 0?Re:Math.min(B.end,Oe);!ie.extend&&Re>ut&&(A=ut,ut=Re,Re=A);var Y=Pp(N,Re),K=Pp(N,ut);if(Y&&K&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var J=fe.createRange();J.setStart(Y.node,Y.offset),ie.removeAllRanges(),Re>ut?(ie.addRange(J),ie.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),ie.addRange(J))}}}}for(fe=[],ie=N;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<fe.length;N++){var ce=fe[N];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}vc=!!ah,sh=ah=null}finally{rt=f,S.p=l,Q.T=s}}t.current=r,tn=2}}function Xy(){if(tn===2){tn=0;var t=Mi,r=Is,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=S.p;S.p=2;var f=rt;rt|=4;try{xy(t,r.alternate,r)}finally{rt=f,S.p=l,Q.T=s}}tn=3}}function Wy(){if(tn===4||tn===3){tn=0,ht();var t=Mi,r=Is,s=Ds,l=Ly;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?tn=5:(tn=0,Is=Mi=null,Zy(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Di=null),Wa(s),r=r.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(yt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=S.p,S.p=2,Q.T=null;try{for(var h=t.onRecoverableError,A=0;A<l.length;A++){var N=l[A];h(N.value,{componentStack:N.stack})}}finally{Q.T=r,S.p=f}}(Ds&3)!==0&&sc(),Tr(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===Gd?rl++:(rl=0,Gd=t):rl=0,il(0)}}function Zy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Vo(r)))}function sc(t){return Yy(),Xy(),Wy(),Jy()}function Jy(){if(tn!==5)return!1;var t=Mi,r=Hd;Hd=0;var s=Wa(Ds),l=Q.T,f=S.p;try{S.p=32>s?32:s,Q.T=null,s=Fd,Fd=null;var h=Mi,A=Ds;if(tn=0,Is=Mi=null,Ds=0,(rt&6)!==0)throw Error(a(331));var N=rt;if(rt|=4,ky(h.current),My(h,h.current,A,s),rt=N,il(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(yt,h)}catch{}return!0}finally{S.p=f,Q.T=l,Zy(t,r)}}function ev(t,r,s){r=Hn(s,r),r=Td(t.stateNode,r,2),t=Ti(t,r,2),t!==null&&(Dr(t,2),Tr(t))}function ct(t,r,s){if(t.tag===3)ev(t,t,s);else for(;r!==null;){if(r.tag===3){ev(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Di===null||!Di.has(l))){t=Hn(s,t),s=iy(2),l=Ti(r,s,2),l!==null&&(ay(s,l,r,t),Dr(l,2),Tr(l));break}}r=r.return}}function Yd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new FE;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(zd=!0,f.add(s),t=YE.bind(null,t,r,s),r.then(t,t))}function YE(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ft===t&&(Ye&s)===s&&(wt===4||wt===3&&(Ye&62914560)===Ye&&300>xe()-qd?(rt&2)===0&&Ms(t,0):Ud|=s,Ns===Ye&&(Ns=0)),Tr(t)}function tv(t,r){r===0&&(r=ho()),t=ps(t,r),t!==null&&(Dr(t,r),Tr(t))}function XE(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),tv(t,s)}function WE(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),tv(t,s)}function ZE(t,r){return Ve(t,r)}var oc=null,Ps=null,Xd=!1,lc=!1,Wd=!1,Da=0;function Tr(t){t!==Ps&&t.next===null&&(Ps===null?oc=Ps=t:Ps=Ps.next=t),lc=!0,Xd||(Xd=!0,e2())}function il(t,r){if(!Wd&&lc){Wd=!0;do for(var s=!1,l=oc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var A=l.suspendedLanes,N=l.pingedLanes;h=(1<<31-un(42|t)+1)-1,h&=f&~(A&~N),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,av(l,h))}else h=Ye,h=Xa(l,l===ft?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ra(l,h)||(s=!0,av(l,h));l=l.next}while(s);Wd=!1}}function JE(){nv()}function nv(){lc=Xd=!1;var t=0;Da!==0&&(l2()&&(t=Da),Da=0);for(var r=xe(),s=null,l=oc;l!==null;){var f=l.next,h=rv(l,r);h===0?(l.next=null,s===null?oc=f:s.next=f,f===null&&(Ps=s)):(s=l,(t!==0||(h&3)!==0)&&(lc=!0)),l=f}il(t)}function rv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var A=31-un(h),N=1<<A,B=f[A];B===-1?((N&s)===0||(N&l)!==0)&&(f[A]=co(N,r)):B<=r&&(t.expiredLanes|=N),h&=~N}if(r=ft,s=Ye,s=Xa(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Me(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ra(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Me(l),Wa(s)){case 2:case 8:s=gt;break;case 32:s=Rt;break;case 268435456:s=Zn;break;default:s=Rt}return l=iv.bind(null,t),s=Ve(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Me(l),t.callbackPriority=2,t.callbackNode=null,2}function iv(t,r){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(sc()&&t.callbackNode!==s)return null;var l=Ye;return l=Xa(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Uy(t,l,r),rv(t,xe()),t.callbackNode!=null&&t.callbackNode===s?iv.bind(null,t):null)}function av(t,r){if(sc())return null;Uy(t,r,!0)}function e2(){c2(function(){(rt&6)!==0?Ve(pt,JE):nv()})}function Zd(){return Da===0&&(Da=fo()),Da}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rs(""+t)}function ov(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function t2(t,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var h=sv((f[Dt]||null).action),A=l.submitter;A&&(r=(r=A[Dt]||null)?sv(r.formAction):A.getAttribute("formAction"),r!==null&&(h=r,A=null));var N=new is("action","action",null,l,f);t.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Da!==0){var B=A?ov(f,A):new FormData(f);vd(s,{pending:!0,data:B,method:f.method,action:h},null,B)}}else typeof h=="function"&&(N.preventDefault(),B=A?ov(f,A):new FormData(f),vd(s,{pending:!0,data:B,method:f.method,action:h},h,B))},currentTarget:f}]})}}for(var Jd=0;Jd<Vf.length;Jd++){var eh=Vf[Jd],n2=eh.toLowerCase(),r2=eh[0].toUpperCase()+eh.slice(1);nr(n2,"on"+r2)}nr(Up,"onAnimationEnd"),nr(Bp,"onAnimationIteration"),nr(qp,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(bE,"onTransitionRun"),nr(EE,"onTransitionStart"),nr(SE,"onTransitionCancel"),nr(Hp,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function lv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var h=void 0;if(r)for(var A=l.length-1;0<=A;A--){var N=l[A],B=N.instance,te=N.currentTarget;if(N=N.listener,B!==h&&f.isPropagationStopped())break e;h=N,f.currentTarget=te;try{h(f)}catch(le){Yu(le)}f.currentTarget=null,h=B}else for(A=0;A<l.length;A++){if(N=l[A],B=N.instance,te=N.currentTarget,N=N.listener,B!==h&&f.isPropagationStopped())break e;h=N,f.currentTarget=te;try{h(f)}catch(le){Yu(le)}f.currentTarget=null,h=B}}}}function Fe(t,r){var s=r[go];s===void 0&&(s=r[go]=new Set);var l=t+"__bubble";s.has(l)||(uv(r,t,2,!1),s.add(l))}function th(t,r,s){var l=0;r&&(l|=4),uv(s,t,l,r)}var uc="_reactListening"+Math.random().toString(36).slice(2);function nh(t){if(!t[uc]){t[uc]=!0,yo.forEach(function(s){s!=="selectionchange"&&(i2.has(s)||th(s,!1,t),th(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[uc]||(r[uc]=!0,th("selectionchange",!1,r))}}function uv(t,r,s,l){switch(Mv(r)){case 2:var f=I2;break;case 8:f=D2;break;default:f=gh}s=f.bind(null,r,s,t),f=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,s,{capture:!0,passive:f}):t.addEventListener(r,s,!0):f!==void 0?t.addEventListener(r,s,{passive:f}):t.addEventListener(r,s,!1)}function rh(t,r,s,l,f){var h=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var A=l.tag;if(A===3||A===4){var N=l.stateNode.containerInfo;if(N===f)break;if(A===4)for(A=l.return;A!==null;){var B=A.tag;if((B===3||B===4)&&A.stateNode.containerInfo===f)return;A=A.return}for(;N!==null;){if(A=Mr(N),A===null)return;if(B=A.tag,B===5||B===6||B===26||B===27){l=h=A;continue e}N=N.parentNode}}l=l.return}fu(function(){var te=h,le=Un(s),fe=[];e:{var ne=Fp.get(t);if(ne!==void 0){var ie=is,Oe=t;switch(t){case"keypress":if(mr(s)===0)break e;case"keydown":case"keyup":ie=cs;break;case"focusin":Oe="focus",ie=os;break;case"focusout":Oe="blur",ie=os;break;case"beforeblur":case"afterblur":ie=os;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_u;break;case Up:case Bp:case qp:ie=ls;break;case Hp:ie=Eu;break;case"scroll":case"scrollend":ie=du;break;case"wheel":ie=fs;break;case"copy":case"cut":case"paste":ie=us;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Oo;break;case"toggle":case"beforetoggle":ie=Tu}var Re=(r&4)!==0,ut=!Re&&(t==="scroll"||t==="scrollend"),Y=Re?ne!==null?ne+"Capture":null:ne;Re=[];for(var K=te,J;K!==null;){var ce=K;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||Y===null||(ce=fa(K,Y),ce!=null&&Re.push(sl(K,ce,J))),ut)break;K=K.return}0<Re.length&&(ne=new ie(ne,Oe,null,s,le),fe.push({event:ne,listeners:Re}))}}if((r&7)===0){e:{if(ne=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",ne&&s!==Vr&&(Oe=s.relatedTarget||s.fromElement)&&(Mr(Oe)||Oe[Ln]))break e;if((ie||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(Oe=s.relatedTarget||s.toElement,ie=te,Oe=Oe?Mr(Oe):null,Oe!==null&&(ut=u(Oe),Re=Oe.tag,Oe!==ut||Re!==5&&Re!==27&&Re!==6)&&(Oe=null)):(ie=null,Oe=te),ie!==Oe)){if(Re=qn,ce="onMouseLeave",Y="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(Re=Oo,ce="onPointerLeave",Y="onPointerEnter",K="pointer"),ut=ie==null?ne:cr(ie),J=Oe==null?ne:cr(Oe),ne=new Re(ce,K+"leave",ie,s,le),ne.target=ut,ne.relatedTarget=J,ce=null,Mr(le)===te&&(Re=new Re(Y,K+"enter",Oe,s,le),Re.target=J,Re.relatedTarget=ut,ce=Re),ut=ce,ie&&Oe)t:{for(Re=ie,Y=Oe,K=0,J=Re;J;J=ks(J))K++;for(J=0,ce=Y;ce;ce=ks(ce))J++;for(;0<K-J;)Re=ks(Re),K--;for(;0<J-K;)Y=ks(Y),J--;for(;K--;){if(Re===Y||Y!==null&&Re===Y.alternate)break t;Re=ks(Re),Y=ks(Y)}Re=null}else Re=null;ie!==null&&cv(fe,ne,ie,Re,!1),Oe!==null&&ut!==null&&cv(fe,ut,Oe,Re,!0)}}e:{if(ne=te?cr(te):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var Ee=Op;else if(Bt(ne))if(Np)Ee=yE;else{Ee=pE;var Be=mE}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&So(te.elementType)&&(Ee=Op):Ee=gE;if(Ee&&(Ee=Ee(t,te))){qr(fe,Ee,s,le);break e}Be&&Be(t,ne,te),t==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&vi(ne,"number",ne.value)}switch(Be=te?cr(te):window,t){case"focusin":(Bt(Be)||Be.contentEditable==="true")&&(ds=Be,jf=te,Do=null);break;case"focusout":Do=jf=ds=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Lp(fe,s,le);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":Lp(fe,s,le)}var we;if(yr)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else $e?ae(t,s)&&(Ce="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ce="onCompositionStart");Ce&&(T&&s.locale!=="ko"&&($e||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&$e&&(we=wo()):(hr=le,_i="value"in hr?hr.value:hr.textContent,$e=!0)),Be=cc(te,Ce),0<Be.length&&(Ce=new xo(Ce,t,null,s,le),fe.push({event:Ce,listeners:Be}),we?Ce.data=we:(we=ve(s),we!==null&&(Ce.data=we)))),(we=v?Ut(t,s):Ke(t,s))&&(Ce=cc(te,"onBeforeInput"),0<Ce.length&&(Be=new xo("onBeforeInput","beforeinput",null,s,le),fe.push({event:Be,listeners:Ce}),Be.data=we)),t2(fe,t,te,s,le)}lv(fe,r)})}function sl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function cc(t,r){for(var s=r+"Capture",l=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=fa(t,s),f!=null&&l.unshift(sl(t,f,h)),f=fa(t,r),f!=null&&l.push(sl(t,f,h))),t.tag===3)return l;t=t.return}return[]}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cv(t,r,s,l,f){for(var h=r._reactName,A=[];s!==null&&s!==l;){var N=s,B=N.alternate,te=N.stateNode;if(N=N.tag,B!==null&&B===l)break;N!==5&&N!==26&&N!==27||te===null||(B=te,f?(te=fa(s,h),te!=null&&A.unshift(sl(s,te,B))):f||(te=fa(s,h),te!=null&&A.push(sl(s,te,B)))),s=s.return}A.length!==0&&t.push({event:r,listeners:A})}var a2=/\r\n?/g,s2=/\u0000|\uFFFD/g;function fv(t){return(typeof t=="string"?t:""+t).replace(a2,`
`).replace(s2,"")}function dv(t,r){return r=fv(r),fv(t)===r}function fc(){}function lt(t,r,s,l,f,h){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||zn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&zn(t,""+l);break;case"className":fr(t,"class",l);break;case"tabIndex":fr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(t,s,l);break;case"style":Eo(t,l,h);break;case"data":if(r!=="object"){fr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=rs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(r!=="input"&&lt(t,r,"name",f.name,f,null),lt(t,r,"formEncType",f.formEncType,f,null),lt(t,r,"formMethod",f.formMethod,f,null),lt(t,r,"formTarget",f.formTarget,f,null)):(lt(t,r,"encType",f.encType,f,null),lt(t,r,"method",f.method,f,null),lt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=rs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=fc);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=rs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),yi(t,"popover",l);break;case"xlinkActuate":Zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=xf.get(s)||s,yi(t,s,l))}}function ih(t,r,s,l,f,h){switch(s){case"style":Eo(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?zn(t,l):(typeof l=="number"||typeof l=="bigint")&&zn(t,""+l);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Za.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),h=t[Dt]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(r,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):yi(t,s,l)}}}function nn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var l=!1,f=!1,h;for(h in s)if(s.hasOwnProperty(h)){var A=s[h];if(A!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:lt(t,r,h,A,s,null)}}f&&lt(t,r,"srcSet",s.srcSet,s,null),l&&lt(t,r,"src",s.src,s,null);return;case"input":Fe("invalid",t);var N=h=A=f=null,B=null,te=null;for(l in s)if(s.hasOwnProperty(l)){var le=s[l];if(le!=null)switch(l){case"name":f=le;break;case"type":A=le;break;case"checked":B=le;break;case"defaultChecked":te=le;break;case"value":h=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,r));break;default:lt(t,r,l,le,s,null)}}la(t,h,N,B,te,A,f,!1),ns(t);return;case"select":Fe("invalid",t),l=A=h=null;for(f in s)if(s.hasOwnProperty(f)&&(N=s[f],N!=null))switch(f){case"value":h=N;break;case"defaultValue":A=N;break;case"multiple":l=N;default:lt(t,r,f,N,s,null)}r=h,s=A,t.multiple=!!l,r!=null?kr(t,!!l,r,!1):s!=null&&kr(t,!!l,s,!0);return;case"textarea":Fe("invalid",t),h=f=l=null;for(A in s)if(s.hasOwnProperty(A)&&(N=s[A],N!=null))switch(A){case"value":l=N;break;case"defaultValue":f=N;break;case"children":h=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:lt(t,r,A,N,s,null)}ua(t,l,f,h),ns(t);return;case"option":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(t,r,B,l,s,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(l=0;l<al.length;l++)Fe(al[l],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in s)if(s.hasOwnProperty(te)&&(l=s[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:lt(t,r,te,l,s,null)}return;default:if(So(r)){for(le in s)s.hasOwnProperty(le)&&(l=s[le],l!==void 0&&ih(t,r,le,l,s,void 0));return}}for(N in s)s.hasOwnProperty(N)&&(l=s[N],l!=null&&lt(t,r,N,l,s,null))}function o2(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,A=null,N=null,B=null,te=null,le=null;for(ie in s){var fe=s[ie];if(s.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":B=fe;default:l.hasOwnProperty(ie)||lt(t,r,ie,null,l,fe)}}for(var ne in l){var ie=l[ne];if(fe=s[ne],l.hasOwnProperty(ne)&&(ie!=null||fe!=null))switch(ne){case"type":h=ie;break;case"name":f=ie;break;case"checked":te=ie;break;case"defaultChecked":le=ie;break;case"value":A=ie;break;case"defaultValue":N=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,r));break;default:ie!==fe&&lt(t,r,ne,ie,l,fe)}}Cn(t,A,N,B,te,le,h,f);return;case"select":ie=A=N=ne=null;for(h in s)if(B=s[h],s.hasOwnProperty(h)&&B!=null)switch(h){case"value":break;case"multiple":ie=B;default:l.hasOwnProperty(h)||lt(t,r,h,null,l,B)}for(f in l)if(h=l[f],B=s[f],l.hasOwnProperty(f)&&(h!=null||B!=null))switch(f){case"value":ne=h;break;case"defaultValue":N=h;break;case"multiple":A=h;default:h!==B&&lt(t,r,f,h,l,B)}r=N,s=A,l=ie,ne!=null?kr(t,!!s,ne,!1):!!l!=!!s&&(r!=null?kr(t,!!s,r,!0):kr(t,!!s,s?[]:"",!1));return;case"textarea":ie=ne=null;for(N in s)if(f=s[N],s.hasOwnProperty(N)&&f!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:lt(t,r,N,null,l,f)}for(A in l)if(f=l[A],h=s[A],l.hasOwnProperty(A)&&(f!=null||h!=null))switch(A){case"value":ne=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&lt(t,r,A,f,l,h)}st(t,ne,ie);return;case"option":for(var Oe in s)if(ne=s[Oe],s.hasOwnProperty(Oe)&&ne!=null&&!l.hasOwnProperty(Oe))switch(Oe){case"selected":t.selected=!1;break;default:lt(t,r,Oe,null,l,ne)}for(B in l)if(ne=l[B],ie=s[B],l.hasOwnProperty(B)&&ne!==ie&&(ne!=null||ie!=null))switch(B){case"selected":t.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:lt(t,r,B,ne,l,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in s)ne=s[Re],s.hasOwnProperty(Re)&&ne!=null&&!l.hasOwnProperty(Re)&&lt(t,r,Re,null,l,ne);for(te in l)if(ne=l[te],ie=s[te],l.hasOwnProperty(te)&&ne!==ie&&(ne!=null||ie!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,r));break;default:lt(t,r,te,ne,l,ie)}return;default:if(So(r)){for(var ut in s)ne=s[ut],s.hasOwnProperty(ut)&&ne!==void 0&&!l.hasOwnProperty(ut)&&ih(t,r,ut,void 0,l,ne);for(le in l)ne=l[le],ie=s[le],!l.hasOwnProperty(le)||ne===ie||ne===void 0&&ie===void 0||ih(t,r,le,ne,l,ie);return}}for(var Y in s)ne=s[Y],s.hasOwnProperty(Y)&&ne!=null&&!l.hasOwnProperty(Y)&&lt(t,r,Y,null,l,ne);for(fe in l)ne=l[fe],ie=s[fe],!l.hasOwnProperty(fe)||ne===ie||ne==null&&ie==null||lt(t,r,fe,ne,l,ie)}var ah=null,sh=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function oh(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lh=null;function l2(){var t=window.event;return t&&t.type==="popstate"?t===lh?!1:(lh=t,!0):(lh=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,u2=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,c2=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(t){return gv.resolve(null).then(t).catch(f2)}:pv;function f2(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function yv(t,r){var s=r,l=0,f=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(0<l&&8>l){s=l;var A=t.ownerDocument;if(s&1&&ol(A.documentElement),s&2&&ol(A.body),s&4)for(s=A.head,ol(s),A=s.firstChild;A;){var N=A.nextSibling,B=A.nodeName;A[ia]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&A.rel.toLowerCase()==="stylesheet"||s.removeChild(A),A=N}}if(f===0){t.removeChild(h),pl(r);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=h}while(s);pl(r)}function uh(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":uh(s),gi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function d2(t,r,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ia])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=ir(t.nextSibling),t===null)break}return null}function h2(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ir(t.nextSibling),t===null))return null;return t}function ch(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function m2(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ir(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var fh=null;function vv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function _v(t,r,s){switch(r=dc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ol(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gi(t)}var Yn=new Map,bv=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ti=S.d;S.d={f:p2,r:g2,D:y2,C:v2,L:_2,m:b2,X:S2,S:E2,M:T2};function p2(){var t=ti.f(),r=ic();return t||r}function g2(t){var r=ur(t);r!==null&&r.tag===5&&r.type==="form"?Ug(r):ti.r(t)}var Vs=typeof document>"u"?null:document;function Ev(t,r,s){var l=Vs;if(l&&typeof r=="string"&&r){var f=Mt(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),bv.has(f)||(bv.add(f),t={rel:t,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),nn(r,"link",t),xt(r),l.head.appendChild(r)))}}function y2(t){ti.D(t),Ev("dns-prefetch",t,null)}function v2(t,r){ti.C(t,r),Ev("preconnect",t,r)}function _2(t,r,s){ti.L(t,r,s);var l=Vs;if(l&&t&&r){var f='link[rel="preload"][as="'+Mt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Mt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Mt(s.imageSizes)+'"]')):f+='[href="'+Mt(t)+'"]';var h=f;switch(r){case"style":h=Ls(t);break;case"script":h=zs(t)}Yn.has(h)||(t=b({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Yn.set(h,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(ll(h))||r==="script"&&l.querySelector(ul(h))||(r=l.createElement("link"),nn(r,"link",t),xt(r),l.head.appendChild(r)))}}function b2(t,r){ti.m(t,r);var s=Vs;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(t)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=zs(t)}if(!Yn.has(h)&&(t=b({rel:"modulepreload",href:t},r),Yn.set(h,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ul(h)))return}l=s.createElement("link"),nn(l,"link",t),xt(l),s.head.appendChild(l)}}}function E2(t,r,s){ti.S(t,r,s);var l=Vs;if(l&&t){var f=vn(l).hoistableStyles,h=Ls(t);r=r||"default";var A=f.get(h);if(!A){var N={loading:0,preload:null};if(A=l.querySelector(ll(h)))N.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Yn.get(h))&&dh(t,s);var B=A=l.createElement("link");xt(B),nn(B,"link",t),B._p=new Promise(function(te,le){B.onload=te,B.onerror=le}),B.addEventListener("load",function(){N.loading|=1}),B.addEventListener("error",function(){N.loading|=2}),N.loading|=4,mc(A,r,l)}A={type:"stylesheet",instance:A,count:1,state:N},f.set(h,A)}}}function S2(t,r){ti.X(t,r);var s=Vs;if(s&&t){var l=vn(s).hoistableScripts,f=zs(t),h=l.get(f);h||(h=s.querySelector(ul(f)),h||(t=b({src:t,async:!0},r),(r=Yn.get(f))&&hh(t,r),h=s.createElement("script"),xt(h),nn(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function T2(t,r){ti.M(t,r);var s=Vs;if(s&&t){var l=vn(s).hoistableScripts,f=zs(t),h=l.get(f);h||(h=s.querySelector(ul(f)),h||(t=b({src:t,async:!0,type:"module"},r),(r=Yn.get(f))&&hh(t,r),h=s.createElement("script"),xt(h),nn(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function Sv(t,r,s,l){var f=(f=oe.current)?hc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ls(s.href),s=vn(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ls(s.href);var h=vn(f).hoistableStyles,A=h.get(t);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,A),(h=f.querySelector(ll(t)))&&!h._p&&(A.instance=h,A.state.loading=5),Yn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Yn.set(t,s),h||w2(f,t,s,A.state))),r&&l===null)throw Error(a(528,""));return A}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zs(s),s=vn(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ls(t){return'href="'+Mt(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function Tv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function w2(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),nn(r,"link",s),xt(r),t.head.appendChild(r))}function zs(t){return'[src="'+Mt(t)+'"]'}function ul(t){return"script[async]"+t}function wv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Mt(s.href)+'"]');if(l)return r.instance=l,xt(l),l;var f=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),nn(l,"style",f),mc(l,s.precedence,t),r.instance=l;case"stylesheet":f=Ls(s.href);var h=t.querySelector(ll(f));if(h)return r.state.loading|=4,r.instance=h,xt(h),h;l=Tv(s),(f=Yn.get(f))&&dh(l,f),h=(t.ownerDocument||t).createElement("link"),xt(h);var A=h;return A._p=new Promise(function(N,B){A.onload=N,A.onerror=B}),nn(h,"link",l),r.state.loading|=4,mc(h,s.precedence,t),r.instance=h;case"script":return h=zs(s.src),(f=t.querySelector(ul(h)))?(r.instance=f,xt(f),f):(l=s,(f=Yn.get(h))&&(l=b({},s),hh(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),nn(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,mc(l,s.precedence,t));return r.instance}function mc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,A=0;A<l.length;A++){var N=l[A];if(N.dataset.precedence===r)h=N;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function dh(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function hh(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var pc=null;function Av(t,r,s){if(pc===null){var l=new Map,f=pc=new Map;f.set(s,l)}else f=pc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var h=s[f];if(!(h[ia]||h[zt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var A=h.getAttribute(r)||"";A=t+A;var N=l.get(A);N?N.push(h):l.set(A,[h])}}return l}function Rv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function A2(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cl=null;function R2(){}function x2(t,r,s){if(cl===null)throw Error(a(475));var l=cl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ls(s.href),h=t.querySelector(ll(f));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=gc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=h,xt(h);return}h=t.ownerDocument||t,s=Tv(s),(f=Yn.get(f))&&dh(s,f),h=h.createElement("link"),xt(h);var A=h;A._p=new Promise(function(N,B){A.onload=N,A.onerror=B}),nn(h,"link",s),r.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=gc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function C2(){if(cl===null)throw Error(a(475));var t=cl;return t.stylesheets&&t.count===0&&mh(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function gc(){if(this.count--,this.count===0){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function mh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,r.forEach(O2,t),yc=null,gc.call(t))}function O2(t,r){if(!(r.state.loading&4)){var s=yc.get(t);if(s)var l=s.get(null);else{s=new Map,yc.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var A=f[h];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),l=A)}l&&s.set(null,l)}f=r.instance,A=f.getAttribute("data-precedence"),h=s.get(A)||l,h===l&&s.set(null,f),s.set(A,f),this.count++,l=gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var fl={$$typeof:se,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function N2(t,r,s,l,f,h,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Cv(t,r,s,l,f,h,A,N,B,te,le,fe){return t=new N2(t,r,s,A,N,B,te,fe),r=1,h===!0&&(r|=24),h=Nn(3,null,null,r),t.current=h,h.stateNode=t,r=Yf(),r.refCount++,t.pooledCache=r,r.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:r},Jf(h),t}function Ov(t){return t?(t=gs,t):gs}function Nv(t,r,s,l,f,h){f=Ov(f),l.context===null?l.context=f:l.pendingContext=f,l=Si(r),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=Ti(t,l,r),s!==null&&(Pn(s,t,r),Bo(s,t,r))}function Iv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function ph(t,r){Iv(t,r),(t=t.alternate)&&Iv(t,r)}function Dv(t){if(t.tag===13){var r=ps(t,67108864);r!==null&&Pn(r,t,67108864),ph(t,67108864)}}var vc=!0;function I2(t,r,s,l){var f=Q.T;Q.T=null;var h=S.p;try{S.p=2,gh(t,r,s,l)}finally{S.p=h,Q.T=f}}function D2(t,r,s,l){var f=Q.T;Q.T=null;var h=S.p;try{S.p=8,gh(t,r,s,l)}finally{S.p=h,Q.T=f}}function gh(t,r,s,l){if(vc){var f=yh(l);if(f===null)rh(t,r,l,_c,s),jv(t,l);else if(j2(f,t,r,s,l))l.stopPropagation();else if(jv(t,l),r&4&&-1<M2.indexOf(t)){for(;f!==null;){var h=ur(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var A=Jn(h.pendingLanes);if(A!==0){var N=h;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var B=1<<31-un(A);N.entanglements[1]|=B,A&=~B}Tr(h),(rt&6)===0&&(nc=xe()+500,il(0))}}break;case 13:N=ps(h,2),N!==null&&Pn(N,h,2),ic(),ph(h,2)}if(h=yh(l),h===null&&rh(t,r,l,_c,s),h===f)break;f=h}f!==null&&l.stopPropagation()}else rh(t,r,l,null,s)}}function yh(t){return t=Un(t),vh(t)}var _c=null;function vh(t){if(_c=null,t=Mr(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=d(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return _c=t,null}function Mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case pt:return 2;case gt:return 8;case Rt:case Wn:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var _h=!1,ki=null,Vi=null,Li=null,dl=new Map,hl=new Map,zi=[],M2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jv(t,r){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(r.pointerId)}}function ml(t,r,s,l,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},r!==null&&(r=ur(r),r!==null&&Dv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function j2(t,r,s,l,f){switch(r){case"focusin":return ki=ml(ki,t,r,s,l,f),!0;case"dragenter":return Vi=ml(Vi,t,r,s,l,f),!0;case"mouseover":return Li=ml(Li,t,r,s,l,f),!0;case"pointerover":var h=f.pointerId;return dl.set(h,ml(dl.get(h)||null,t,r,s,l,f)),!0;case"gotpointercapture":return h=f.pointerId,hl.set(h,ml(hl.get(h)||null,t,r,s,l,f)),!0}return!1}function Pv(t){var r=Mr(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=d(s),r!==null){t.blockedOn=r,iu(t.priority,function(){if(s.tag===13){var l=jn();l=hi(l);var f=ps(s,l);f!==null&&Pn(f,s,l),ph(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=yh(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Vr=l,s.target.dispatchEvent(l),Vr=null}else return r=ur(s),r!==null&&Dv(r),t.blockedOn=s,!1;r.shift()}return!0}function kv(t,r,s){bc(t)&&s.delete(r)}function P2(){_h=!1,ki!==null&&bc(ki)&&(ki=null),Vi!==null&&bc(Vi)&&(Vi=null),Li!==null&&bc(Li)&&(Li=null),dl.forEach(kv),hl.forEach(kv)}function Ec(t,r){t.blockedOn===r&&(t.blockedOn=null,_h||(_h=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,P2)))}var Sc=null;function Vv(t){Sc!==t&&(Sc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sc===t&&(Sc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(vh(l||s)===null)continue;break}var h=ur(s);h!==null&&(t.splice(r,3),r-=3,vd(h,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function pl(t){function r(B){return Ec(B,t)}ki!==null&&Ec(ki,t),Vi!==null&&Ec(Vi,t),Li!==null&&Ec(Li,t),dl.forEach(r),hl.forEach(r);for(var s=0;s<zi.length;s++){var l=zi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zi.length&&(s=zi[0],s.blockedOn===null);)Pv(s),s.blockedOn===null&&zi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],h=s[l+1],A=f[Dt]||null;if(typeof h=="function")A||Vv(s);else if(A){var N=null;if(h&&h.hasAttribute("formAction")){if(f=h,A=h[Dt]||null)N=A.formAction;else if(vh(f)!==null)continue}else N=A.action;typeof N=="function"?s[l+1]=N:(s.splice(l,3),l-=3),Vv(s)}}}function bh(t){this._internalRoot=t}Tc.prototype.render=bh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=jn();Nv(s,l,t,r,null,null)},Tc.prototype.unmount=bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Nv(t.current,2,null,t,null,null),ic(),r[Ln]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var r=mi();t={blockedOn:null,target:t,priority:r};for(var s=0;s<zi.length&&r!==0&&r<zi[s].priority;s++);zi.splice(s,0,t),s===0&&Pv(t)}};var Lv=e.version;if(Lv!=="19.1.0")throw Error(a(527,Lv,"19.1.0"));S.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var k2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{yt=wc.inject(k2),Ue=wc}catch{}}return yl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",f=ey,h=ty,A=ny,N=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(N=r.unstable_transitionCallbacks)),r=Cv(t,1,!1,null,null,s,l,f,h,A,N,null),t[Ln]=r.current,nh(t),new bh(r)},yl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,f="",h=ey,A=ty,N=ny,B=null,te=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(B=s.unstable_transitionCallbacks),s.formState!==void 0&&(te=s.formState)),r=Cv(t,1,!0,r,s??null,l,f,h,A,N,B,te),r.context=Ov(null),s=r.current,l=jn(),l=hi(l),f=Si(l),f.callback=null,Ti(s,f,l),s=l,r.current.lanes=s,Dr(r,s),Tr(r),t[Ln]=r.current,nh(t),new Tc(r)},yl.version="19.1.0",yl}var Kv;function $2(){if(Kv)return Th.exports;Kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Th.exports=Q2(),Th.exports}var K2=$2(),vl={},Yv;function Y2(){if(Yv)return vl;Yv=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.parse=d,vl.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,P){const z=new u,V=x.length;if(V<2)return z;const L=(P==null?void 0:P.decode)||b;let H=0;do{const ee=x.indexOf("=",H);if(ee===-1)break;const se=x.indexOf(";",H),he=se===-1?V:se;if(ee>he){H=x.lastIndexOf(";",ee-1)+1;continue}const U=m(x,H,ee),F=g(x,ee,U),O=x.slice(U,F);if(z[O]===void 0){let I=m(x,ee+1,he),R=g(x,he,I);const E=L(x.slice(I,R));z[O]=E}H=he+1}while(H<V);return z}function m(x,P,z){do{const V=x.charCodeAt(P);if(V!==32&&V!==9)return P}while(++P<z);return z}function g(x,P,z){for(;P>z;){const V=x.charCodeAt(--P);if(V!==32&&V!==9)return P+1}return z}function p(x,P,z){const V=(z==null?void 0:z.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const L=V(P);if(!e.test(L))throw new TypeError(`argument val is invalid: ${P}`);let H=x+"="+L;if(!z)return H;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);H+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);H+="; Domain="+z.domain}if(z.path){if(!a.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);H+="; Path="+z.path}if(z.expires){if(!w(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);H+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(H+="; HttpOnly"),z.secure&&(H+="; Secure"),z.partitioned&&(H+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return H}function b(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function w(x){return o.call(x)==="[object Date]"}return vl}Y2();var Xv="popstate";function X2(i={}){function e(a,o){let{pathname:u,search:d,hash:m}=a.location;return Zh("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:jl(o)}return Z2(e,n,null,i)}function Et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ar(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W2(){return Math.random().toString(36).substring(2,10)}function Wv(i,e){return{usr:i.state,key:i.key,idx:e}}function Zh(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||a||W2()}}function jl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function to(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function Z2(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,m="POP",g=null,p=b();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function b(){return(d.state||{idx:null}).idx}function w(){m="POP";let L=b(),H=L==null?null:L-p;p=L,g&&g({action:m,location:V.location,delta:H})}function x(L,H){m="PUSH";let ee=Zh(V.location,L,H);p=b()+1;let se=Wv(ee,p),he=V.createHref(ee);try{d.pushState(se,"",he)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(he)}u&&g&&g({action:m,location:V.location,delta:1})}function P(L,H){m="REPLACE";let ee=Zh(V.location,L,H);p=b();let se=Wv(ee,p),he=V.createHref(ee);d.replaceState(se,"",he),u&&g&&g({action:m,location:V.location,delta:0})}function z(L){return J2(L)}let V={get action(){return m},get location(){return i(o,d)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Xv,w),g=L,()=>{o.removeEventListener(Xv,w),g=null}},createHref(L){return e(o,L)},createURL:z,encodeLocation(L){let H=z(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:x,replace:P,go(L){return d.go(L)}};return V}function J2(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:jl(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function j0(i,e,n="/"){return eS(i,e,n,!1)}function eS(i,e,n,a){let o=typeof e=="string"?to(e):e,u=si(o.pathname||"/",n);if(u==null)return null;let d=P0(i);tS(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let p=dS(u);m=cS(d[g],p,a)}return m}function P0(i,e=[],n=[],a=""){let o=(u,d,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};g.relativePath.startsWith("/")&&(Et(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let p=ii([a,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),P0(u.children,e,b,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:lS(p,u.index),routesMeta:b})};return i.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let g of k0(u.path))o(u,d,g)}),e}function k0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=k0(a.join("/")),m=[];return m.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...d),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function tS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:uS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var nS=/^:[\w-]+$/,rS=3,iS=2,aS=1,sS=10,oS=-2,Zv=i=>i==="*";function lS(i,e){let n=i.split("/"),a=n.length;return n.some(Zv)&&(a+=oS),e&&(a+=iS),n.filter(o=>!Zv(o)).reduce((o,u)=>o+(nS.test(u)?rS:u===""?aS:sS),a)}function uS(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function cS(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",d=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,b=u==="/"?e:e.slice(u.length)||"/",w=qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),x=g.route;if(!w&&p&&n&&!a[a.length-1].route.index&&(w=qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:ii([u,w.pathname]),pathnameBase:gS(ii([u,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(u=ii([u,w.pathnameBase]))}return d}function qc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=fS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:b,isOptional:w},x)=>{if(b==="*"){let z=m[x]||"";d=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const P=m[x];return w&&!P?p[b]=void 0:p[b]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:i}}function fS(i,e=!1,n=!0){ar(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function dS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function si(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function hS(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?to(i):i;return{pathname:n?n.startsWith("/")?n:mS(n,e):e,search:yS(a),hash:vS(o)}}function mS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xh(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V0(i){let e=pS(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function L0(i,e,n,a=!1){let o;typeof i=="string"?o=to(i):(o={...i},Et(!o.pathname||!o.pathname.includes("?"),xh("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),xh("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),xh("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let w=e.length-1;if(!a&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),w-=1;o.pathname=x.join("/")}m=w>=0?e[w]:"/"}let g=hS(o,m),p=d&&d!=="/"&&d.endsWith("/"),b=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}var ii=i=>i.join("/").replace(/\/\/+/g,"/"),gS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),yS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,vS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function _S(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var z0=["POST","PUT","PATCH","DELETE"];new Set(z0);var bS=["GET",...z0];new Set(bS);var no=q.createContext(null);no.displayName="DataRouter";var nf=q.createContext(null);nf.displayName="DataRouterState";var U0=q.createContext({isTransitioning:!1});U0.displayName="ViewTransition";var ES=q.createContext(new Map);ES.displayName="Fetchers";var SS=q.createContext(null);SS.displayName="Await";var Nr=q.createContext(null);Nr.displayName="Navigation";var Ql=q.createContext(null);Ql.displayName="Location";var fi=q.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var xm=q.createContext(null);xm.displayName="RouteError";function TS(i,{relative:e}={}){Et($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=q.useContext(Nr),{hash:o,pathname:u,search:d}=Kl(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ii([n,u])),a.createHref({pathname:m,search:d,hash:o})}function $l(){return q.useContext(Ql)!=null}function Xi(){return Et($l(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Ql).location}var B0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q0(i){q.useContext(Nr).static||q.useLayoutEffect(i)}function Cm(){let{isDataRoute:i}=q.useContext(fi);return i?kS():wS()}function wS(){Et($l(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(no),{basename:e,navigator:n}=q.useContext(Nr),{matches:a}=q.useContext(fi),{pathname:o}=Xi(),u=JSON.stringify(V0(a)),d=q.useRef(!1);return q0(()=>{d.current=!0}),q.useCallback((g,p={})=>{if(ar(d.current,B0),!d.current)return;if(typeof g=="number"){n.go(g);return}let b=L0(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ii([e,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[e,n,u,o,i])}q.createContext(null);function Kl(i,{relative:e}={}){let{matches:n}=q.useContext(fi),{pathname:a}=Xi(),o=JSON.stringify(V0(n));return q.useMemo(()=>L0(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function AS(i,e){return H0(i,e)}function H0(i,e,n,a){var H;Et($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(Nr),{matches:u}=q.useContext(fi),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",p=d?d.pathnameBase:"/",b=d&&d.route;{let ee=b&&b.path||"";F0(g,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let w=Xi(),x;if(e){let ee=typeof e=="string"?to(e):e;Et(p==="/"||((H=ee.pathname)==null?void 0:H.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),x=ee}else x=w;let P=x.pathname||"/",z=P;if(p!=="/"){let ee=p.replace(/^\//,"").split("/");z="/"+P.replace(/^\//,"").split("/").slice(ee.length).join("/")}let V=j0(i,{pathname:z});ar(b||V!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ar(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=NS(V&&V.map(ee=>Object.assign({},ee,{params:Object.assign({},m,ee.params),pathname:ii([p,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?p:ii([p,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),u,n,a);return e&&L?q.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},L):L}function RS(){let i=PS(),e=_S(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,d)}var xS=q.createElement(RS,null),CS=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(fi.Provider,{value:this.props.routeContext},q.createElement(xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OS({routeContext:i,match:e,children:n}){let a=q.useContext(no);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(fi.Provider,{value:i},n)}function NS(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:b,errors:w}=n,x=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||x){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,b)=>{let w,x=!1,P=null,z=null;n&&(w=u&&p.route.id?u[p.route.id]:void 0,P=p.route.errorElement||xS,d&&(m<0&&b===0?(F0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,z=null):m===b&&(x=!0,z=p.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,b+1)),L=()=>{let H;return w?H=P:x?H=z:p.route.Component?H=q.createElement(p.route.Component,null):p.route.element?H=p.route.element:H=g,q.createElement(OS,{match:p,routeContext:{outlet:g,matches:V,isDataRoute:n!=null},children:H})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?q.createElement(CS,{location:n.location,revalidation:n.revalidation,component:P,error:w,children:L(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):L()},null)}function Om(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IS(i){let e=q.useContext(no);return Et(e,Om(i)),e}function DS(i){let e=q.useContext(nf);return Et(e,Om(i)),e}function MS(i){let e=q.useContext(fi);return Et(e,Om(i)),e}function Nm(i){let e=MS(i),n=e.matches[e.matches.length-1];return Et(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function jS(){return Nm("useRouteId")}function PS(){var a;let i=q.useContext(xm),e=DS("useRouteError"),n=Nm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function kS(){let{router:i}=IS("useNavigate"),e=Nm("useNavigate"),n=q.useRef(!1);return q0(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{ar(n.current,B0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Jv={};function F0(i,e,n){!e&&!Jv[i]&&(Jv[i]=!0,ar(!1,n))}q.memo(VS);function VS({routes:i,future:e,state:n}){return H0(i,void 0,n,e)}function ni(i){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LS({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Et(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=to(n));let{pathname:g="/",search:p="",hash:b="",state:w=null,key:x="default"}=n,P=q.useMemo(()=>{let z=si(g,d);return z==null?null:{location:{pathname:z,search:p,hash:b,state:w,key:x},navigationType:a}},[d,g,p,b,w,x,a]);return ar(P!=null,`<Router basename="${d}"> is not able to match the URL "${g}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:q.createElement(Nr.Provider,{value:m},q.createElement(Ql.Provider,{children:e,value:P}))}function zS({children:i,location:e}){return AS(Jh(i),e)}function Jh(i,e=[]){let n=[];return q.Children.forEach(i,(a,o)=>{if(!q.isValidElement(a))return;let u=[...e,o];if(a.type===q.Fragment){n.push.apply(n,Jh(a.props.children,u));return}Et(a.type===ni,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Jh(a.props.children,u)),n.push(d)}),n}var Mc="get",jc="application/x-www-form-urlencoded";function rf(i){return i!=null&&typeof i.tagName=="string"}function US(i){return rf(i)&&i.tagName.toLowerCase()==="button"}function BS(i){return rf(i)&&i.tagName.toLowerCase()==="form"}function qS(i){return rf(i)&&i.tagName.toLowerCase()==="input"}function HS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function FS(i,e){return i.button===0&&(!e||e==="_self")&&!HS(i)}function em(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let a=i[n];return e.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function GS(i,e){let n=em(i);return e&&e.forEach((a,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Rc=null;function QS(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var $S=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ch(i){return i!=null&&!$S.has(i)?(ar(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):i}function KS(i,e){let n,a,o,u,d;if(BS(i)){let m=i.getAttribute("action");a=m?si(m,e):null,n=i.getAttribute("method")||Mc,o=Ch(i.getAttribute("enctype"))||jc,u=new FormData(i)}else if(US(i)||qS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?si(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Mc,o=Ch(i.getAttribute("formenctype"))||Ch(m.getAttribute("enctype"))||jc,u=new FormData(m,i),!QS()){let{name:p,type:b,value:w}=i;if(b==="image"){let x=p?`${p}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else p&&u.append(p,w)}}else{if(rf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mc,a=null,o=jc,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}function Im(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function YS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function WS(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await YS(u,n);return d.links?d.links():[]}return[]}));return tT(a.flat(1).filter(XS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function e_(i,e,n,a,o,u){let d=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var b;return n[p].pathname!==g.pathname||((b=n[p].route.path)==null?void 0:b.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>d(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var w;let b=a.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(d(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ZS(i,e,{includeHydrateFallback:n}={}){return JS(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JS(i){return[...new Set(i)]}function eT(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function tT(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(eT(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nT=new Set([100,101,204,205]);function rT(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&si(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function G0(){let i=q.useContext(no);return Im(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function iT(){let i=q.useContext(nf);return Im(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dm=q.createContext(void 0);Dm.displayName="FrameworkContext";function Q0(){let i=q.useContext(Dm);return Im(i,"You must render this element inside a <HydratedRouter> element"),i}function aT(i,e){let n=q.useContext(Dm),[a,o]=q.useState(!1),[u,d]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:b,onTouchStart:w}=e,x=q.useRef(null);q.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let V=H=>{H.forEach(ee=>{d(ee.isIntersecting)})},L=new IntersectionObserver(V,{threshold:.5});return x.current&&L.observe(x.current),()=>{L.disconnect()}}},[i]),q.useEffect(()=>{if(a){let V=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(V)}}},[a]);let P=()=>{o(!0)},z=()=>{o(!1),d(!1)};return n?i!=="intent"?[u,x,{}]:[u,x,{onFocus:_l(m,P),onBlur:_l(g,z),onMouseEnter:_l(p,P),onMouseLeave:_l(b,z),onTouchStart:_l(w,P)}]:[!1,x,{}]}function _l(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function sT({page:i,...e}){let{router:n}=G0(),a=q.useMemo(()=>j0(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?q.createElement(lT,{page:i,matches:a,...e}):null}function oT(i){let{manifest:e,routeModules:n}=Q0(),[a,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return WS(i,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,n]),a}function lT({page:i,matches:e,...n}){let a=Xi(),{manifest:o,routeModules:u}=Q0(),{basename:d}=G0(),{loaderData:m,matches:g}=iT(),p=q.useMemo(()=>e_(i,e,g,o,a,"data"),[i,e,g,o,a]),b=q.useMemo(()=>e_(i,e,g,o,a,"assets"),[i,e,g,o,a]),w=q.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let z=new Set,V=!1;if(e.forEach(H=>{var se;let ee=o.routes[H.route.id];!ee||!ee.hasLoader||(!p.some(he=>he.route.id===H.route.id)&&H.route.id in m&&((se=u[H.route.id])!=null&&se.shouldRevalidate)||ee.hasClientLoader?V=!0:z.add(H.route.id))}),z.size===0)return[];let L=rT(i,d);return V&&z.size>0&&L.searchParams.set("_routes",e.filter(H=>z.has(H.route.id)).map(H=>H.route.id).join(",")),[L.pathname+L.search]},[d,m,a,o,p,e,i,u]),x=q.useMemo(()=>ZS(b,o),[b,o]),P=oT(b);return q.createElement(q.Fragment,null,w.map(z=>q.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),x.map(z=>q.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),P.map(({key:z,link:V})=>q.createElement("link",{key:z,...V})))}function uT(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$0&&(window.__reactRouterVersion="7.6.2")}catch{}function cT({basename:i,children:e,window:n}){let a=q.useRef();a.current==null&&(a.current=X2({window:n,v5Compat:!0}));let o=a.current,[u,d]=q.useState({action:o.action,location:o.location}),m=q.useCallback(g=>{q.startTransition(()=>d(g))},[d]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(LS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var K0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=q.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:m,target:g,to:p,preventScrollReset:b,viewTransition:w,...x},P){let{basename:z}=q.useContext(Nr),V=typeof p=="string"&&K0.test(p),L,H=!1;if(typeof p=="string"&&V&&(L=p,$0))try{let R=new URL(window.location.href),E=p.startsWith("//")?new URL(R.protocol+p):new URL(p),M=si(E.pathname,z);E.origin===R.origin&&M!=null?p=M+E.search+E.hash:H=!0}catch{ar(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=TS(p,{relative:o}),[se,he,U]=aT(a,x),F=mT(p,{replace:d,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:w});function O(R){e&&e(R),R.defaultPrevented||F(R)}let I=q.createElement("a",{...x,...U,href:L||ee,onClick:H||u?e:O,ref:uT(P,he),target:g,"data-discover":!V&&n==="render"?"true":void 0});return se&&!V?q.createElement(q.Fragment,null,I,q.createElement(sT,{page:ee})):I});sn.displayName="Link";var fT=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:m,children:g,...p},b){let w=Kl(d,{relative:p.relative}),x=Xi(),P=q.useContext(nf),{navigator:z,basename:V}=q.useContext(Nr),L=P!=null&&_T(w)&&m===!0,H=z.encodeLocation?z.encodeLocation(w).pathname:w.pathname,ee=x.pathname,se=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),se=se?se.toLowerCase():null,H=H.toLowerCase()),se&&V&&(se=si(se,V)||se);const he=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let U=ee===H||!o&&ee.startsWith(H)&&ee.charAt(he)==="/",F=se!=null&&(se===H||!o&&se.startsWith(H)&&se.charAt(H.length)==="/"),O={isActive:U,isPending:F,isTransitioning:L},I=U?e:void 0,R;typeof a=="function"?R=a(O):R=[a,U?"active":null,F?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let E=typeof u=="function"?u(O):u;return q.createElement(sn,{...p,"aria-current":I,className:R,ref:b,style:E,to:d,viewTransition:m},typeof g=="function"?g(O):g)});fT.displayName="NavLink";var dT=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=Mc,action:m,onSubmit:g,relative:p,preventScrollReset:b,viewTransition:w,...x},P)=>{let z=yT(),V=vT(m,{relative:p}),L=d.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&K0.test(m),ee=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let he=se.nativeEvent.submitter,U=(he==null?void 0:he.getAttribute("formmethod"))||d;z(he||se.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:o,state:u,relative:p,preventScrollReset:b,viewTransition:w})};return q.createElement("form",{ref:P,method:L,action:V,onSubmit:a?g:ee,...x,"data-discover":!H&&i==="render"?"true":void 0})});dT.displayName="Form";function hT(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y0(i){let e=q.useContext(no);return Et(e,hT(i)),e}function mT(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=Cm(),g=Xi(),p=Kl(i,{relative:u});return q.useCallback(b=>{if(FS(b,e)){b.preventDefault();let w=n!==void 0?n:jl(g)===jl(p);m(i,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[g,m,p,n,a,e,i,o,u,d])}function ro(i){ar(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(em(i)),n=q.useRef(!1),a=Xi(),o=q.useMemo(()=>GS(a.search,n.current?null:e.current),[a.search]),u=Cm(),d=q.useCallback((m,g)=>{const p=em(typeof m=="function"?m(o):m);n.current=!0,u("?"+p,g)},[u,o]);return[o,d]}var pT=0,gT=()=>`__${String(++pT)}__`;function yT(){let{router:i}=Y0("useSubmit"),{basename:e}=q.useContext(Nr),n=jS();return q.useCallback(async(a,o={})=>{let{action:u,method:d,encType:m,formData:g,body:p}=KS(a,e);if(o.navigate===!1){let b=o.fetcherKey||gT();await i.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function vT(i,{relative:e}={}){let{basename:n}=q.useContext(Nr),a=q.useContext(fi);Et(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Kl(i||".",{relative:e})},d=Xi();if(i==null){u.search=d.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ii([n,u.pathname])),jl(u)}function _T(i,e={}){let n=q.useContext(U0);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Y0("useViewTransitionState"),o=Kl(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=si(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=si(n.nextLocation.pathname,a)||n.nextLocation.pathname;return qc(o.pathname,d)!=null||qc(o.pathname,u)!=null}[...nT];const X0="https://juanmaacampos.github.io/shop_template/assets/Anthony%20logo-iI5FAlFq.svg",bT=()=>{const i=q.useRef(null),e=q.useRef(null),n=q.useRef(null),a=q.useRef(null),o=()=>{document.getElementById("menu").scrollIntoView({behavior:"smooth"})};return y.jsxs("header",{ref:i,className:"header",id:"home",children:[y.jsx("div",{className:"header-bg"}),y.jsx("div",{className:"container",children:y.jsx("div",{className:"header-content",children:y.jsxs("div",{className:"header-left",children:[y.jsx("img",{ref:e,className:"header-logo",src:X0,alt:"Anthony Logo"}),y.jsx("p",{ref:n,className:"header-subtitle",children:"Hamburguesas Artesanales"}),y.jsx("button",{ref:a,className:"btn-primary header-cta",onClick:o,children:"Ver Menu"})]})})})]})};var W0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t_=za.createContext&&za.createContext(W0),Hi=function(){return Hi=Object.assign||function(i){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Hi.apply(this,arguments)},ET=function(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n};function Z0(i){return i&&i.map(function(e,n){return za.createElement(e.tag,Hi({key:n},e.attr),Z0(e.child))})}function nt(i){return function(e){return za.createElement(ST,Hi({attr:Hi({},i.attr)},e),Z0(i.child))}}function ST(i){var e=function(n){var a=i.attr,o=i.size,u=i.title,d=ET(i,["attr","size","title"]),m=o||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),za.createElement("svg",Hi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,d,{className:g,style:Hi(Hi({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&za.createElement("title",null,u),i.children)};return t_!==void 0?za.createElement(t_.Consumer,null,function(n){return e(n)}):e(W0)}function TT(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(i)}function J0(i){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(i)}function wT(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(i)}function e1(i){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(i)}function Oh(i){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(i)}function AT(i){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(i)}function t1(i){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"}}]})(i)}function n1(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(i)}function RT(i){return nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(i)}function xT(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(i)}function CT(i){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(i)}function r1(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(i)}function OT(i){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(i)}function i1(i){return nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"}}]})(i)}function NT(i){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(i)}function Mm(i){return nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(i)}function IT(i){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(i)}function DT(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(i)}function MT(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(i)}function jT(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(i)}function PT(i){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"}}]})(i)}function kT(i){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"}}]})(i)}function Pl(i){return nt({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"}}]})(i)}function VT(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"}}]})(i)}function a1(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(i)}function LT(i){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(i)}function zT(i){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(i)}function UT(i){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"}}]})(i)}function BT(i){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(i)}function s1(i){return nt({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"}}]})(i)}const qT=()=>y.jsx("footer",{className:"footer",children:y.jsxs("div",{className:"container",children:[y.jsxs("div",{className:"footer-content",children:[y.jsxs("div",{className:"footer-brand",children:[y.jsx("h3",{children:"ANTHONY BURGER"}),y.jsx("p",{children:"Las mejores hamburguesas artesanales"})]}),y.jsxs("div",{className:"footer-social",children:[y.jsx("h4",{children:"Seguinos:"}),y.jsxs("div",{className:"social-links",children:[y.jsx("a",{href:"#",className:"social-link",children:y.jsx(J0,{})}),y.jsx("a",{href:"#",className:"social-link",children:y.jsx(TT,{})}),y.jsx("a",{href:"#",className:"social-link",children:y.jsx(wT,{})}),y.jsx("a",{href:"#",className:"social-link",children:y.jsx(e1,{})})]})]}),y.jsxs("div",{className:"footer-contact",children:[y.jsx("h4",{children:"Contacto"}),y.jsx("p",{children:"Av. Principal 123"}),y.jsx("p",{children:"+54 11 1234-5678"}),y.jsx("p",{children:"info@anthonyburger.com"})]})]}),y.jsx("div",{className:"footer-bottom",children:y.jsxs("p",{children:[" 2025 ANTHONY BURGER. Creado por ",y.jsx("a",{href:"https://jmcdev.site",target:"_blank",rel:"noopener noreferrer",children:"JMCDEV"}),"."]})})]})}),HT="modulepreload",FT=function(i){return"https://juanmaacampos.github.io/shop_template/"+i},n_={},kl=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=d(n.map(p=>{if(p=FT(p),p in n_)return;n_[p]=!0;const b=p.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const x=document.createElement("link");if(x.rel=b?"stylesheet":HT,b||(x.as="script"),x.crossOrigin="",x.href=p,g&&x.setAttribute("nonce",g),document.head.appendChild(x),b)return new Promise((P,z)=>{x.addEventListener("load",P),x.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};function GT(i){const[e,n]=q.useState(null),[a,o]=q.useState(null),[u,d]=q.useState([]),[m,g]=q.useState(!0),[p,b]=q.useState(null);return q.useEffect(()=>{async function w(){try{g(!0),b(null);const[x,P]=await Promise.all([i.getBusinessInfo(),i.getFullMenu()]);n(x),o(x),d(P)}catch(x){b(x.message),console.error("Error loading menu:",x)}finally{g(!1)}}i&&w()},[i]),{business:e,restaurant:a,menu:u,loading:m,error:p}}function QT(){const i=()=>{try{const p=localStorage.getItem("cartItems");if(p)return JSON.parse(p)}catch{}return[]},[e,n]=q.useState(i);q.useEffect(()=>{try{localStorage.setItem("cartItems",JSON.stringify(e))}catch{}},[e]);const a=(p,b=1)=>{p.trackStock&&typeof p.stock=="number"?n(w=>{const x=w.find(V=>V.id===p.id),z=(x?x.quantity:0)+b;return z>p.stock?(alert(`Stock insuficiente. Solo quedan ${p.stock} unidades disponibles.`),w):x?w.map(V=>V.id===p.id?{...V,quantity:z}:V):[...w,{...p,quantity:b}]}):n(w=>w.find(P=>P.id===p.id)?w.map(P=>P.id===p.id?{...P,quantity:P.quantity+b}:P):[...w,{...p,quantity:b}])},o=p=>{n(b=>b.filter(w=>w.id!==p))},u=(p,b)=>{if(b<=0){o(p);return}n(w=>w.map(x=>x.id===p?x.trackStock&&typeof x.stock=="number"&&b>x.stock?(alert(`Stock insuficiente. Solo quedan ${x.stock} unidades disponibles.`),x):{...x,quantity:b}:x))},d=()=>{n([])},m=e.reduce((p,b)=>{const w=typeof b.price=="number"?b.price:parseFloat(b.price)||0,x=typeof b.quantity=="number"?b.quantity:parseInt(b.quantity)||0;return p+w*x},0),g=e.reduce((p,b)=>{const w=typeof b.quantity=="number"?b.quantity:parseInt(b.quantity)||0;return p+w},0);return{cart:e,addToCart:a,removeFromCart:o,updateQuantity:u,clearCart:d,cartTotal:m,cartCount:g,total:m,itemCount:g}}function $T(i){const[e,n]=q.useState({});return q.useEffect(()=>{n(i==="store"?{businessName:"Tienda",menuName:"catlogo",menuNameCapitalized:"Catlogo",itemType:"producto",itemTypeCapitalized:"Producto",itemTypePlural:"productos",itemTypePluralCapitalized:"Productos",itemSingular:"producto",items:"productos",categoryType:"categora",orderType:"orden de compra",orderTypeCapitalized:"Orden de Compra",addToCart:"Agregar al Carrito",viewCatalog:"Ver Catlogo",viewProducts:"Ver Productos",featuredProducts:"Productos Destacados",allProducts:"Todos los Productos",productDetails:"Detalles del Producto",orderSummary:"Resumen de Compra",placeOrder:"Realizar Pedido",serviceOptions:{delivery:"Envo a domicilio",pickup:"Retiro en tienda",shipping:"Envo postal"}}:{businessName:"Restaurante",menuName:"men",menuNameCapitalized:"Men",itemType:"plato",itemTypeCapitalized:"Plato",itemTypePlural:"platos",itemTypePluralCapitalized:"Platos",itemSingular:"plato",items:"platos",categoryType:"categora",orderType:"pedido",orderTypeCapitalized:"Pedido",addToCart:"Agregar al Pedido",viewCatalog:"Ver Men",viewProducts:"Ver Platos",featuredProducts:"Platos Destacados",allProducts:"Todos los Platos",productDetails:"Detalles del Plato",orderSummary:"Resumen del Pedido",placeOrder:"Realizar Pedido",serviceOptions:{dineIn:"Comer en el local",takeaway:"Para llevar",delivery:"Delivery"}})},[i]),e}function o1(i){var a;const e=GT(i),n=$T((a=e.business)==null?void 0:a.businessType);return{...e,terminology:n}}function l1(i,e={enabled:!0}){const[n,a]=q.useState(null),[o,u]=q.useState(null);q.useEffect(()=>{i&&e.enabled&&kl(async()=>{const{createMenuSDK:b}=await Promise.resolve().then(()=>MC);return{createMenuSDK:b}},[]).then(({createMenuSDK:b})=>{const w=b(i.firebaseConfig,i.businessId);a(w),w.initialize().then(()=>{u(w.firebaseManager)}).catch(x=>{console.warn(" Failed to initialize SDK for firebaseManager:",x)})})},[i,e.enabled]);const d=o1(n),m=QT(),g=typeof m.cartTotal=="number"?m.cartTotal:0,p=typeof m.cartCount=="number"?m.cartCount:0;return{...d,...m,menuSDK:n,firebaseManager:o,total:g,itemCount:p,cartTotal:g,cartCount:p}}var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},KT=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],d=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},c1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,m=d?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,b=u>>2,w=(u&3)<<4|m>>4;let x=(m&15)<<2|p>>6,P=p&63;g||(P=64,d||(x=64)),a.push(n[b],n[w],n[x],n[P])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(u1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):KT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new YT;const x=u<<2|m>>4;if(a.push(x),p!==64){const P=m<<4&240|p>>2;if(a.push(P),w!==64){const z=p<<6&192|w;a.push(z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class YT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XT=function(i){const e=u1(i);return c1.encodeByteArray(e,!0)},Hc=function(i){return XT(i).replace(/\./g,"")},WT=function(i){try{return c1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=()=>ZT().__FIREBASE_DEFAULTS__,ew=()=>{if(typeof process>"u"||typeof r_>"u")return;const i=r_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&WT(i[1]);return e&&JSON.parse(e)},jm=()=>{try{return JT()||ew()||tw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nw=i=>{var e,n;return(n=(e=jm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Pm=i=>{const e=nw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},f1=()=>{var i;return(i=jm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Hc(JSON.stringify(n)),Hc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aw(){var i;const e=(i=jm())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sw(){return!aw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ow(){try{return typeof indexedDB=="object"}catch{return!1}}function lw(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="FirebaseError";class Wi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=uw,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h1.prototype.create)}}class h1{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?cw(u,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Wi(o,m,a)}}function cw(i,e){return i.replace(fw,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const fw=/\{\$([^}]+)}/g;function tm(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],d=e[o];if(i_(u)&&i_(d)){if(!tm(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function i_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(i){return i&&i._delegate?i._delegate:i}class qa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new rw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mw(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&d.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hw(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hw(i){return i===Va?void 0:i}function mw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(We||(We={}));const gw={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},yw=We.INFO,vw={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},_w=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=vw[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class m1{constructor(e){this.name=e,this._logLevel=yw,this._logHandler=_w,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const bw=(i,e)=>e.some(n=>i instanceof n);let a_,s_;function Ew(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sw(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,nm=new WeakMap,g1=new WeakMap,Nh=new WeakMap,km=new WeakMap;function Tw(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(Fi(i.result)),o()},d=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&p1.set(n,i)}).catch(()=>{}),km.set(e,i),e}function ww(i){if(nm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});nm.set(i,e)}let rm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return nm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||g1.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Aw(i){rm=i(rm)}function Rw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Ih(this),e,...n);return g1.set(a,e.sort?e.sort():[e]),Fi(a)}:Sw().includes(i)?function(...e){return i.apply(Ih(this),e),Fi(p1.get(this))}:function(...e){return Fi(i.apply(Ih(this),e))}}function xw(i){return typeof i=="function"?Rw(i):(i instanceof IDBTransaction&&ww(i),bw(i,Ew())?new Proxy(i,rm):i)}function Fi(i){if(i instanceof IDBRequest)return Tw(i);if(Nh.has(i))return Nh.get(i);const e=xw(i);return e!==i&&(Nh.set(i,e),km.set(e,i)),e}const Ih=i=>km.get(i);function Cw(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),m=Fi(d);return a&&d.addEventListener("upgradeneeded",g=>{a(Fi(d.result),g.oldVersion,g.newVersion,Fi(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Ow=["get","getKey","getAll","getAllKeys","count"],Nw=["put","add","delete","clear"],Dh=new Map;function o_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Dh.get(e))return Dh.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Nw.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Ow.includes(n)))return;const u=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Dh.set(e,u),u}Aw(i=>({...i,get:(e,n,a)=>o_(e,n)||i.get(e,n,a),has:(e,n)=>!!o_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dw(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Dw(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",l_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new m1("@firebase/app"),Mw="@firebase/app-compat",jw="@firebase/analytics-compat",Pw="@firebase/analytics",kw="@firebase/app-check-compat",Vw="@firebase/app-check",Lw="@firebase/auth",zw="@firebase/auth-compat",Uw="@firebase/database",Bw="@firebase/data-connect",qw="@firebase/database-compat",Hw="@firebase/functions",Fw="@firebase/functions-compat",Gw="@firebase/installations",Qw="@firebase/installations-compat",$w="@firebase/messaging",Kw="@firebase/messaging-compat",Yw="@firebase/performance",Xw="@firebase/performance-compat",Ww="@firebase/remote-config",Zw="@firebase/remote-config-compat",Jw="@firebase/storage",eA="@firebase/storage-compat",tA="@firebase/firestore",nA="@firebase/vertexai-preview",rA="@firebase/firestore-compat",iA="firebase",aA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc="[DEFAULT]",sA={[im]:"fire-core",[Mw]:"fire-core-compat",[Pw]:"fire-analytics",[jw]:"fire-analytics-compat",[Vw]:"fire-app-check",[kw]:"fire-app-check-compat",[Lw]:"fire-auth",[zw]:"fire-auth-compat",[Uw]:"fire-rtdb",[Bw]:"fire-data-connect",[qw]:"fire-rtdb-compat",[Hw]:"fire-fn",[Fw]:"fire-fn-compat",[Gw]:"fire-iid",[Qw]:"fire-iid-compat",[$w]:"fire-fcm",[Kw]:"fire-fcm-compat",[Yw]:"fire-perf",[Xw]:"fire-perf-compat",[Ww]:"fire-rc",[Zw]:"fire-rc-compat",[Jw]:"fire-gcs",[eA]:"fire-gcs-compat",[tA]:"fire-fst",[rA]:"fire-fst-compat",[nA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Map,am=new Map,sm=new Map;function u_(i,e){try{i.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Gs(i){const e=i.name;if(sm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,i);for(const n of Ha.values())u_(n,i);for(const n of am.values())u_(n,i);return!0}function af(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function oA(i,e,n=Fc){af(i,e).clearInstance(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new h1("app","Firebase",lA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=aA;function v1(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Fc,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(n||(n=f1()),!n)throw Gi.create("no-options");const u=Ha.get(o);if(u){if(tm(n,u.options)&&tm(a,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const d=new pw(o);for(const g of sm.values())d.addComponent(g);const m=new uA(n,a,d);return Ha.set(o,m),m}function Vm(i=Fc){const e=Ha.get(i);if(!e&&i===Fc&&f1())return v1();if(!e)throw Gi.create("no-app",{appName:i});return e}function cA(){return Array.from(Ha.values())}async function c_(i){let e=!1;const n=i.name;Ha.has(n)?(e=!0,Ha.delete(n)):am.has(n)&&i.decRefCount()<=0&&(am.delete(n),e=!0),e&&(await Promise.all(i.container.getProviders().map(a=>a.delete())),i.isDeleted=!0)}function wr(i,e,n){var a;let o=(a=sA[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(m.join(" "));return}Gs(new qa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebase-heartbeat-database",dA=1,Vl="firebase-heartbeat-store";let Mh=null;function _1(){return Mh||(Mh=Cw(fA,dA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Gi.create("idb-open",{originalErrorMessage:i.message})})),Mh}async function hA(i){try{const n=(await _1()).transaction(Vl),a=await n.objectStore(Vl).get(b1(i));return await n.done,a}catch(e){if(e instanceof Wi)oi.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function f_(i,e){try{const a=(await _1()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(e,b1(i)),await a.done}catch(n){if(n instanceof Wi)oi.warn(n.message);else{const a=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(a.message)}}}function b1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1024,pA=30*24*60*60*1e3;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=d_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=pA}),this._storage.overwrite(this._heartbeatsCache))}catch(a){oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d_(),{heartbeatsToSend:a,unsentEntries:o}=yA(this._heartbeatsCache.heartbeats),u=Hc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return oi.warn(n),""}}}function d_(){return new Date().toISOString().substring(0,10)}function yA(i,e=mA){const n=[];let a=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),h_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),h_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class vA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ow()?lw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function h_(i){return Hc(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(i){Gs(new qa("platform-logger",e=>new Iw(e),"PRIVATE")),Gs(new qa("heartbeat",e=>new gA(e),"PRIVATE")),wr(im,l_,i),wr(im,l_,"esm2017"),wr("fire-js","")}_A("");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ua,E1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function R(){}R.prototype=I.prototype,O.D=I.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(E,M,k){for(var C=Array(arguments.length-2),W=2;W<arguments.length;W++)C[W-2]=arguments[W];return I.prototype[M].apply(E,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,I,R){R||(R=0);var E=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)E[M]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(M=0;16>M;++M)E[M]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=O.g[0],R=O.g[1],M=O.g[2];var k=O.g[3],C=I+(k^R&(M^k))+E[0]+3614090360&4294967295;I=R+(C<<7&4294967295|C>>>25),C=k+(M^I&(R^M))+E[1]+3905402710&4294967295,k=I+(C<<12&4294967295|C>>>20),C=M+(R^k&(I^R))+E[2]+606105819&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(I^M&(k^I))+E[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=I+(k^R&(M^k))+E[4]+4118548399&4294967295,I=R+(C<<7&4294967295|C>>>25),C=k+(M^I&(R^M))+E[5]+1200080426&4294967295,k=I+(C<<12&4294967295|C>>>20),C=M+(R^k&(I^R))+E[6]+2821735955&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(I^M&(k^I))+E[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=I+(k^R&(M^k))+E[8]+1770035416&4294967295,I=R+(C<<7&4294967295|C>>>25),C=k+(M^I&(R^M))+E[9]+2336552879&4294967295,k=I+(C<<12&4294967295|C>>>20),C=M+(R^k&(I^R))+E[10]+4294925233&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(I^M&(k^I))+E[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=I+(k^R&(M^k))+E[12]+1804603682&4294967295,I=R+(C<<7&4294967295|C>>>25),C=k+(M^I&(R^M))+E[13]+4254626195&4294967295,k=I+(C<<12&4294967295|C>>>20),C=M+(R^k&(I^R))+E[14]+2792965006&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(I^M&(k^I))+E[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=I+(M^k&(R^M))+E[1]+4129170786&4294967295,I=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(I^R))+E[6]+3225465664&4294967295,k=I+(C<<9&4294967295|C>>>23),C=M+(I^R&(k^I))+E[11]+643717713&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^I&(M^k))+E[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=I+(M^k&(R^M))+E[5]+3593408605&4294967295,I=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(I^R))+E[10]+38016083&4294967295,k=I+(C<<9&4294967295|C>>>23),C=M+(I^R&(k^I))+E[15]+3634488961&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^I&(M^k))+E[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=I+(M^k&(R^M))+E[9]+568446438&4294967295,I=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(I^R))+E[14]+3275163606&4294967295,k=I+(C<<9&4294967295|C>>>23),C=M+(I^R&(k^I))+E[3]+4107603335&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^I&(M^k))+E[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=I+(M^k&(R^M))+E[13]+2850285829&4294967295,I=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(I^R))+E[2]+4243563512&4294967295,k=I+(C<<9&4294967295|C>>>23),C=M+(I^R&(k^I))+E[7]+1735328473&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^I&(M^k))+E[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=I+(R^M^k)+E[5]+4294588738&4294967295,I=R+(C<<4&4294967295|C>>>28),C=k+(I^R^M)+E[8]+2272392833&4294967295,k=I+(C<<11&4294967295|C>>>21),C=M+(k^I^R)+E[11]+1839030562&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^I)+E[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=I+(R^M^k)+E[1]+2763975236&4294967295,I=R+(C<<4&4294967295|C>>>28),C=k+(I^R^M)+E[4]+1272893353&4294967295,k=I+(C<<11&4294967295|C>>>21),C=M+(k^I^R)+E[7]+4139469664&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^I)+E[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=I+(R^M^k)+E[13]+681279174&4294967295,I=R+(C<<4&4294967295|C>>>28),C=k+(I^R^M)+E[0]+3936430074&4294967295,k=I+(C<<11&4294967295|C>>>21),C=M+(k^I^R)+E[3]+3572445317&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^I)+E[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=I+(R^M^k)+E[9]+3654602809&4294967295,I=R+(C<<4&4294967295|C>>>28),C=k+(I^R^M)+E[12]+3873151461&4294967295,k=I+(C<<11&4294967295|C>>>21),C=M+(k^I^R)+E[15]+530742520&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^I)+E[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=I+(M^(R|~k))+E[0]+4096336452&4294967295,I=R+(C<<6&4294967295|C>>>26),C=k+(R^(I|~M))+E[7]+1126891415&4294967295,k=I+(C<<10&4294967295|C>>>22),C=M+(I^(k|~R))+E[14]+2878612391&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~I))+E[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=I+(M^(R|~k))+E[12]+1700485571&4294967295,I=R+(C<<6&4294967295|C>>>26),C=k+(R^(I|~M))+E[3]+2399980690&4294967295,k=I+(C<<10&4294967295|C>>>22),C=M+(I^(k|~R))+E[10]+4293915773&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~I))+E[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=I+(M^(R|~k))+E[8]+1873313359&4294967295,I=R+(C<<6&4294967295|C>>>26),C=k+(R^(I|~M))+E[15]+4264355552&4294967295,k=I+(C<<10&4294967295|C>>>22),C=M+(I^(k|~R))+E[6]+2734768916&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~I))+E[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=I+(M^(R|~k))+E[4]+4149444226&4294967295,I=R+(C<<6&4294967295|C>>>26),C=k+(R^(I|~M))+E[11]+3174756917&4294967295,k=I+(C<<10&4294967295|C>>>22),C=M+(I^(k|~R))+E[2]+718787259&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~I))+E[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+k&4294967295}a.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var R=I-this.blockSize,E=this.B,M=this.h,k=0;k<I;){if(M==0)for(;k<=R;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<I;)if(E[M++]=O.charCodeAt(k++),M==this.blockSize){o(this,E),M=0;break}}else for(;k<I;)if(E[M++]=O[k++],M==this.blockSize){o(this,E),M=0;break}}this.h=M,this.o+=I},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var R=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=R&255,R/=256;for(this.u(O),O=Array(16),I=R=0;4>I;++I)for(var E=0;32>E;E+=8)O[R++]=this.g[I]>>>E&255;return O};function u(O,I){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=I(O)}function d(O,I){this.h=I;for(var R=[],E=!0,M=O.length-1;0<=M;M--){var k=O[M]|0;E&&k==I||(R[M]=k,E=!1)}this.g=R}var m={};function g(O){return-128<=O&&128>O?u(O,function(I){return new d([I|0],0>I?-1:0)}):new d([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return L(p(-O));for(var I=[],R=1,E=0;O>=R;E++)I[E]=O/R|0,R*=4294967296;return new d(I,0)}function b(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return L(b(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(I,8)),E=w,M=0;M<O.length;M+=8){var k=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+k),I);8>k?(k=p(Math.pow(I,k)),E=E.j(k).add(p(C))):(E=E.j(R),E=E.add(p(C)))}return E}var w=g(0),x=g(1),P=g(16777216);i=d.prototype,i.m=function(){if(V(this))return-L(this).m();for(var O=0,I=1,R=0;R<this.g.length;R++){var E=this.i(R);O+=(0<=E?E:4294967296+E)*I,I*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(z(this))return"0";if(V(this))return"-"+L(this).toString(O);for(var I=p(Math.pow(O,6)),R=this,E="";;){var M=he(R,I).g;R=H(R,M.j(I));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=M,z(R))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function z(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function V(O){return O.h==-1}i.l=function(O){return O=H(this,O),V(O)?-1:z(O)?0:1};function L(O){for(var I=O.g.length,R=[],E=0;E<I;E++)R[E]=~O.g[E];return new d(R,~O.h).add(x)}i.abs=function(){return V(this)?L(this):this},i.add=function(O){for(var I=Math.max(this.g.length,O.g.length),R=[],E=0,M=0;M<=I;M++){var k=E+(this.i(M)&65535)+(O.i(M)&65535),C=(k>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);E=C>>>16,k&=65535,C&=65535,R[M]=C<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function H(O,I){return O.add(L(I))}i.j=function(O){if(z(this)||z(O))return w;if(V(this))return V(O)?L(this).j(L(O)):L(L(this).j(O));if(V(O))return L(this.j(L(O)));if(0>this.l(P)&&0>O.l(P))return p(this.m()*O.m());for(var I=this.g.length+O.g.length,R=[],E=0;E<2*I;E++)R[E]=0;for(E=0;E<this.g.length;E++)for(var M=0;M<O.g.length;M++){var k=this.i(E)>>>16,C=this.i(E)&65535,W=O.i(M)>>>16,me=O.i(M)&65535;R[2*E+2*M]+=C*me,ee(R,2*E+2*M),R[2*E+2*M+1]+=k*me,ee(R,2*E+2*M+1),R[2*E+2*M+1]+=C*W,ee(R,2*E+2*M+1),R[2*E+2*M+2]+=k*W,ee(R,2*E+2*M+2)}for(E=0;E<I;E++)R[E]=R[2*E+1]<<16|R[2*E];for(E=I;E<2*I;E++)R[E]=0;return new d(R,0)};function ee(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function se(O,I){this.g=O,this.h=I}function he(O,I){if(z(I))throw Error("division by zero");if(z(O))return new se(w,w);if(V(O))return I=he(L(O),I),new se(L(I.g),L(I.h));if(V(I))return I=he(O,L(I)),new se(L(I.g),I.h);if(30<O.g.length){if(V(O)||V(I))throw Error("slowDivide_ only works with positive integers.");for(var R=x,E=I;0>=E.l(O);)R=U(R),E=U(E);var M=F(R,1),k=F(E,1);for(E=F(E,2),R=F(R,2);!z(E);){var C=k.add(E);0>=C.l(O)&&(M=M.add(R),k=C),E=F(E,1),R=F(R,1)}return I=H(O,M.j(I)),new se(M,I)}for(M=w;0<=O.l(I);){for(R=Math.max(1,Math.floor(O.m()/I.m())),E=Math.ceil(Math.log(R)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=p(R),C=k.j(I);V(C)||0<C.l(O);)R-=E,k=p(R),C=k.j(I);z(k)&&(k=x),M=M.add(k),O=H(O,C)}return new se(M,O)}i.A=function(O){return he(this,O).h},i.and=function(O){for(var I=Math.max(this.g.length,O.g.length),R=[],E=0;E<I;E++)R[E]=this.i(E)&O.i(E);return new d(R,this.h&O.h)},i.or=function(O){for(var I=Math.max(this.g.length,O.g.length),R=[],E=0;E<I;E++)R[E]=this.i(E)|O.i(E);return new d(R,this.h|O.h)},i.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),R=[],E=0;E<I;E++)R[E]=this.i(E)^O.i(E);return new d(R,this.h^O.h)};function U(O){for(var I=O.g.length+1,R=[],E=0;E<I;E++)R[E]=O.i(E)<<1|O.i(E-1)>>>31;return new d(R,O.h)}function F(O,I){var R=I>>5;I%=32;for(var E=O.g.length-R,M=[],k=0;k<E;k++)M[k]=0<I?O.i(k+R)>>>I|O.i(k+R+1)<<32-I:O.i(k+R);return new d(M,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,E1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=b,Ua=d}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S1,Al,T1,Pc,om,w1,A1,R1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,T){return c==Array.prototype||c==Object.prototype||(c[v]=T.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var v=0;v<c.length;++v){var T=c[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=n(this);function o(c,v){if(v)e:{var T=a;c=c.split(".");for(var j=0;j<c.length-1;j++){var Z=c[j];if(!(Z in T))break e;T=T[Z]}c=c[c.length-1],j=T[c],v=v(j),v!=j&&v!=null&&e(T,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var T=0,j=!1,Z={next:function(){if(!j&&T<c.length){var ae=T++;return{value:v(ae,c[ae]),done:!1}}return j=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function b(c,v,T){return c.call.apply(c.bind,arguments)}function w(c,v,T){if(!c)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,j),c.apply(v,Z)}}return function(){return c.apply(v,arguments)}}function x(c,v,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:w,x.apply(null,arguments)}function P(c,v){var T=Array.prototype.slice.call(arguments,1);return function(){var j=T.slice();return j.push.apply(j,arguments),c.apply(this,j)}}function z(c,v){function T(){}T.prototype=v.prototype,c.aa=v.prototype,c.prototype=new T,c.prototype.constructor=c,c.Qb=function(j,Z,ae){for(var ve=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ve[$e-2]=arguments[$e];return v.prototype[Z].apply(j,ve)}}function V(c){const v=c.length;if(0<v){const T=Array(v);for(let j=0;j<v;j++)T[j]=c[j];return T}return[]}function L(c,v){for(let T=1;T<arguments.length;T++){const j=arguments[T];if(g(j)){const Z=c.length||0,ae=j.length||0;c.length=Z+ae;for(let ve=0;ve<ae;ve++)c[Z+ve]=j[ve]}else c.push(j)}}class H{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function ee(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var U=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function F(c,v,T){for(const j in c)v.call(T,c[j],j,c)}function O(c,v){for(const T in c)v.call(void 0,c[T],T,c)}function I(c){const v={};for(const T in c)v[T]=c[T];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,v){let T,j;for(let Z=1;Z<arguments.length;Z++){j=arguments[Z];for(T in j)c[T]=j[T];for(let ae=0;ae<R.length;ae++)T=R[ae],Object.prototype.hasOwnProperty.call(j,T)&&(c[T]=j[T])}}function M(c){var v=1;c=c.split(":");const T=[];for(;0<v&&c.length;)T.push(c.shift()),v--;return c.length&&T.push(c.join(":")),T}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=G;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,T){const j=me.get();j.set(v,T),this.h?this.h.next=j:this.g=j,this.h=j}}var me=new H(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let S,ge=!1,G=new W,_=()=>{const c=m.Promise.resolve(void 0);S=()=>{c.then(D)}};var D=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(T){k(T)}var v=me;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}ge=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};m.addEventListener("test",T,v),m.removeEventListener("test",T,v)}catch{}return c}();function ue(c,v){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var T=this.type=c.type,j=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(U){e:{try{he(v.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(v=null)}}else T=="mouseover"?v=c.fromElement:T=="mouseout"&&(v=c.toElement);this.relatedTarget=v,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ue.aa.h.call(this)}}z(ue,X);var oe={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ne(c,v,T,j,Z){this.listener=c,this.proxy=null,this.src=v,this.type=T,this.capture=!!j,this.ha=Z,this.key=++Se,this.da=this.fa=!1}function Pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c){this.src=c,this.g={},this.h=0}ze.prototype.add=function(c,v,T,j,Z){var ae=c.toString();c=this.g[ae],c||(c=this.g[ae]=[],this.h++);var ve=Ve(c,v,j,Z);return-1<ve?(v=c[ve],T||(v.fa=!1)):(v=new Ne(v,this.src,ae,!!j,Z),v.fa=T,c.push(v)),v};function qe(c,v){var T=v.type;if(T in c.g){var j=c.g[T],Z=Array.prototype.indexOf.call(j,v,void 0),ae;(ae=0<=Z)&&Array.prototype.splice.call(j,Z,1),ae&&(Pe(v),c.g[T].length==0&&(delete c.g[T],c.h--))}}function Ve(c,v,T,j){for(var Z=0;Z<c.length;++Z){var ae=c[Z];if(!ae.da&&ae.listener==v&&ae.capture==!!T&&ae.ha==j)return Z}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Ge={};function ht(c,v,T,j,Z){if(Array.isArray(v)){for(var ae=0;ae<v.length;ae++)ht(c,v[ae],T,j,Z);return null}return T=or(T),c&&c[ye]?c.K(v,T,p(j)?!!j.capture:!1,Z):xe(c,v,T,!1,j,Z)}function xe(c,v,T,j,Z,ae){if(!v)throw Error("Invalid event type");var ve=p(Z)?!!Z.capture:!!Z,$e=Zn(c);if($e||(c[Me]=$e=new ze(c)),T=$e.add(v,T,j,ve,ae),T.proxy)return T;if(j=mt(),T.proxy=j,j.src=c,j.listener=T,c.addEventListener)re||(Z=ve),Z===void 0&&(Z=!1),c.addEventListener(v.toString(),j,Z);else if(c.attachEvent)c.attachEvent(Rt(v.toString()),j);else if(c.addListener&&c.removeListener)c.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return T}function mt(){function c(T){return v.call(c.src,c.listener,T)}const v=Wn;return c}function pt(c,v,T,j,Z){if(Array.isArray(v))for(var ae=0;ae<v.length;ae++)pt(c,v[ae],T,j,Z);else j=p(j)?!!j.capture:!!j,T=or(T),c&&c[ye]?(c=c.i,v=String(v).toString(),v in c.g&&(ae=c.g[v],T=Ve(ae,T,j,Z),-1<T&&(Pe(ae[T]),Array.prototype.splice.call(ae,T,1),ae.length==0&&(delete c.g[v],c.h--)))):c&&(c=Zn(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Ve(v,T,j,Z)),(T=-1<c?v[c]:null)&&gt(T))}function gt(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[ye])qe(v.i,c);else{var T=c.type,j=c.proxy;v.removeEventListener?v.removeEventListener(T,j,c.capture):v.detachEvent?v.detachEvent(Rt(T),j):v.addListener&&v.removeListener&&v.removeListener(j),(T=Zn(v))?(qe(T,c),T.h==0&&(T.src=null,v[Me]=null)):Pe(c)}}}function Rt(c){return c in Ge?Ge[c]:Ge[c]="on"+c}function Wn(c,v){if(c.da)c=!0;else{v=new ue(v,this);var T=c.listener,j=c.ha||c.src;c.fa&&gt(c),c=T.call(j,v)}return c}function Zn(c){return c=c[Me],c instanceof ze?c:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(c){return typeof c=="function"?c:(c[di]||(c[di]=function(v){return c.handleEvent(v)}),c[di])}function yt(){$.call(this),this.i=new ze(this),this.M=this,this.F=null}z(yt,$),yt.prototype[ye]=!0,yt.prototype.removeEventListener=function(c,v,T,j){pt(this,c,v,T,j)};function Ue(c,v){var T,j=c.F;if(j)for(T=[];j;j=j.F)T.push(j);if(c=c.M,j=v.type||v,typeof v=="string")v=new X(v,c);else if(v instanceof X)v.target=v.target||c;else{var Z=v;v=new X(j,c),E(v,Z)}if(Z=!0,T)for(var ae=T.length-1;0<=ae;ae--){var ve=v.g=T[ae];Z=Lt(ve,j,!0,v)&&Z}if(ve=v.g=c,Z=Lt(ve,j,!0,v)&&Z,Z=Lt(ve,j,!1,v)&&Z,T)for(ae=0;ae<T.length;ae++)ve=v.g=T[ae],Z=Lt(ve,j,!1,v)&&Z}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var T=c.g[v],j=0;j<T.length;j++)Pe(T[j]);delete c.g[v],c.h--}}this.F=null},yt.prototype.K=function(c,v,T,j){return this.i.add(String(c),v,!1,T,j)},yt.prototype.L=function(c,v,T,j){return this.i.add(String(c),v,!0,T,j)};function Lt(c,v,T,j){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var Z=!0,ae=0;ae<v.length;++ae){var ve=v[ae];if(ve&&!ve.da&&ve.capture==T){var $e=ve.listener,Ut=ve.ha||ve.src;ve.fa&&qe(c.i,ve),Z=$e.call(Ut,j)!==!1&&Z}}return Z&&!j.defaultPrevented}function un(c,v,T){if(typeof c=="function")T&&(c=x(c,T));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(c,v||0)}function ru(c){c.g=un(()=>{c.g=null,c.i&&(c.i=!1,ru(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Tf extends ${constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(c){$.call(this),this.h=c,this.g={}}z(ea,$);var ta=[];function na(c){F(c.g,function(v,T){this.g.hasOwnProperty(T)&&gt(v)},c),c.g={}}ea.prototype.N=function(){ea.aa.N.call(this),na(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=m.JSON.stringify,Xa=m.JSON.parse,ra=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function co(){}co.prototype.h=null;function fo(c){return c.h||(c.h=c.i())}function ho(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){X.call(this,"d")}z(Dr,X);function mo(){X.call(this,"c")}z(mo,X);var lr={},po=null;function hi(){return po=po||new yt}lr.La="serverreachability";function Wa(c){X.call(this,lr.La,c)}z(Wa,X);function mi(c){const v=hi();Ue(v,new Wa(v))}lr.STAT_EVENT="statevent";function iu(c,v){X.call(this,lr.STAT_EVENT,c),this.stat=v}z(iu,X);function vt(c){const v=hi();Ue(v,new iu(v,c))}lr.Ma="timingevent";function zt(c,v){X.call(this,lr.Ma,c),this.size=v}z(zt,X);function Dt(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},v)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function go(c,v,T,j,Z,ae){c.info(function(){if(c.g)if(ae)for(var ve="",$e=ae.split("&"),Ut=0;Ut<$e.length;Ut++){var Ke=$e[Ut].split("=");if(1<Ke.length){var Gt=Ke[0];Ke=Ke[1];var Bt=Gt.split("_");ve=2<=Bt.length&&Bt[1]=="type"?ve+(Gt+"="+Ke+"&"):ve+(Gt+"=redacted&")}}else ve=null;else ve=ae;return"XMLHTTP REQ ("+j+") [attempt "+Z+"]: "+v+`
`+T+`
`+ve})}function wf(c,v,T,j,Z,ae,ve){c.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Z+"]: "+v+`
`+T+`
`+ae+" "+ve})}function pi(c,v,T,j){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+ia(c,T)+(j?" "+j:"")})}function au(c,v){c.info(function(){return"TIMEOUT: "+v})}Ln.prototype.info=function(){};function ia(c,v){if(!c.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(c=0;c<T.length;c++)if(Array.isArray(T[c])){var j=T[c];if(!(2>j.length)){var Z=j[1];if(Array.isArray(Z)&&!(1>Z.length)){var ae=Z[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var ve=1;ve<Z.length;ve++)Z[ve]=""}}}}return Jn(T)}catch{return v}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ur;function cr(){}z(cr,co),cr.prototype.g=function(){return new XMLHttpRequest},cr.prototype.i=function(){return{}},ur=new cr;function vn(c,v,T,j){this.j=c,this.i=v,this.l=T,this.R=j||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var yo={},Za={};function er(c,v,T){c.L=1,c.v=ua(Cn(v)),c.m=T,c.P=!0,jr(c,null)}function jr(c,v){c.F=Date.now(),aa(c),c.A=Cn(c.v);var T=c.A,j=c.R;Array.isArray(j)||(j=[String(j)]),To(T.i,"t",j),c.C=0,T=c.j.J,c.h=new xt,c.g=Eu(c.j,T?v:null,!c.m),0<c.O&&(c.M=new Tf(x(c.Y,c,c.g),c.O)),v=c.U,T=c.g,j=c.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(ta[0]=Z.toString()),Z=ta);for(var ae=0;ae<Z.length;ae++){var ve=ht(T,Z[ae],j||v.handleEvent,!1,v.h||v);if(!ve)break;v.g[ve.key]=ve}v=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),mi(),go(c.i,c.u,c.A,c.l,c.R,c.m)}vn.prototype.ca=function(c){c=c.target;const v=this.M;v&&qn(c)==3?v.j():this.Y(c)},vn.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=qn(this.g);var v=this.g.Ba();const qr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Bt!=4||v==7||(v==8||0>=qr?mi(3):mi(2)),yi(this);var T=this.g.Z();this.X=T;t:if(su(this)){var j=hu(this.g);c="";var Z=j.length,ae=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),fr(this);var ve="";break t}this.h.i=new m.TextDecoder}for(v=0;v<Z;v++)this.h.h=!0,c+=this.h.i.decode(j[v],{stream:!(ae&&v==Z-1)});j.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=T==200,wf(this.i,this.u,this.A,this.l,this.R,Bt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Ut=this.g;if(($e=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee($e)){var Ke=$e;break t}}Ke=null}if(T=Ke)pi(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,T);else{this.o=!1,this.s=3,vt(12),Zt(this),fr(this);break e}}if(this.P){T=!0;let Jt;for(;!this.J&&this.C<ve.length;)if(Jt=ou(this,ve),Jt==Za){Bt==4&&(this.s=4,vt(14),T=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==yo){this.s=4,vt(15),pi(this.i,this.l,ve,"[Invalid Chunk]"),T=!1;break}else pi(this.i,this.l,Jt,null),sa(this,Jt);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ve.length!=0||this.h.h||(this.s=1,vt(16),T=!1),this.o=this.o&&T,!T)pi(this.i,this.l,ve,"[Invalid Chunked Response]"),Zt(this),fr(this);else if(0<ve.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),ya(Gt),Gt.M=!0,vt(11))}}else pi(this.i,this.l,ve,null),sa(this,ve);Bt==4&&Zt(this),this.o&&!this.J&&(Bt==4?vu(this.j,this):(this.o=!1,aa(this)))}else Of(this.g),T==400&&0<ve.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Zt(this),fr(this)}}}catch{}finally{}};function su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ou(c,v){var T=c.C,j=v.indexOf(`
`,T);return j==-1?Za:(T=Number(v.substring(T,j)),isNaN(T)?yo:(j+=1,j+T>v.length?Za:(v=v.slice(j,j+T),c.C=j+T,v)))}vn.prototype.cancel=function(){this.J=!0,Zt(this)};function aa(c){c.S=Date.now()+c.I,lu(c,c.I)}function lu(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dt(x(c.ba,c),v)}function yi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(au(this.i,this.A),this.L!=2&&(mi(),vt(17)),Zt(this),this.s=2,fr(this)):lu(this,this.S-c)};function fr(c){c.j.G==0||c.J||vu(c.j,c)}function Zt(c){yi(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,na(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function sa(c,v){try{var T=c.j;if(T.G!=0&&(T.g==c||vo(T.h,c))){if(!c.K&&vo(T.h,c)&&T.G==3){try{var j=T.Da.g.parse(v)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Z=j;if(Z[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<c.F)cs(T),ls(T);else break e;Co(T),vt(18)}}else T.za=Z[1],0<T.za-T.T&&37500>Z[2]&&T.F&&T.v==0&&!T.C&&(T.C=Dt(x(T.Za,T),6e3));if(1>=es(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Br(T,11)}else if((c.K||T.g==c)&&cs(T),!ee(v))for(Z=T.Da.g.parse(v),v=0;v<Z.length;v++){let Ke=Z[v];if(T.T=Ke[0],Ke=Ke[1],T.G==2)if(Ke[0]=="c"){T.K=Ke[1],T.ia=Ke[2];const Gt=Ke[3];Gt!=null&&(T.la=Gt,T.j.info("VER="+T.la));const Bt=Ke[4];Bt!=null&&(T.Aa=Bt,T.j.info("SVER="+T.Aa));const qr=Ke[5];qr!=null&&typeof qr=="number"&&0<qr&&(j=1.5*qr,T.L=j,T.j.info("backChannelRequestTimeoutMs_="+j)),j=T;const Jt=c.g;if(Jt){const vr=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var ae=j.h;ae.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(ts(ae,ae.h),ae.h=null))}if(j.D){const No=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(j.ya=No,st(j.I,j.D,No))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-c.F,T.j.info("Handshake RTT: "+T.R+"ms")),j=T;var ve=c;if(j.qa=bu(j,j.J?j.ia:null,j.W),ve.K){_n(j.h,ve);var $e=ve,Ut=j.L;Ut&&($e.I=Ut),$e.B&&(yi($e),aa($e)),j.g=ve}else gu(j);0<T.i.length&&us(T)}else Ke[0]!="stop"&&Ke[0]!="close"||Br(T,7);else T.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Br(T,7):Ro(T):Ke[0]!="noop"&&T.l&&T.l.ta(Ke),T.v=0)}}mi(4)}catch{}}var uu=class{constructor(c,v){this.g=c,this.map=v}};function Pr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ja(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function es(c){return c.h?1:c.g?c.g.size:0}function vo(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function ts(c,v){c.g?c.g.add(v):c.h=v}function _n(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Pr.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _o(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const T of c.g.values())v=v.concat(T.D);return v}return V(c.i)}function Af(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var v=[],T=c.length,j=0;j<T;j++)v.push(c[j]);return v}v=[],T=0;for(j in c)v[T++]=c[j];return v}function ns(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var v=[];c=c.length;for(var T=0;T<c;T++)v.push(T);return v}v=[],T=0;for(const j in c)v[T++]=j;return v}}}function bo(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var T=ns(c),j=Af(c),Z=j.length,ae=0;ae<Z;ae++)v.call(void 0,j[ae],T&&T[ae],c)}var oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rf(c,v){if(c){c=c.split("&");for(var T=0;T<c.length;T++){var j=c[T].indexOf("="),Z=null;if(0<=j){var ae=c[T].substring(0,j);Z=c[T].substring(j+1)}else ae=c[T];v(ae,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Mt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mt){this.h=c.h,la(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var v=c.i,T=new Vr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),kr(this,T),this.m=c.m}else c&&(v=String(c).match(oa))?(this.h=!1,la(this,v[1]||"",!0),this.o=zn(v[2]||""),this.g=zn(v[3]||"",!0),vi(this,v[4]),this.l=zn(v[5]||"",!0),kr(this,v[6]||"",!0),this.m=zn(v[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}Mt.prototype.toString=function(){var c=[],v=this.j;v&&c.push(ca(v,Eo,!0),":");var T=this.g;return(T||v=="file")&&(c.push("//"),(v=this.o)&&c.push(ca(v,Eo,!0),"@"),c.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&c.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(ca(T,T.charAt(0)=="/"?xf:So,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",ca(T,rs)),c.join("")};function Cn(c){return new Mt(c)}function la(c,v,T){c.j=T?zn(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function kr(c,v,T){v instanceof Vr?(c.i=v,fu(c.i,c.h)):(T||(v=ca(v,Cf)),c.i=new Vr(v,c.h))}function st(c,v,T){c.i.set(v,T)}function ua(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ca(c,v,T){return typeof c=="string"?(c=encodeURI(c).replace(v,cu),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,So=/[#\?:]/g,xf=/[#\?]/g,Cf=/[#\?@]/g,rs=/#/g;function Vr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Un(c){c.g||(c.g=new Map,c.h=0,c.i&&Rf(c.i,function(v,T){c.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}i=Vr.prototype,i.add=function(c,v){Un(this),this.i=null,c=dr(this,c);var T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(v),this.h+=1,this};function Lr(c,v){Un(c),v=dr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function zr(c,v){return Un(c),v=dr(c,v),c.g.has(v)}i.forEach=function(c,v){Un(this),this.g.forEach(function(T,j){T.forEach(function(Z){c.call(v,Z,j,this)},this)},this)},i.na=function(){Un(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let j=0;j<v.length;j++){const Z=c[j];for(let ae=0;ae<Z.length;ae++)T.push(v[j])}return T},i.V=function(c){Un(this);let v=[];if(typeof c=="string")zr(this,c)&&(v=v.concat(this.g.get(dr(this,c))));else{c=Array.from(this.g.values());for(let T=0;T<c.length;T++)v=v.concat(c[T])}return v},i.set=function(c,v){return Un(this),this.i=null,c=dr(this,c),zr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function To(c,v,T){Lr(c,v),0<T.length&&(c.i=null,c.g.set(dr(c,v),V(T)),c.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var j=v[T];const ae=encodeURIComponent(String(j)),ve=this.V(j);for(j=0;j<ve.length;j++){var Z=ae;ve[j]!==""&&(Z+="="+encodeURIComponent(String(ve[j]))),c.push(Z)}}return this.i=c.join("&")};function dr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function fu(c,v){v&&!c.j&&(Un(c),c.i=null,c.g.forEach(function(T,j){var Z=j.toLowerCase();j!=Z&&(Lr(this,j),To(this,Z,T))},c)),c.j=v}function fa(c,v){const T=new Ln;if(m.Image){const j=new Image;j.onload=P(Bn,T,"TestLoadImage: loaded",!0,v,j),j.onerror=P(Bn,T,"TestLoadImage: error",!1,v,j),j.onabort=P(Bn,T,"TestLoadImage: abort",!1,v,j),j.ontimeout=P(Bn,T,"TestLoadImage: timeout",!1,v,j),m.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=c}else v(!1)}function tr(c,v){const T=new Ln,j=new AbortController,Z=setTimeout(()=>{j.abort(),Bn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:j.signal}).then(ae=>{clearTimeout(Z),ae.ok?Bn(T,"TestPingServer: ok",!0,v):Bn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Z),Bn(T,"TestPingServer: error",!1,v)})}function Bn(c,v,T,j,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),j(T)}catch{}}function da(){this.g=new ra}function hr(c,v,T){const j=T||"";try{bo(c,function(Z,ae){let ve=Z;p(Z)&&(ve=Jn(Z)),v.push(j+ae+"="+encodeURIComponent(ve))})}catch(Z){throw v.push(j+"type="+encodeURIComponent("_badmap")),Z}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}z(_i,co),_i.prototype.g=function(){return new Ur(this.l,this.j)},_i.prototype.i=function(c){return function(){return c}}({});function Ur(c,v){yt.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Ur,yt),i=Ur.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,pr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function wo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?mr(this):pr(this),this.readyState==3&&wo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,mr(this))},i.Qa=function(c){this.g&&(this.response=c,mr(this))},i.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pr(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=v.next();return c.join(`\r
`)};function pr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ao(c){let v="";return F(c,function(T,j){v+=j,v+=":",v+=T,v+=`\r
`}),v}function Ft(c,v,T){e:{for(j in T){var j=!1;break e}j=!0}j||(T=Ao(T),typeof c=="string"?T!=null&&encodeURIComponent(String(T)):st(c,v,T))}function tt(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(tt,yt);var is=/^https?$/i,ha=["POST","PUT"];i=tt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,T,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ur.g(),this.v=this.o?fo(this.o):fo(ur),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(ae){du(this,ae);return}if(c=T||"",T=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Z in j)T.set(Z,j[Z]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ae of j.keys())T.set(ae,j.get(ae));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(T.keys()).find(ae=>ae.toLowerCase()=="content-type"),Z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ha,v,void 0))||j||Z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ve]of T)this.g.setRequestHeader(ae,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ma(this),this.u=!0,this.g.send(c),this.u=!1}catch(ae){du(this,ae)}};function du(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,as(c),gr(c)}function as(c){c.A||(c.A=!0,Ue(c,"complete"),Ue(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ue(this,"complete"),Ue(this,"abort"),gr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),tt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ss(this):this.bb())},i.bb=function(){ss(this)};function ss(c){if(c.h&&typeof d<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)un(c.Ea,0,c);else if(Ue(c,"readystatechange"),qn(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var j;if(j=ve===0){var Z=String(c.D).match(oa)[1]||null;!Z&&m.self&&m.self.location&&(Z=m.self.location.protocol.slice(0,-1)),j=!is.test(Z?Z.toLowerCase():"")}T=j}if(T)Ue(c,"complete"),Ue(c,"success");else{c.m=6;try{var ae=2<qn(c)?c.g.statusText:""}catch{ae=""}c.l=ae+" ["+c.Z()+"]",as(c)}}finally{gr(c)}}}}function gr(c,v){if(c.g){ma(c);const T=c.g,j=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Ue(c,"ready");try{T.onreadystatechange=j}catch{}}}function ma(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Xa(v)}};function hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Of(c){const v={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<c.length;j++){if(ee(c[j]))continue;var T=M(c[j]);const Z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ae=v[Z]||[];v[Z]=ae,ae.push(T)}O(v,function(j){return j.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(c,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||v}function os(c){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,c),this.cb=pa("retryDelaySeedMs",1e4,c),this.Wa=pa("forwardChannelMaxRetries",2,c),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pr(c&&c.concurrentRequestLimit),this.Da=new da,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=os.prototype,i.la=8,i.G=1,i.connect=function(c,v,T,j){vt(0),this.W=c,this.H=v||{},T&&j!==void 0&&(this.H.OSID=T,this.H.OAID=j),this.F=this.X,this.I=bu(this,null,this.W),us(this)};function Ro(c){if(mu(c),c.G==3){var v=c.U++,T=Cn(c.I);if(st(T,"SID",c.K),st(T,"RID",v),st(T,"TYPE","terminate"),ga(c,T),v=new vn(c,c.j,v),v.L=2,v.v=ua(Cn(T)),T=!1,m.navigator&&m.navigator.sendBeacon)try{T=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&m.Image&&(new Image().src=v.v,T=!0),T||(v.g=Eu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),aa(v)}_u(c)}function ls(c){c.g&&(ya(c),c.g.cancel(),c.g=null)}function mu(c){ls(c),c.u&&(m.clearTimeout(c.u),c.u=null),cs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function us(c){if(!Ja(c.h)&&!c.s){c.s=!0;var v=c.Ga;S||_(),ge||(S(),ge=!0),G.add(v,c),c.B=0}}function Nf(c,v){return es(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dt(x(c.Ga,c,v),Oo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Z=new vn(this,this.j,c);let ae=this.o;if(this.S&&(ae?(ae=I(ae),E(ae,this.S)):ae=this.S),this.m!==null||this.O||(Z.H=ae,ae=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var j=this.i[T];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(v+=j,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=pu(this,Z,v),T=Cn(this.I),st(T,"RID",c),st(T,"CVER",22),this.D&&st(T,"X-HTTP-Session-Id",this.D),ga(this,T),ae&&(this.O?v="headers="+encodeURIComponent(String(Ao(ae)))+"&"+v:this.m&&Ft(T,this.m,ae)),ts(this.h,Z),this.Ua&&st(T,"TYPE","init"),this.P?(st(T,"$req",v),st(T,"SID","null"),Z.T=!0,er(Z,T,null)):er(Z,T,v),this.G=2}}else this.G==3&&(c?xo(this,c):this.i.length==0||Ja(this.h)||xo(this))};function xo(c,v){var T;v?T=v.l:T=c.U++;const j=Cn(c.I);st(j,"SID",c.K),st(j,"RID",T),st(j,"AID",c.T),ga(c,j),c.m&&c.o&&Ft(j,c.m,c.o),T=new vn(c,c.j,T,c.B+1),c.m===null&&(T.H=c.o),v&&(c.i=v.D.concat(c.i)),v=pu(c,T,1e3),T.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ts(c.h,T),er(T,j,v)}function ga(c,v){c.H&&F(c.H,function(T,j){st(v,j,T)}),c.l&&bo({},function(T,j){st(v,j,T)})}function pu(c,v,T){T=Math.min(c.i.length,T);var j=c.l?x(c.l.Na,c.l,c):null;e:{var Z=c.i;let ae=-1;for(;;){const ve=["count="+T];ae==-1?0<T?(ae=Z[0].g,ve.push("ofs="+ae)):ae=0:ve.push("ofs="+ae);let $e=!0;for(let Ut=0;Ut<T;Ut++){let Ke=Z[Ut].g;const Gt=Z[Ut].map;if(Ke-=ae,0>Ke)ae=Math.max(0,Z[Ut].g-100),$e=!1;else try{hr(Gt,ve,"req"+Ke+"_")}catch{j&&j(Gt)}}if($e){j=ve.join("&");break e}}}return c=c.i.splice(0,T),v.D=c,j}function gu(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;S||_(),ge||(S(),ge=!0),G.add(v,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dt(x(c.Fa,c),Oo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dt(x(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ls(this),yu(this))};function ya(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function yu(c){c.g=new vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=Cn(c.qa);st(v,"RID","rpc"),st(v,"SID",c.K),st(v,"AID",c.T),st(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(v,"TO",c.ja),st(v,"TYPE","xmlhttp"),ga(c,v),c.m&&c.o&&Ft(v,c.m,c.o),c.L&&(c.g.I=c.L);var T=c.g;c=c.ia,T.L=1,T.v=ua(Cn(v)),T.m=null,T.P=!0,jr(T,c)}i.Za=function(){this.C!=null&&(this.C=null,ls(this),Co(this),vt(19))};function cs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function vu(c,v){var T=null;if(c.g==v){cs(c),ya(c),c.g=null;var j=2}else if(vo(c.h,v))T=v.D,_n(c.h,v),j=1;else return;if(c.G!=0){if(v.o)if(j==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var Z=c.B;j=hi(),Ue(j,new zt(j,T)),us(c)}else gu(c);else if(Z=v.s,Z==3||Z==0&&0<v.X||!(j==1&&Nf(c,v)||j==2&&Co(c)))switch(T&&0<T.length&&(v=c.h,v.i=v.i.concat(T)),Z){case 1:Br(c,5);break;case 4:Br(c,10);break;case 3:Br(c,6);break;default:Br(c,2)}}}function Oo(c,v){let T=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(T*=2),T*v}function Br(c,v){if(c.j.info("Error code "+v),v==2){var T=x(c.fb,c),j=c.Xa;const Z=!j;j=new Mt(j||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||la(j,"https"),ua(j),Z?fa(j.toString(),T):tr(j.toString(),T)}else vt(2);c.G=0,c.l&&c.l.sa(v),_u(c),mu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function _u(c){if(c.G=0,c.ka=[],c.l){const v=_o(c.h);(v.length!=0||c.i.length!=0)&&(L(c.ka,v),L(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function bu(c,v,T){var j=T instanceof Mt?Cn(T):new Mt(T);if(j.g!="")v&&(j.g=v+"."+j.g),vi(j,j.s);else{var Z=m.location;j=Z.protocol,v=v?v+"."+Z.hostname:Z.hostname,Z=+Z.port;var ae=new Mt(null);j&&la(ae,j),v&&(ae.g=v),Z&&vi(ae,Z),T&&(ae.l=T),j=ae}return T=c.D,v=c.ya,T&&v&&st(j,T,v),st(j,"VER",c.la),ga(c,j),j}function Eu(c,v,T){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new tt(new _i({eb:T})):new tt(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}i=Su.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(c,v){return new bn(c,v)};function bn(c,v){yt.call(this),this.g=new os(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!ee(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!ee(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new yr(this)}z(bn,yt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ro(this.g)},bn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.u&&(T={},T.__data__=Jn(c),c=T);v.i.push(new uu(v.Ya++,c)),v.G==3&&us(v)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,bn.aa.N.call(this)};function Tu(c){Dr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const T in v){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}z(Tu,Dr);function wu(){mo.call(this),this.status=1}z(wu,mo);function yr(c){this.g=c}z(yr,Su),yr.prototype.ua=function(){Ue(this.g,"a")},yr.prototype.ta=function(c){Ue(this.g,new Tu(c))},yr.prototype.sa=function(c){Ue(this.g,new wu)},yr.prototype.ra=function(){Ue(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,R1=function(){return new fs},A1=function(){return hi()},w1=lr,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Pc=gi,Mr.COMPLETE="complete",T1=Mr,ho.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Al=ho,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,S1=tt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new m1("@firebase/firestore");function bl(){return Fa.logLevel}function Te(i,...e){if(Fa.logLevel<=We.DEBUG){const n=e.map(Lm);Fa.debug(`Firestore (${io}): ${i}`,...n)}}function li(i,...e){if(Fa.logLevel<=We.ERROR){const n=e.map(Lm);Fa.error(`Firestore (${io}): ${i}`,...n)}}function Qs(i,...e){if(Fa.logLevel<=We.WARN){const n=e.map(Lm);Fa.warn(`Firestore (${io}): ${i}`,...n)}}function Lm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(i="Unexpected state"){const e=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: `+i;throw li(e),new Error(e)}function at(i,e){i||Ie()}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class EA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SA{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ai,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ai)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(at(typeof a.accessToken=="string"),new x1(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new hn(e)}}class TA{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wA{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new TA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){at(this.o===void 0);const a=u=>{u.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,Te("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new AA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const o=xA(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%e.length))}return a}}function Je(i,e){return i<e?-1:i>e?1:0}function $s(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new At(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new je(e)}static min(){return new je(new At(0,0))}static max(){return new je(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ie(),a===void 0?a=e.length-n:a>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Ll.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ll?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=e.get(o),d=n.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends Ll{construct(e,n,a){return new dt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new be(de.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const CA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Ll{construct(e,n,a){return new an(e,n,a)}static isValidIdentifier(e){return CA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new be(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new be(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(u(),o++)}if(u(),d)throw new be(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(dt.fromString(e))}static fromName(e){return new Ae(dt.fromString(e).popFirst(5))}static empty(){return new Ae(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new dt(e.slice()))}}function OA(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=je.fromTimestamp(a===1e9?new At(n+1,0):new At(n,a));return new $i(o,Ae.empty(),e)}function NA(i){return new $i(i.readTime,i.key,-1)}class $i{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new $i(je.min(),Ae.empty(),-1)}static max(){return new $i(je.max(),Ae.empty(),-1)}}function IA(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(i.documentKey,e.documentKey),n!==0?n:Je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(i){if(i.code!==de.FAILED_PRECONDITION||i.message!==DA)throw i;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,a)=>{n(e)})}static reject(e){return new pe((n,a)=>{a(e)})}static waitFor(e){return new pe((n,a)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&n()},g=>a(g))}),d=!0,u===o&&n()})}static or(e){let n=pe.resolve(!1);for(const a of e)n=n.next(o=>o?pe.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new pe((a,o)=>{const u=e.length,d=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(b=>{d[p]=b,++m,m===u&&a(d)},b=>o(b))}})}static doWhile(e,n){return new pe((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function jA(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ie(a),this.se=a=>n.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zm.oe=-1;function sf(i){return i==null}function Gc(i){return i===0&&1/i==-1/0}function PA(i){return typeof i=="number"&&Number.isInteger(i)&&!Gc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ka(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function O1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new rn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,a,o,u){return this}insert(e,n,a){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new kn([])}unionWith(e){let n=new on(an.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new N1("Invalid base64 string: "+u):u}}(e);return new ln(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const kA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(i){if(at(!!i),typeof i=="string"){let e=0;const n=kA.exec(i);if(at(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ga(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bm(i){const e=i.mapValue.fields.__previous_value__;return Um(e)?Bm(e):e}function zl(i){const e=Ki(i.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,a,o,u,d,m,g,p){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p}}class Ul{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc={mapValue:{}};function Qa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Um(i)?4:zA(i)?9007199254740991:LA(i)?10:11:Ie()}function Cr(i,e){if(i===e)return!0;const n=Qa(i);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return zl(i).isEqual(zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Ki(o.timestampValue),m=Ki(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Ga(o.bytesValue).isEqual(Ga(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Nt(o.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Nt(o.integerValue)===Nt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Nt(o.doubleValue),m=Nt(u.doubleValue);return d===m?Gc(d)===Gc(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return $s(i.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(g_(d)!==g_(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Cr(d[g],m[g])))return!1;return!0}(i,e);default:return Ie()}}function Bl(i,e){return(i.values||[]).find(n=>Cr(n,e))!==void 0}function Ks(i,e){if(i===e)return 0;const n=Qa(i),a=Qa(e);if(n!==a)return Je(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(i.booleanValue,e.booleanValue);case 2:return function(u,d){const m=Nt(u.integerValue||u.doubleValue),g=Nt(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return v_(i.timestampValue,e.timestampValue);case 4:return v_(zl(i),zl(e));case 5:return Je(i.stringValue,e.stringValue);case 6:return function(u,d){const m=Ga(u),g=Ga(d);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),g=d.split("/");for(let p=0;p<m.length&&p<g.length;p++){const b=Je(m[p],g[p]);if(b!==0)return b}return Je(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Je(Nt(u.latitude),Nt(d.latitude));return m!==0?m:Je(Nt(u.longitude),Nt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return __(i.arrayValue,e.arrayValue);case 10:return function(u,d){var m,g,p,b;const w=u.fields||{},x=d.fields||{},P=(m=w.value)===null||m===void 0?void 0:m.arrayValue,z=(g=x.value)===null||g===void 0?void 0:g.arrayValue,V=Je(((p=P==null?void 0:P.values)===null||p===void 0?void 0:p.length)||0,((b=z==null?void 0:z.values)===null||b===void 0?void 0:b.length)||0);return V!==0?V:__(P,z)}(i.mapValue,e.mapValue);case 11:return function(u,d){if(u===Oc.mapValue&&d===Oc.mapValue)return 0;if(u===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=d.fields||{},b=Object.keys(p);g.sort(),b.sort();for(let w=0;w<g.length&&w<b.length;++w){const x=Je(g[w],b[w]);if(x!==0)return x;const P=Ks(m[g[w]],p[b[w]]);if(P!==0)return P}return Je(g.length,b.length)}(i.mapValue,e.mapValue);default:throw Ie()}}function v_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Je(i,e);const n=Ki(i),a=Ki(e),o=Je(n.seconds,a.seconds);return o!==0?o:Je(n.nanos,a.nanos)}function __(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Ks(n[o],a[o]);if(u)return u}return Je(n.length,a.length)}function Ys(i){return lm(i)}function lm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Ki(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Ga(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ae.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=lm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${lm(n.fields[d])}`;return o+"}"}(i.mapValue):Ie()}function b_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function um(i){return!!i&&"integerValue"in i}function qm(i){return!!i&&"arrayValue"in i}function E_(i){return!!i&&"nullValue"in i}function S_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function kc(i){return!!i&&"mapValue"in i}function LA(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ol(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ka(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Ol(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(i.arrayValue.values[n]);return e}return Object.assign({},i)}function zA(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=an.emptyPath(),a={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}d?a[m.lastSegment()]=Ol(d):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ka(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new xn(Ol(this.value))}}function I1(i){const e=[];return Ka(i.fields,(n,a)=>{const o=new an([n]);if(kc(a)){const u=I1(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,a,o,u,d,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new mn(e,0,je.min(),je.min(),je.min(),xn.empty(),0)}static newFoundDocument(e,n,a,o){return new mn(e,1,n,je.min(),a,o,0)}static newNoDocument(e,n){return new mn(e,2,n,je.min(),je.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,je.min(),je.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.position=e,this.inclusive=n}}function T_(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?a=Ae.comparator(Ae.fromName(d.referenceValue),n.key):a=Ks(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function w_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Cr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function UA(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{}class Vt extends D1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new qA(e,n,a):n==="array-contains"?new GA(e,a):n==="in"?new QA(e,a):n==="not-in"?new $A(e,a):n==="array-contains-any"?new KA(e,a):new Vt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new HA(e,a):new FA(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ks(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(Ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends D1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sr(e,n)}matches(e){return M1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function M1(i){return i.op==="and"}function j1(i){return BA(i)&&M1(i)}function BA(i){for(const e of i.filters)if(e instanceof sr)return!1;return!0}function cm(i){if(i instanceof Vt)return i.field.canonicalString()+i.op.toString()+Ys(i.value);if(j1(i))return i.filters.map(e=>cm(e)).join(",");{const e=i.filters.map(n=>cm(n)).join(",");return`${i.op}(${e})`}}function P1(i,e){return i instanceof Vt?function(a,o){return o instanceof Vt&&a.op===o.op&&a.field.isEqual(o.field)&&Cr(a.value,o.value)}(i,e):i instanceof sr?function(a,o){return o instanceof sr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,d,m)=>u&&P1(d,o.filters[m]),!0):!1}(i,e):void Ie()}function k1(i){return i instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ys(n.value)}`}(i):i instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(k1).join(" ,")+"}"}(i):"Filter"}class qA extends Vt{constructor(e,n,a){super(e,n,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class HA extends Vt{constructor(e,n){super(e,"in",n),this.keys=V1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FA extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=V1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V1(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ae.fromName(a.referenceValue))}class GA extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qm(n)&&Bl(n.arrayValue,this.value)}}class QA extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class $A extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bl(this.value.arrayValue,n)}}class KA extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Bl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n=null,a=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ue=null}}function A_(i,e=null,n=[],a=[],o=null,u=null,d=null){return new YA(i,e,n,a,o,u,d)}function Hm(i){const e=De(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>cm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Ys(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Ys(a)).join(",")),e.ue=n}return e.ue}function Fm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!UA(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!P1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!w_(i.startAt,e.startAt)&&w_(i.endAt,e.endAt)}function fm(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n=null,a=[],o=[],u=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function XA(i,e,n,a,o,u,d,m){return new ao(i,e,n,a,o,u,d,m)}function of(i){return new ao(i)}function R_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function L1(i){return i.collectionGroup!==null}function Nl(i){const e=De(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new on(an.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new ql(u,a))}),n.has(an.keyField().canonicalString())||e.ce.push(new ql(an.keyField(),a))}return e.ce}function Ar(i){const e=De(i);return e.le||(e.le=WA(e,Nl(i))),e.le}function WA(i,e){if(i.limitType==="F")return A_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ql(o.field,u)});const n=i.endAt?new Qc(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Qc(i.startAt.position,i.startAt.inclusive):null;return A_(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function dm(i,e){const n=i.filters.concat([e]);return new ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function hm(i,e,n){return new ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function lf(i,e){return Fm(Ar(i),Ar(e))&&i.limitType===e.limitType}function z1(i){return`${Hm(Ar(i))}|lt:${i.limitType}`}function Us(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>k1(o)).join(", ")}]`),sf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Ys(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Ys(o)).join(",")),`Target(${a})`}(Ar(i))}; limitType=${i.limitType})`}function uf(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ae.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Nl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(d,m,g){const p=T_(d,m,g);return d.inclusive?p<=0:p<0}(a.startAt,Nl(a),o)||a.endAt&&!function(d,m,g){const p=T_(d,m,g);return d.inclusive?p>=0:p>0}(a.endAt,Nl(a),o))}(i,e)}function ZA(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function U1(i){return(e,n)=>{let a=!1;for(const o of Nl(i)){const u=JA(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function JA(i,e,n){const a=i.field.isKeyField()?Ae.comparator(e.key,n.key):function(u,d,m){const g=d.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Ks(g,p):Ie()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new St(Ae.comparator);function ui(){return e4}const B1=new St(Ae.comparator);function Rl(...i){let e=B1;for(const n of i)e=e.insert(n.key,n);return e}function q1(i){let e=B1;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function La(){return Il()}function H1(){return Il()}function Il(){return new so(i=>i.toString(),(i,e)=>i.isEqual(e))}const t4=new St(Ae.comparator),n4=new on(Ae.comparator);function Qe(...i){let e=n4;for(const n of i)e=e.add(n);return e}const r4=new on(Je);function i4(){return r4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function F1(i){return{integerValue:""+i}}function a4(i,e){return PA(e)?F1(e):Gm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function s4(i,e,n){return i instanceof Hl?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Um(u)&&(u=Bm(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}}(n,e):i instanceof Fl?Q1(i,e):i instanceof Gl?$1(i,e):function(o,u){const d=G1(o,u),m=x_(d)+x_(o.Pe);return um(d)&&um(o.Pe)?F1(m):Gm(o.serializer,m)}(i,e)}function o4(i,e,n){return i instanceof Fl?Q1(i,e):i instanceof Gl?$1(i,e):n}function G1(i,e){return i instanceof $c?function(a){return um(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Hl extends cf{}class Fl extends cf{constructor(e){super(),this.elements=e}}function Q1(i,e){const n=K1(e);for(const a of i.elements)n.some(o=>Cr(o,a))||n.push(a);return{arrayValue:{values:n}}}class Gl extends cf{constructor(e){super(),this.elements=e}}function $1(i,e){let n=K1(e);for(const a of i.elements)n=n.filter(o=>!Cr(o,a));return{arrayValue:{values:n}}}class $c extends cf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function x_(i){return Nt(i.integerValue||i.doubleValue)}function K1(i){return qm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.field=e,this.transform=n}}function u4(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof Fl&&o instanceof Fl||a instanceof Gl&&o instanceof Gl?$s(a.elements,o.elements,Cr):a instanceof $c&&o instanceof $c?Cr(a.Pe,o.Pe):a instanceof Hl&&o instanceof Hl}(i.transform,e.transform)}class c4{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ff{}function Y1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new W1(i.key,Rr.none()):new Wl(i.key,i.data,Rr.none());{const n=i.data,a=xn.empty();let o=new on(an.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new Zi(i.key,a,new kn(o.toArray()),Rr.none())}}function f4(i,e,n){i instanceof Wl?function(o,u,d){const m=o.value.clone(),g=O_(o.fieldTransforms,u,d.transformResults);m.setAll(g),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Zi?function(o,u,d){if(!Vc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=O_(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(X1(o)),g.setAll(m),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Dl(i,e,n,a){return i instanceof Wl?function(u,d,m,g){if(!Vc(u.precondition,d))return m;const p=u.value.clone(),b=N_(u.fieldTransforms,g,d);return p.setAll(b),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(i,e,n,a):i instanceof Zi?function(u,d,m,g){if(!Vc(u.precondition,d))return m;const p=N_(u.fieldTransforms,g,d),b=d.data;return b.setAll(X1(u)),b.setAll(p),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,a):function(u,d,m){return Vc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,n)}function d4(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=G1(a.transform,o||null);u!=null&&(n===null&&(n=xn.empty()),n.set(a.field,u))}return n||null}function C_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&$s(a,o,(u,d)=>u4(u,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Wl extends ff{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends ff{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function X1(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function O_(i,e,n){const a=new Map;at(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,m=e.data.field(u.field);a.set(u.field,o4(d,m,n[o]))}return a}function N_(i,e,n){const a=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);a.set(o.field,s4(u,d,e))}return a}class W1 extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h4 extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&f4(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Dl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Dl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=H1();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const g=Y1(d,m);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(je.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,a)=>C_(n,a))&&$s(this.baseMutations,e.baseMutations,(n,a)=>C_(n,a))}}class Qm{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){at(e.mutations.length===a.length);let o=function(){return t4}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new Qm(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Xe;function y4(i){switch(i){default:return Ie();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function Z1(i){if(i===void 0)return li("GRPC error has no .code"),de.UNKNOWN;switch(i){case kt.OK:return de.OK;case kt.CANCELLED:return de.CANCELLED;case kt.UNKNOWN:return de.UNKNOWN;case kt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case kt.INTERNAL:return de.INTERNAL;case kt.UNAVAILABLE:return de.UNAVAILABLE;case kt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case kt.NOT_FOUND:return de.NOT_FOUND;case kt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case kt.ABORTED:return de.ABORTED;case kt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case kt.DATA_LOSS:return de.DATA_LOSS;default:return Ie()}}(Xe=kt||(kt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new Ua([4294967295,4294967295],0);function I_(i){const e=v4().encode(i),n=new E1;return n.update(e),new Uint8Array(n.digest())}function D_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ua([n,a],0),new Ua([o,u],0)]}class $m{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ua.fromNumber(this.Ie)}Ee(e,n,a){let o=e.add(n.multiply(Ua.fromNumber(a)));return o.compare(_4)===1&&(o=new Ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=I_(e),[a,o]=D_(n);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,o,u);if(!this.de(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new $m(u,o,n);return a.forEach(m=>d.insert(m)),d}insert(e){if(this.Ie===0)return;const n=I_(e),[a,o]=D_(n);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,o,u);this.Ae(d)}}Ae(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new df(je.min(),o,new St(Je),ui(),Qe())}}class Zl{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Zl(a,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,a,o){this.Re=e,this.removedTargetIds=n,this.key=a,this.Ve=o}}class J1{constructor(e,n){this.targetId=e,this.me=n}}class eb{constructor(e,n,a=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class M_{constructor(){this.fe=0,this.ge=P_(),this.pe=ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),n=Qe(),a=Qe();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ie()}}),new Zl(this.pe,this.ye,e,n,a)}Ce(){this.we=!1,this.ge=P_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class b4{constructor(e){this.Le=e,this.Be=new Map,this.ke=ui(),this.qe=j_(),this.Qe=new St(Je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const a=this.Ge(n);switch(e.state){case 0:this.ze(n)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),a.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((a,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,a=e.me.count,o=this.Je(n);if(o){const u=o.target;if(fm(u))if(a===0){const d=new Ae(u.path);this.Ue(n,d,mn.newNoDocument(d,je.min()))}else at(a===1);else{const d=this.Ye(n);if(d!==a){const m=this.Ze(e),g=m?this.Xe(m,e,d):1;if(g!==0){this.je(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,m;try{d=Ga(a).toUint8Array()}catch(g){if(g instanceof N1)return Qs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new $m(d,o,u)}catch(g){return Qs(g instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ie===0?null:m}Xe(e,n,a){return n.me.count===a-this.nt(e,n.targetId)?0:2}nt(e,n){const a=this.Le.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const d=this.Le.tt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,u,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((u,d)=>{const m=this.Je(d);if(m){if(u.current&&fm(m.target)){const g=new Ae(m.target.path);this.ke.get(g)!==null||this.it(d,g)||this.Ue(d,g,mn.newNoDocument(g,e))}u.be&&(n.set(d,u.ve()),u.Ce())}});let a=Qe();this.qe.forEach((u,d)=>{let m=!0;d.forEachWhile(g=>{const p=this.Je(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.ke.forEach((u,d)=>d.setReadTime(e));const o=new df(e,n,this.Qe,this.ke,a);return this.ke=ui(),this.qe=j_(),this.Qe=new St(Je),o}$e(e,n){if(!this.ze(e))return;const a=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,a),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,a){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),a&&(this.ke=this.ke.insert(n,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new M_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new on(Je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new M_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function j_(){return new St(Ae.comparator)}function P_(){return new St(Ae.comparator)}const E4={asc:"ASCENDING",desc:"DESCENDING"},S4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T4={and:"AND",or:"OR"};class w4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mm(i,e){return i.useProto3Json||sf(e)?e:{value:e}}function Kc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function A4(i,e){return Kc(i,e.toTimestamp())}function xr(i){return at(!!i),je.fromTimestamp(function(n){const a=Ki(n);return new At(a.seconds,a.nanos)}(i))}function Km(i,e){return pm(i,e).canonicalString()}function pm(i,e){const n=function(o){return new dt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function nb(i){const e=dt.fromString(i);return at(ob(e)),e}function gm(i,e){return Km(i.databaseId,e.path)}function jh(i,e){const n=nb(e);if(n.get(1)!==i.databaseId.projectId)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ae(ib(n))}function rb(i,e){return Km(i.databaseId,e)}function R4(i){const e=nb(i);return e.length===4?dt.emptyPath():ib(e)}function ym(i){return new dt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ib(i){return at(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function k_(i,e,n){return{name:gm(i,e),fields:n.value.mapValue.fields}}function x4(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,b){return p.useProto3Json?(at(b===void 0||typeof b=="string"),ln.fromBase64String(b||"")):(at(b===void 0||b instanceof Buffer||b instanceof Uint8Array),ln.fromUint8Array(b||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(p){const b=p.code===void 0?de.UNKNOWN:Z1(p.code);return new be(b,p.message||"")}(d);n=new eb(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=jh(i,a.document.name),u=xr(a.document.updateTime),d=a.document.createTime?xr(a.document.createTime):je.min(),m=new xn({mapValue:{fields:a.document.fields}}),g=mn.newFoundDocument(o,u,d,m),p=a.targetIds||[],b=a.removedTargetIds||[];n=new Lc(p,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=jh(i,a.document),u=a.readTime?xr(a.readTime):je.min(),d=mn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Lc([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=jh(i,a.document),u=a.removedTargetIds||[];n=new Lc([],u,o,null)}else{if(!("filter"in e))return Ie();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new g4(o,u),m=a.targetId;n=new J1(m,d)}}return n}function C4(i,e){let n;if(e instanceof Wl)n={update:k_(i,e.key,e.value)};else if(e instanceof W1)n={delete:gm(i,e.key)};else if(e instanceof Zi)n={update:k_(i,e.key,e.data),updateMask:V4(e.fieldMask)};else{if(!(e instanceof h4))return Ie();n={verify:gm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,d){const m=d.transform;if(m instanceof Hl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $c)return{fieldPath:d.field.canonicalString(),increment:m.Pe};throw Ie()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:A4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie()}(i,e.precondition)),n}function O4(i,e){return i&&i.length>0?(at(e!==void 0),i.map(n=>function(o,u){let d=o.updateTime?xr(o.updateTime):xr(u);return d.isEqual(je.min())&&(d=xr(u)),new c4(d,o.transformResults||[])}(n,e))):[]}function N4(i,e){return{documents:[rb(i,e.path)]}}function I4(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=rb(i,o);const u=function(p){if(p.length!==0)return sb(sr.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(p){if(p.length!==0)return p.map(b=>function(x){return{field:Bs(x.field),direction:j4(x.dir)}}(b))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=mm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{_t:n,parent:o}}function D4(i){let e=R4(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){at(a===1);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=function(w){const x=ab(w);return x instanceof sr&&j1(x)?x.getFilters():[x]}(n.where));let d=[];n.orderBy&&(d=function(w){return w.map(x=>function(z){return new ql(qs(z.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(w){let x;return x=typeof w=="object"?w.value:w,sf(x)?null:x}(n.limit));let g=null;n.startAt&&(g=function(w){const x=!!w.before,P=w.values||[];return new Qc(P,x)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const x=!w.before,P=w.values||[];return new Qc(P,x)}(n.endAt)),XA(e,o,d,u,m,"F",g,p)}function M4(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ab(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=qs(n.unaryFilter.field);return Vt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=qs(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qs(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qs(n.unaryFilter.field);return Vt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(i):i.fieldFilter!==void 0?function(n){return Vt.create(qs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(a=>ab(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(i):Ie()}function j4(i){return E4[i]}function P4(i){return S4[i]}function k4(i){return T4[i]}function Bs(i){return{fieldPath:i.canonicalString()}}function qs(i){return an.fromServerFormat(i.fieldPath)}function sb(i){return i instanceof Vt?function(n){if(n.op==="=="){if(S_(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(E_(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S_(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(E_(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:P4(n.op),value:n.value}}}(i):i instanceof sr?function(n){const a=n.getFilters().map(o=>sb(o));return a.length===1?a[0]:{compositeFilter:{op:k4(n.op),filters:a}}}(i):Ie()}function V4(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ob(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,a,o,u=je.min(),d=je.min(),m=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.ct=e}}function z4(i){const e=D4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.un=new B4}addToCollectionParentIndex(e,n){return this.un.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve($i.min())}updateCollectionGroup(e,n,a){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class B4{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new on(dt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new on(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xs(0)}static kn(){return new Xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.changes=new so(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?pe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Dl(a.mutation,o,kn.empty(),At.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Qe()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Qe()){const o=La();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let d=Rl();return u.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=La();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Qe()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,a,o){let u=ui();const d=Il(),m=function(){return Il()}();return n.forEach((g,p)=>{const b=a.get(p.key);o.has(p.key)&&(b===void 0||b.mutation instanceof Zi)?u=u.insert(p.key,p):b!==void 0?(d.set(p.key,b.mutation.getFieldMask()),Dl(b.mutation,p,b.mutation.getFieldMask(),At.now())):d.set(p.key,kn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,b)=>d.set(p,b)),n.forEach((p,b)=>{var w;return m.set(p,new H4(b,(w=d.get(p))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Il();let o=new St((d,m)=>d-m),u=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let b=a.get(g)||kn.empty();b=m.applyToLocalView(p,b),a.set(g,b);const w=(o.get(m.batchId)||Qe()).add(g);o=o.insert(m.batchId,w)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,b=g.value,w=H1();b.forEach(x=>{if(!u.has(x)){const P=Y1(n.get(x),a.get(x));P!==null&&w.set(x,P),u=u.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,w))}return pe.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(d){return Ae.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):pe.resolve(La());let m=-1,g=u;return d.next(p=>pe.forEach(p,(b,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(b)?pe.resolve():this.remoteDocumentCache.getEntry(e,b).next(x=>{g=g.insert(b,x)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Qe())).next(b=>({batchId:m,changes:q1(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(a=>{let o=Rl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(e,u).next(m=>pe.forEach(m,g=>{const p=function(w,x){return new ao(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(b=>{b.forEach((w,x)=>{d=d.insert(w,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(d=>{u.forEach((g,p)=>{const b=p.getKey();d.get(b)===null&&(d=d.insert(b,mn.newInvalidDocument(b)))});let m=Rl();return d.forEach((g,p)=>{const b=u.get(g);b!==void 0&&Dl(b.mutation,p,kn.empty(),At.now()),uf(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return pe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:z4(o.bundledQuery),readTime:xr(o.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.overlays=new St(Ae.comparator),this.Ir=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=La();return pe.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.ht(e,n,u)}),pe.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Ir.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(a)),pe.resolve()}getOverlaysForCollection(e,n,a){const o=La(),u=n.length+1,d=new Ae(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return pe.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new St((p,b)=>p-b);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let b=u.get(p.largestBatchId);b===null&&(b=La(),u=u.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const m=La(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,b)=>m.set(p,b)),!(m.size()>=o)););return pe.resolve(m)}ht(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(a.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new p4(n,a));let u=this.Ir.get(n);u===void 0&&(u=Qe(),this.Ir.set(n,u)),this.Ir.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.Tr=new on(Yt.Er),this.dr=new on(Yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const a=new Yt(e,n);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Vr(new Yt(e,n))}mr(e,n){e.forEach(a=>this.removeReference(a,n))}gr(e){const n=new Ae(new dt([])),a=new Yt(n,e),o=new Yt(n,e+1),u=[];return this.dr.forEachInRange([a,o],d=>{this.Vr(d),u.push(d.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ae(new dt([])),a=new Yt(n,e),o=new Yt(n,e+1);let u=Qe();return this.dr.forEachInRange([a,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Yt(e,0),a=this.Tr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ae.comparator(e.key,n.key)||Je(e.wr,n.wr)}static Ar(e,n){return Je(e.wr,n.wr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new on(Yt.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new m4(u,n,a,o);this.mutationQueue.push(d);for(const m of o)this.br=this.br.add(new Yt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return pe.resolve(d)}lookupMutationBatch(e,n){return pe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.vr(a),u=o<0?0:o;return pe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Yt(n,0),o=new Yt(n,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([a,o],d=>{const m=this.Dr(d.wr);u.push(m)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new on(Je);return n.forEach(o=>{const u=new Yt(o,0),d=new Yt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],m=>{a=a.add(m.wr)})}),pe.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ae.isDocumentKey(u)||(u=u.child(""));const d=new Yt(new Ae(u),0);let m=new on(Je);return this.br.forEachWhile(g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.wr)),!0)},d),pe.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach(a=>{const o=this.Dr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){at(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return pe.forEach(n.mutations,o=>{const u=new Yt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,n){const a=new Yt(n,0),o=this.br.firstAfterOrEqual(a);return pe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.Mr=e,this.docs=function(){return new St(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.Mr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return pe.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let a=ui();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))}),pe.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ui();const d=n.path,m=new Ae(d.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:b}}=g.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||IA(NA(b),a)<=0||(o.has(b.key)||uf(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return pe.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ie()}Or(e,n){return pe.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new X4(this)}getSize(e){return pe.resolve(this.size)}}class X4 extends q4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(a)}),pe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.persistence=e,this.Nr=new so(n=>Hm(n),Fm),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ym,this.targetCount=0,this.kr=Xs.Bn()}forEachTarget(e,n){return this.Nr.forEach((a,o)=>n(o)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.Lr&&(this.Lr=n),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Kn(n),pe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Nr.forEach((d,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),pe.waitFor(u).next(()=>o)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const a=this.Nr.get(n)||null;return pe.resolve(a)}addMatchingKeys(e,n,a){return this.Br.Rr(n,a),pe.resolve()}removeMatchingKeys(e,n,a){this.Br.mr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Br.yr(n);return pe.resolve(a)}containsKey(e,n){return pe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zm(0),this.Kr=!1,this.Kr=!0,this.$r=new $4,this.referenceDelegate=e(this),this.Ur=new W4(this),this.indexManager=new U4,this.remoteDocumentCache=function(o){return new Y4(o)}(a=>this.referenceDelegate.Wr(a)),this.serializer=new L4(n),this.Gr=new G4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.qr[e.toKey()];return a||(a=new K4(n,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,a){Te("MemoryPersistence","Starting transaction:",e);const o=new J4(this.Qr.next());return this.referenceDelegate.zr(),a(o).next(u=>this.referenceDelegate.jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Hr(e,n){return pe.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,n)))}}class J4 extends MA{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Jr=new Ym,this.Yr=null}static Zr(e){return new Xm(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,n,a){return this.Jr.addReference(a,n),this.Xr.delete(a.toString()),pe.resolve()}removeReference(e,n,a){return this.Jr.removeReference(a,n),this.Xr.add(a.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.Xr.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,a=>{const o=Ae.fromPath(a);return this.ei(e,o).next(u=>{u||n.removeEntry(o,je.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(a=>{a?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return pe.or([()=>pe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.$i=a,this.Ui=o}static Wi(e,n){let a=Qe(),o=Qe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wm(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sw()?8:jA(iw())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.Yi(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.Zi(e,n,o,a).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new eR;return this.Xi(e,n,d).next(m=>{if(u.result=m,this.zi)return this.es(e,n,d,m.size)})}).next(()=>u.result)}es(e,n,a,o){return a.documentReadCount<this.ji?(bl()<=We.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(bl()<=We.DEBUG&&Te("QueryEngine","Query:",Us(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.Hi*o?(bl()<=We.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):pe.resolve())}Yi(e,n){if(R_(n))return pe.resolve(null);let a=Ar(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=hm(n,null,"F"),a=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const d=Qe(...u);return this.Ji.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const p=this.ts(n,m);return this.ns(n,p,d,g.readTime)?this.Yi(e,hm(n,null,"F")):this.rs(e,p,n,g)}))})))}Zi(e,n,a,o){return R_(n)||o.isEqual(je.min())?pe.resolve(null):this.Ji.getDocuments(e,a).next(u=>{const d=this.ts(n,u);return this.ns(n,d,a,o)?pe.resolve(null):(bl()<=We.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Us(n)),this.rs(e,d,n,OA(o,-1)).next(m=>m))})}ts(e,n){let a=new on(U1(e));return n.forEach((o,u)=>{uf(e,u)&&(a=a.add(u))}),a}ns(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,n,a){return bl()<=We.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Us(n)),this.Ji.getDocumentsMatchingQuery(e,n,$i.min(),a)}rs(e,n,a,o){return this.Ji.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,a,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new St(Je),this._s=new so(u=>Hm(u),Fm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function rR(i,e,n,a){return new nR(i,e,n,a)}async function lb(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const d=[],m=[];let g=Qe();for(const p of o){d.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}for(const p of u){m.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(a,g).next(p=>({hs:p,removedBatchIds:d,addedBatchIds:m}))})})}function iR(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.cs.newChangeBuffer({trackRemovals:!0});return function(m,g,p,b){const w=p.batch,x=w.keys();let P=pe.resolve();return x.forEach(z=>{P=P.next(()=>b.getEntry(g,z)).next(V=>{const L=p.docVersions.get(z);at(L!==null),V.version.compareTo(L)<0&&(w.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),b.addEntry(V)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(g,w))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=Qe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function ub(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function aR(i,e){const n=De(i),a=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const m=[];e.targetChanges.forEach((b,w)=>{const x=o.get(w);if(!x)return;m.push(n.Ur.removeMatchingKeys(u,b.removedDocuments,w).next(()=>n.Ur.addMatchingKeys(u,b.addedDocuments,w)));let P=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?P=P.withResumeToken(ln.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,a)),o=o.insert(w,P),function(V,L,H){return V.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(x,P,b)&&m.push(n.Ur.updateTargetData(u,P))});let g=ui(),p=Qe();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(sR(u,d,e.documentUpdates).next(b=>{g=b.Ps,p=b.Is})),!a.isEqual(je.min())){const b=n.Ur.getLastRemoteSnapshotVersion(u).next(w=>n.Ur.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(b)}return pe.waitFor(m).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.os=o,u))}function sR(i,e,n){let a=Qe(),o=Qe();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let d=ui();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(je.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):Te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Ps:d,Is:o}})}function oR(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function lR(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ur.getTargetData(a,e).next(u=>u?(o=u,pe.resolve(o)):n.Ur.allocateTargetId(a).next(d=>(o=new qi(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Ur.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.os.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(a.targetId,a),n._s.set(e,a.targetId)),a})}async function vm(i,e,n){const a=De(i),o=a.os.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Xl(d))throw d;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}a.os=a.os.remove(e),a._s.delete(o.target)}function V_(i,e,n){const a=De(i);let o=je.min(),u=Qe();return a.persistence.runTransaction("Execute query","readwrite",d=>function(g,p,b){const w=De(g),x=w._s.get(b);return x!==void 0?pe.resolve(w.os.get(x)):w.Ur.getTargetData(p,b)}(a,d,Ar(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,m.targetId).next(g=>{u=g})}).next(()=>a.ss.getDocumentsMatchingQuery(d,e,n?o:je.min(),n?u:Qe())).next(m=>(uR(a,ZA(e),m),{documents:m,Ts:u})))}function uR(i,e,n){let a=i.us.get(e)||je.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.us.set(e,a)}class L_{constructor(){this.activeTargetIds=i4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cR{constructor(){this.so=new L_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,a){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new L_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function Ph(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class mR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+n.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(n,a,o,u,d){const m=Ph(),g=this.xo(n,a.toUriEncodedString());Te("RestConnection",`Sending RPC '${n}' ${m}:`,g,o);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,u,d),this.No(n,g,p,o).then(b=>(Te("RestConnection",`Received RPC '${n}' ${m}: `,b),b),b=>{throw Qs("RestConnection",`RPC '${n}' ${m} failed with error: `,b,"url: ",g,"request:",o),b})}Lo(n,a,o,u,d,m){return this.Mo(n,a,o,u,d)}Oo(n,a,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((u,d)=>n[d]=u),o&&o.headers.forEach((u,d)=>n[d]=u)}xo(n,a){const o=dR[n];return`${this.Do}/v1/${a}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,a,o){const u=Ph();return new Promise((d,m)=>{const g=new S1;g.setWithCredentials(!0),g.listenOnce(T1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Pc.NO_ERROR:const b=g.getResponseJson();Te(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Pc.TIMEOUT:Te(dn,`RPC '${e}' ${u} timed out`),m(new be(de.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const w=g.getStatus();if(Te(dn,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x==null?void 0:x.error;if(P&&P.status&&P.message){const z=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN}(P.status);m(new be(z,P.message))}else m(new be(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new be(de.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{Te(dn,`RPC '${e}' ${u} completed.`)}});const p=JSON.stringify(o);Te(dn,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",p,a,15)})}Bo(e,n,a){const o=Ph(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=R1(),m=A1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const b=u.join("");Te(dn,`Creating RPC '${e}' stream ${o}: ${b}`,g);const w=d.createWebChannel(b,g);let x=!1,P=!1;const z=new hR({Io:L=>{P?Te(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(x||(Te(dn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),Te(dn,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},To:()=>w.close()}),V=(L,H,ee)=>{L.listen(H,se=>{try{ee(se)}catch(he){setTimeout(()=>{throw he},0)}})};return V(w,Al.EventType.OPEN,()=>{P||(Te(dn,`RPC '${e}' stream ${o} transport opened.`),z.yo())}),V(w,Al.EventType.CLOSE,()=>{P||(P=!0,Te(dn,`RPC '${e}' stream ${o} transport closed`),z.So())}),V(w,Al.EventType.ERROR,L=>{P||(P=!0,Qs(dn,`RPC '${e}' stream ${o} transport errored:`,L),z.So(new be(de.UNAVAILABLE,"The operation could not be completed")))}),V(w,Al.EventType.MESSAGE,L=>{var H;if(!P){const ee=L.data[0];at(!!ee);const se=ee,he=se.error||((H=se[0])===null||H===void 0?void 0:H.error);if(he){Te(dn,`RPC '${e}' stream ${o} received error:`,he);const U=he.status;let F=function(R){const E=kt[R];if(E!==void 0)return Z1(E)}(U),O=he.message;F===void 0&&(F=de.INTERNAL,O="Unknown error status: "+U+" with message "+he.message),P=!0,z.So(new be(F,O)),w.close()}else Te(dn,`RPC '${e}' stream ${o} received:`,ee),z.bo(ee)}}),V(m,w1.STAT_EVENT,L=>{L.stat===om.PROXY?Te(dn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===om.NOPROXY&&Te(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.wo()},0),z}}function kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i){return new w4(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=n,this.ko=a,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-a);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,a,o,u,d,m,g){this.ui=e,this.Ho=a,this.Jo=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cb(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.Yo===n&&this.P_(a,o)},a=>{e(()=>{const o=new be(de.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(o)})})}P_(e,n){const a=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{a(()=>this.I_(o))}),this.stream.onMessage(o=>{a(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pR extends fb{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=x4(this.serializer,e),a=function(u){if(!("targetChange"in u))return je.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?je.min():d.readTime?xr(d.readTime):je.min()}(e);return this.listener.d_(n,a)}A_(e){const n={};n.database=ym(this.serializer),n.addTarget=function(u,d){let m;const g=d.target;if(m=fm(g)?{documents:N4(u,g)}:{query:I4(u,g)._t},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=tb(u,d.resumeToken);const p=mm(u,d.expectedCount);p!==null&&(m.expectedCount=p)}else if(d.snapshotVersion.compareTo(je.min())>0){m.readTime=Kc(u,d.snapshotVersion.toTimestamp());const p=mm(u,d.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const a=M4(this.serializer,e);a&&(n.labels=a),this.a_(n)}R_(e){const n={};n.database=ym(this.serializer),n.removeTarget=e,this.a_(n)}}class gR extends fb{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=O4(e.writeResults,e.commitTime),a=xr(e.commitTime);return this.listener.g_(a,n)}p_(){const e={};e.database=ym(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>C4(this.serializer,a))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR extends class{}{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,a,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Mo(e,pm(n,a),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(de.UNKNOWN,u.toString())})}Lo(e,n,a,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Lo(e,pm(n,a),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new be(de.UNKNOWN,d.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(li(n),this.D_=!1):Te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(d=>{a.enqueueAndForget(async()=>{Ya(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await async function(g){const p=De(g);p.L_.add(4),await oo(p),p.q_.set("Unknown"),p.L_.delete(4),await Jl(p)}(this))})}),this.q_=new vR(a,o)}}async function Jl(i){if(Ya(i))for(const e of i.B_)await e(!0)}async function oo(i){for(const e of i.B_)await e(!1)}function db(i,e){const n=De(i);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),tp(n)?ep(n):lo(n).r_()&&Jm(n,e))}function Zm(i,e){const n=De(i),a=lo(n);n.N_.delete(e),a.r_()&&hb(n,e),n.N_.size===0&&(a.r_()?a.o_():Ya(n)&&n.q_.set("Unknown"))}function Jm(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(i).A_(e)}function hb(i,e){i.Q_.xe(e),lo(i).R_(e)}function ep(i){i.Q_=new b4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),lo(i).start(),i.q_.v_()}function tp(i){return Ya(i)&&!lo(i).n_()&&i.N_.size>0}function Ya(i){return De(i).L_.size===0}function mb(i){i.Q_=void 0}async function bR(i){i.q_.set("Online")}async function ER(i){i.N_.forEach((e,n)=>{Jm(i,e)})}async function SR(i,e){mb(i),tp(i)?(i.q_.M_(e),ep(i)):i.q_.set("Unknown")}async function TR(i,e,n){if(i.q_.set("Online"),e instanceof eb&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.N_.delete(m),o.Q_.removeTarget(m))}(i,e)}catch(a){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Yc(i,a)}else if(e instanceof Lc?i.Q_.Ke(e):e instanceof J1?i.Q_.He(e):i.Q_.We(e),!n.isEqual(je.min()))try{const a=await ub(i.localStore);n.compareTo(a)>=0&&await function(u,d){const m=u.Q_.rt(d);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.N_.get(p);b&&u.N_.set(p,b.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,p)=>{const b=u.N_.get(g);if(!b)return;u.N_.set(g,b.withResumeToken(ln.EMPTY_BYTE_STRING,b.snapshotVersion)),hb(u,g);const w=new qi(b.target,g,p,b.sequenceNumber);Jm(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){Te("RemoteStore","Failed to raise snapshot:",a),await Yc(i,a)}}async function Yc(i,e,n){if(!Xl(e))throw e;i.L_.add(1),await oo(i),i.q_.set("Offline"),n||(n=()=>ub(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{Te("RemoteStore","Retrying IndexedDB access"),await n(),i.L_.delete(1),await Jl(i)})}function pb(i,e){return e().catch(n=>Yc(i,n,e))}async function mf(i){const e=De(i),n=Yi(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wR(e);)try{const o=await oR(e.localStore,a);if(o===null){e.O_.length===0&&n.o_();break}a=o.batchId,AR(e,o)}catch(o){await Yc(e,o)}gb(e)&&yb(e)}function wR(i){return Ya(i)&&i.O_.length<10}function AR(i,e){i.O_.push(e);const n=Yi(i);n.r_()&&n.V_&&n.m_(e.mutations)}function gb(i){return Ya(i)&&!Yi(i).n_()&&i.O_.length>0}function yb(i){Yi(i).start()}async function RR(i){Yi(i).p_()}async function xR(i){const e=Yi(i);for(const n of i.O_)e.m_(n.mutations)}async function CR(i,e,n){const a=i.O_.shift(),o=Qm.from(a,e,n);await pb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await mf(i)}async function OR(i,e){e&&Yi(i).V_&&await async function(a,o){if(function(d){return y4(d)&&d!==de.ABORTED}(o.code)){const u=a.O_.shift();Yi(a).s_(),await pb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await mf(a)}}(i,e),gb(i)&&yb(i)}async function U_(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const a=Ya(n);n.L_.add(3),await oo(n),a&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Jl(n)}async function NR(i,e){const n=De(i);e?(n.L_.delete(2),await Jl(n)):e||(n.L_.add(2),await oo(n),n.q_.set("Unknown"))}function lo(i){return i.K_||(i.K_=function(n,a,o){const u=De(n);return u.w_(),new pR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Eo:bR.bind(null,i),Ro:ER.bind(null,i),mo:SR.bind(null,i),d_:TR.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),tp(i)?ep(i):i.q_.set("Unknown")):(await i.K_.stop(),mb(i))})),i.K_}function Yi(i){return i.U_||(i.U_=function(n,a,o){const u=De(n);return u.w_(),new gR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:RR.bind(null,i),mo:OR.bind(null,i),f_:xR.bind(null,i),g_:CR.bind(null,i)}),i.B_.push(async e=>{e?(i.U_.s_(),await mf(i)):(await i.U_.stop(),i.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))})),i.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,m=new np(e,n,d,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(i,e){if(li("AsyncQueue",`${e}: ${i}`),Xl(i))return new be(de.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ae.comparator(n.key,a.key):(n,a)=>Ae.comparator(n.key,a.key),this.keyedMap=Rl(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Hs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.W_=new St(Ae.comparator)}track(e){const n=e.doc.key,a=this.W_.get(n);a?e.type!==0&&a.type===3?this.W_=this.W_.insert(n,e):e.type===3&&a.type!==1?this.W_=this.W_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.W_=this.W_.remove(n):e.type===1&&a.type===2?this.W_=this.W_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,a)=>{e.push(a)}),e}}class Ws{constructor(e,n,a,o,u,d,m,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new Ws(e,n,Hs.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class DR{constructor(){this.queries=q_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,a){const o=De(n),u=o.queries;o.queries=q_(),u.forEach((d,m)=>{for(const g of m.j_)g.onError(a)})})(this,new be(de.ABORTED,"Firestore shutting down"))}}function q_(){return new so(i=>z1(i),lf)}async function ip(i,e){const n=De(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.H_()&&e.J_()&&(a=2):(u=new IR,a=e.J_()?0:1);try{switch(a){case 0:u.z_=await n.onListen(o,!0);break;case 1:u.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=rp(d,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.j_.push(e),e.Z_(n.onlineState),u.z_&&e.X_(u.z_)&&sp(n)}async function ap(i,e){const n=De(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.j_.indexOf(e);d>=0&&(u.j_.splice(d,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function MR(i,e){const n=De(i);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const m of d.j_)m.X_(o)&&(a=!0);d.z_=o}}a&&sp(n)}function jR(i,e,n){const a=De(i),o=a.queries.get(e);if(o)for(const u of o.j_)u.onError(n);a.queries.delete(e)}function sp(i){i.Y_.forEach(e=>{e.next()})}var _m,H_;(H_=_m||(_m={})).ea="default",H_.Cache="cache";class op{constructor(e,n,a){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ws(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const a=n!=="Offline";return(!this.options._a||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.key=e}}class _b{constructor(e){this.key=e}}class PR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qe(),this.mutatedKeys=Qe(),this.Aa=U1(e),this.Ra=new Hs(this.Aa)}get Va(){return this.Ta}ma(e,n){const a=n?n.fa:new B_,o=n?n.Ra:this.Ra;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,w)=>{const x=o.get(b),P=uf(this.query,w)?w:null,z=!!x&&this.mutatedKeys.has(x.key),V=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;x&&P?x.data.isEqual(P.data)?z!==V&&(a.track({type:3,doc:P}),L=!0):this.ga(x,P)||(a.track({type:2,doc:P}),L=!0,(g&&this.Aa(P,g)>0||p&&this.Aa(P,p)<0)&&(m=!0)):!x&&P?(a.track({type:0,doc:P}),L=!0):x&&!P&&(a.track({type:1,doc:x}),L=!0,(g||p)&&(m=!0)),L&&(P?(d=d.add(P),u=V?u.add(b):u.delete(b)):(d=d.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),u=u.delete(b.key),a.track({type:1,doc:b})}return{Ra:d,fa:a,ns:m,mutatedKeys:u}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort((b,w)=>function(P,z){const V=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return V(P)-V(z)}(b.type,w.type)||this.Aa(b.doc,w.doc)),this.pa(a),o=o!=null&&o;const m=n&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,p=g!==this.Ea;return this.Ea=g,d.length!==0||p?{snapshot:new Ws(this.query,e.Ra,u,d,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new B_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qe(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const n=[];return e.forEach(a=>{this.da.has(a)||n.push(new _b(a))}),this.da.forEach(a=>{e.has(a)||n.push(new vb(a))}),n}ba(e){this.Ta=e.Ts,this.da=Qe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ws.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kR{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class VR{constructor(e){this.key=e,this.va=!1}}class LR{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new so(m=>z1(m),lf),this.Ma=new Map,this.xa=new Set,this.Oa=new St(Ae.comparator),this.Na=new Map,this.La=new Ym,this.Ba={},this.ka=new Map,this.qa=Xs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function zR(i,e,n=!0){const a=Ab(i);let o;const u=a.Fa.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await bb(a,e,n,!0),o}async function UR(i,e){const n=Ab(i);await bb(n,e,!0,!1)}async function bb(i,e,n,a){const o=await lR(i.localStore,Ar(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await BR(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&db(i.remoteStore,o),m}async function BR(i,e,n,a,o){i.Ka=(w,x,P)=>async function(V,L,H,ee){let se=L.view.ma(H);se.ns&&(se=await V_(V.localStore,L.query,!1).then(({documents:O})=>L.view.ma(O,se)));const he=ee&&ee.targetChanges.get(L.targetId),U=ee&&ee.targetMismatches.get(L.targetId)!=null,F=L.view.applyChanges(se,V.isPrimaryClient,he,U);return G_(V,L.targetId,F.wa),F.snapshot}(i,w,x,P);const u=await V_(i.localStore,e,!0),d=new PR(e,u.Ts),m=d.ma(u.documents),g=Zl.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),p=d.applyChanges(m,i.isPrimaryClient,g);G_(i,n,p.wa);const b=new kR(e,n,d);return i.Fa.set(e,b),i.Ma.has(n)?i.Ma.get(n).push(e):i.Ma.set(n,[e]),p.snapshot}async function qR(i,e,n){const a=De(i),o=a.Fa.get(e),u=a.Ma.get(o.targetId);if(u.length>1)return a.Ma.set(o.targetId,u.filter(d=>!lf(d,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Zm(a.remoteStore,o.targetId),bm(a,o.targetId)}).catch(Yl)):(bm(a,o.targetId),await vm(a.localStore,o.targetId,!0))}async function HR(i,e){const n=De(i),a=n.Fa.get(e),o=n.Ma.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(n.remoteStore,a.targetId))}async function FR(i,e,n){const a=WR(i);try{const o=await function(d,m){const g=De(d),p=At.now(),b=m.reduce((P,z)=>P.add(z.key),Qe());let w,x;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let z=ui(),V=Qe();return g.cs.getEntries(P,b).next(L=>{z=L,z.forEach((H,ee)=>{ee.isValidDocument()||(V=V.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,z)).next(L=>{w=L;const H=[];for(const ee of m){const se=d4(ee,w.get(ee.key).overlayedDocument);se!=null&&H.push(new Zi(ee.key,se,I1(se.value.mapValue),Rr.exists(!0)))}return g.mutationQueue.addMutationBatch(P,p,H,m)}).next(L=>{x=L;const H=L.applyToLocalDocumentSet(w,V);return g.documentOverlayCache.saveOverlays(P,L.batchId,H)})}).then(()=>({batchId:x.batchId,changes:q1(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let p=d.Ba[d.currentUser.toKey()];p||(p=new St(Je)),p=p.insert(m,g),d.Ba[d.currentUser.toKey()]=p}(a,o.batchId,n),await eu(a,o.changes),await mf(a.remoteStore)}catch(o){const u=rp(o,"Failed to persist write");n.reject(u)}}async function Eb(i,e){const n=De(i);try{const a=await aR(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Na.get(u);d&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?at(d.va):o.removedDocuments.size>0&&(at(d.va),d.va=!1))}),await eu(n,a,e)}catch(a){await Yl(a)}}function F_(i,e,n){const a=De(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Fa.forEach((u,d)=>{const m=d.view.Z_(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=De(d);g.onlineState=m;let p=!1;g.queries.forEach((b,w)=>{for(const x of w.j_)x.Z_(m)&&(p=!0)}),p&&sp(g)}(a.eventManager,e),o.length&&a.Ca.d_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function GR(i,e,n){const a=De(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Na.get(e),u=o&&o.key;if(u){let d=new St(Ae.comparator);d=d.insert(u,mn.newNoDocument(u,je.min()));const m=Qe().add(u),g=new df(je.min(),new Map,new St(Je),d,m);await Eb(a,g),a.Oa=a.Oa.remove(u),a.Na.delete(e),lp(a)}else await vm(a.localStore,e,!1).then(()=>bm(a,e,n)).catch(Yl)}async function QR(i,e){const n=De(i),a=e.batch.batchId;try{const o=await iR(n.localStore,e);Tb(n,a,null),Sb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await eu(n,o)}catch(o){await Yl(o)}}async function $R(i,e,n){const a=De(i);try{const o=await function(d,m){const g=De(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let b;return g.mutationQueue.lookupMutationBatch(p,m).next(w=>(at(w!==null),b=w.keys(),g.mutationQueue.removeMutationBatch(p,w))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,b,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b)).next(()=>g.localDocuments.getDocuments(p,b))})}(a.localStore,e);Tb(a,e,n),Sb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await eu(a,o)}catch(o){await Yl(o)}}function Sb(i,e){(i.ka.get(e)||[]).forEach(n=>{n.resolve()}),i.ka.delete(e)}function Tb(i,e,n){const a=De(i);let o=a.Ba[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Ba[a.currentUser.toKey()]=o}}function bm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Ma.get(e))i.Fa.delete(a),n&&i.Ca.$a(a,n);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(a=>{i.La.containsKey(a)||wb(i,a)})}function wb(i,e){i.xa.delete(e.path.canonicalString());const n=i.Oa.get(e);n!==null&&(Zm(i.remoteStore,n),i.Oa=i.Oa.remove(e),i.Na.delete(n),lp(i))}function G_(i,e,n){for(const a of n)a instanceof vb?(i.La.addReference(a.key,e),KR(i,a)):a instanceof _b?(Te("SyncEngine","Document no longer in limbo: "+a.key),i.La.removeReference(a.key,e),i.La.containsKey(a.key)||wb(i,a.key)):Ie()}function KR(i,e){const n=e.key,a=n.path.canonicalString();i.Oa.get(n)||i.xa.has(a)||(Te("SyncEngine","New document in limbo: "+n),i.xa.add(a),lp(i))}function lp(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const n=new Ae(dt.fromString(e)),a=i.qa.next();i.Na.set(a,new VR(n)),i.Oa=i.Oa.insert(n,a),db(i.remoteStore,new qi(Ar(of(n.path)),a,"TargetPurposeLimboResolution",zm.oe))}}async function eu(i,e,n){const a=De(i),o=[],u=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach((m,g)=>{d.push(a.Ka(g,e,n).then(p=>{var b;if((p||n)&&a.isPrimaryClient){const w=p?!p.fromCache:(b=n==null?void 0:n.targetChanges.get(g.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(p){o.push(p);const w=Wm.Wi(g.targetId,p);u.push(w)}}))}),await Promise.all(d),a.Ca.d_(o),await async function(g,p){const b=De(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>pe.forEach(p,x=>pe.forEach(x.$i,P=>b.persistence.referenceDelegate.addReference(w,x.targetId,P)).next(()=>pe.forEach(x.Ui,P=>b.persistence.referenceDelegate.removeReference(w,x.targetId,P)))))}catch(w){if(!Xl(w))throw w;Te("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const x=w.targetId;if(!w.fromCache){const P=b.os.get(x),z=P.snapshotVersion,V=P.withLastLimboFreeSnapshotVersion(z);b.os=b.os.insert(x,V)}}}(a.localStore,u))}async function YR(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const a=await lb(n.localStore,e);n.currentUser=e,function(u,d){u.ka.forEach(m=>{m.forEach(g=>{g.reject(new be(de.CANCELLED,d))})}),u.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await eu(n,a.hs)}}function XR(i,e){const n=De(i),a=n.Na.get(e);if(a&&a.va)return Qe().add(a.key);{let o=Qe();const u=n.Ma.get(e);if(!u)return o;for(const d of u){const m=n.Fa.get(d);o=o.unionWith(m.view.Va)}return o}}function Ab(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GR.bind(null,e),e.Ca.d_=MR.bind(null,e.eventManager),e.Ca.$a=jR.bind(null,e.eventManager),e}function WR(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$R.bind(null,e),e}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return rR(this.persistence,new tR,e.initialUser,this.serializer)}Ga(e){return new Z4(Xm.Zr,this.serializer)}Wa(e){return new cR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class Em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>F_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=YR.bind(null,this.syncEngine),await NR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DR}()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),a=function(u){return new mR(u)}(e.databaseInfo);return function(u,d,m,g){return new yR(u,d,m,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,d,m){return new _R(a,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>F_(this.syncEngine,n,0),function(){return z_.D()?new z_:new fR}())}createSyncEngine(e,n){return function(o,u,d,m,g,p,b){const w=new LR(o,u,d,m,g,p);return b&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=De(o);Te("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await oo(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Em.provider={build:()=>new Em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=C1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async d=>{Te("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(Te("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=rp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Vh(i,e){i.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await lb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Q_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Rb(i);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>U_(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>U_(e.remoteStore,o)),i._onlineComponents=e}async function Rb(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Qs("Error using user provided cache. Falling back to memory cache: "+n),await Vh(i,new Xc)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await Vh(i,new Xc);return i._offlineComponents}async function cp(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await Q_(i,i._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await Q_(i,new Em))),i._onlineComponents}function xb(i){return Rb(i).then(e=>e.persistence)}function Cb(i){return cp(i).then(e=>e.remoteStore)}function JR(i){return cp(i).then(e=>e.syncEngine)}async function Wc(i){const e=await cp(i),n=e.eventManager;return n.onListen=zR.bind(null,e.syncEngine),n.onUnlisten=qR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HR.bind(null,e.syncEngine),n}function ex(i){return i.asyncQueue.enqueue(async()=>{const e=await xb(i),n=await Cb(i);return e.setNetworkEnabled(!0),function(o){const u=De(o);return u.L_.delete(0),Jl(u)}(n)})}function tx(i){return i.asyncQueue.enqueue(async()=>{const e=await xb(i),n=await Cb(i);return e.setNetworkEnabled(!1),async function(o){const u=De(o);u.L_.add(0),await oo(u),u.q_.set("Offline")}(n)})}function nx(i,e,n={}){const a=new ai;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,m,g,p){const b=new up({next:x=>{b.Za(),d.enqueueAndForget(()=>ap(u,w));const P=x.docs.has(m);!P&&x.fromCache?p.reject(new be(de.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&x.fromCache&&g&&g.source==="server"?p.reject(new be(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new op(of(m.path),b,{includeMetadataChanges:!0,_a:!0});return ip(u,w)}(await Wc(i),i.asyncQueue,e,n,a)),a.promise}function rx(i,e,n={}){const a=new ai;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,m,g,p){const b=new up({next:x=>{b.Za(),d.enqueueAndForget(()=>ap(u,w)),x.fromCache&&g.source==="server"?p.reject(new be(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new op(m,b,{includeMetadataChanges:!0,_a:!0});return ip(u,w)}(await Wc(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(i,e,n){if(!n)throw new be(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ix(i,e,n,a){if(e===!0&&a===!0)throw new be(de.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function K_(i){if(!Ae.isDocumentKey(i))throw new be(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Y_(i){if(Ae.isDocumentKey(i))throw new be(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie()}function Vn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new be(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pf(i);throw new be(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new be(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ix("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ob((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new bA;switch(a.type){case"firstParty":return new wA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new be(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=$_.get(n);a&&(Te("ComponentProvider","Removing Datastore"),$_.delete(n),a.terminate())}(this),Promise.resolve()}}function ax(i,e,n,a={}){var o;const u=(i=Vn(i,gf))._getSettings(),d=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),a.mockUserToken){let m,g;if(typeof a.mockUserToken=="string")m=a.mockUserToken,g=hn.MOCK_USER;else{m=d1(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const p=a.mockUserToken.sub||a.mockUserToken.user_id;if(!p)throw new be(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new hn(p)}i._authCredentials=new EA(new x1(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class Tn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Qi extends Ji{constructor(e,n,a){super(e,n,of(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ae(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function Bi(i,e,...n){if(i=yn(i),Nb("collection","path",e),i instanceof gf){const a=dt.fromString(e,...n);return Y_(a),new Qi(i,null,a)}{if(!(i instanceof Tn||i instanceof Qi))throw new be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(dt.fromString(e,...n));return Y_(a),new Qi(i.firestore,null,a)}}function pn(i,e,...n){if(i=yn(i),arguments.length===1&&(e=C1.newId()),Nb("doc","path",e),i instanceof gf){const a=dt.fromString(e,...n);return K_(a),new Tn(i,null,new Ae(a))}{if(!(i instanceof Tn||i instanceof Qi))throw new be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(dt.fromString(e,...n));return K_(a),new Tn(i.firestore,i instanceof Qi?i.converter:null,new Ae(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cb(this,"async_queue_retry"),this.Vu=()=>{const a=kh();a&&Te("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const n=kh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ai;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Xl(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(a=>{this.Eu=a,this.du=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(a);throw li("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.du=!1,a))));return this.mu=n,n}enqueueAfterDelay(e,n,a){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=np.createAndSchedule(this,e,n,a,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Z_(i){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ci extends gf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new W_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W_(e),this._firestoreClient=void 0,await e}}}function sx(i,e){const n=typeof i=="object"?i:Vm(),a=typeof i=="string"?i:"(default)",o=af(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Pm("firestore");u&&ax(o,...u)}return o}function uo(i){if(i._terminated)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ox(i),i._firestoreClient}function ox(i){var e,n,a;const o=i._freezeSettings(),u=function(m,g,p,b){return new VA(m,g,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Ob(b.experimentalLongPollingOptions),b.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new ZR(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}function lx(i){return ex(uo(i=Vn(i,ci)))}function ux(i){return tx(uo(i=Vn(i,ci)))}function cx(i){return oA(i.app,"firestore",i._databaseId.database),i._delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(ln.fromBase64String(e))}catch(n){throw new be(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=/^__.*__$/;class dx{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}class Ib{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Db(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class hp{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.Ou(e),o}Nu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Db(this.Cu)&&fx.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class hx{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||hf(e)}Qu(e,n,a,o=!1){return new hp({Cu:e,methodName:n,qu:a,path:an.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(i){const e=i._freezeSettings(),n=hf(i._databaseId);return new hx(i._databaseId,!!e.ignoreUndefinedProperties,n)}function mx(i,e,n,a,o,u={}){const d=i.Qu(u.merge||u.mergeFields?2:0,e,n,o);gp("Data must be an object, but it was:",d,a);const m=Mb(a,d);let g,p;if(u.merge)g=new kn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const b=[];for(const w of u.mergeFields){const x=Sm(e,w,n);if(!d.contains(x))throw new be(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Pb(b,x)||b.push(x)}g=new kn(b),p=d.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,p=d.fieldTransforms;return new dx(new xn(m),g,p)}class _f extends vf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}class pp extends vf{_toFieldTransform(e){return new l4(e.path,new Hl)}isEqual(e){return e instanceof pp}}function px(i,e,n,a){const o=i.Qu(1,e,n);gp("Data must be an object, but it was:",o,a);const u=[],d=xn.empty();Ka(a,(g,p)=>{const b=yp(e,g,n);p=yn(p);const w=o.Nu(b);if(p instanceof _f)u.push(b);else{const x=tu(p,w);x!=null&&(u.push(b),d.set(b,x))}});const m=new kn(u);return new Ib(d,m,o.fieldTransforms)}function gx(i,e,n,a,o,u){const d=i.Qu(1,e,n),m=[Sm(e,a,n)],g=[o];if(u.length%2!=0)throw new be(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(Sm(e,u[x])),g.push(u[x+1]);const p=[],b=xn.empty();for(let x=m.length-1;x>=0;--x)if(!Pb(p,m[x])){const P=m[x];let z=g[x];z=yn(z);const V=d.Nu(P);if(z instanceof _f)p.push(P);else{const L=tu(z,V);L!=null&&(p.push(P),b.set(P,L))}}const w=new kn(p);return new Ib(b,w,d.fieldTransforms)}function yx(i,e,n,a=!1){return tu(n,i.Qu(a?4:3,e))}function tu(i,e){if(jb(i=yn(i)))return gp("Unsupported field value:",e,i),Mb(i,e);if(i instanceof vf)return function(a,o){if(!Db(o.Cu))throw o.Bu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(a,o){const u=[];let d=0;for(const m of a){let g=tu(m,o.Lu(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=yn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return a4(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=At.fromDate(a);return{timestampValue:Kc(o.serializer,u)}}if(a instanceof At){const u=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,u)}}if(a instanceof fp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zs)return{bytesValue:tb(o.serializer,a._byteString)};if(a instanceof Tn){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof dp)return function(d,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw m.Bu("VectorValues must only contain numeric values.");return Gm(m.serializer,g)})}}}}}}(a,o);throw o.Bu(`Unsupported field value: ${pf(a)}`)}(i,e)}function Mb(i,e){const n={};return O1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(i,(a,o)=>{const u=tu(o,e.Mu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function jb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof At||i instanceof fp||i instanceof Zs||i instanceof Tn||i instanceof vf||i instanceof dp)}function gp(i,e,n){if(!jb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=pf(n);throw a==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+a)}}function Sm(i,e,n){if((e=yn(e))instanceof yf)return e._internalPath;if(typeof e=="string")return yp(i,e);throw Zc("Field path arguments must be of type string or ",i,!1,void 0,n)}const vx=new RegExp("[~\\*/\\[\\]]");function yp(i,e,n){if(e.search(vx)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new yf(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zc(i,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new be(de.INVALID_ARGUMENT,m+i+g)}function Pb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _x extends kb{data(){return super.data()}}function vp(i,e){return typeof e=="string"?yp(i,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new be(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class Lb extends _p{}function Ma(i,e,...n){let a=[];e instanceof _p&&a.push(e),a=a.concat(n),function(u){const d=u.filter(g=>g instanceof Ep).length,m=u.filter(g=>g instanceof bp).length;if(d>1||d>0&&m>0)throw new be(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class bp extends Lb{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new bp(e,n,a)}_apply(e){const n=this._parse(e);return zb(e._query,n),new Ji(e.firestore,e.converter,dm(e._query,n))}_parse(e){const n=mp(e.firestore);return function(u,d,m,g,p,b,w){let x;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new be(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){e0(w,b);const P=[];for(const z of w)P.push(J_(g,u,z));x={arrayValue:{values:P}}}else x=J_(g,u,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||e0(w,b),x=yx(m,d,w,b==="in"||b==="not-in");return Vt.create(p,b,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ep extends _p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ep(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const m=u.getFlattenedFilters();for(const g of m)zb(d,g),d=dm(d,g)}(e._query,n),new Ji(e.firestore,e.converter,dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sp extends Lb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sp(e,n)}_apply(e){const n=function(o,u,d){if(o.startAt!==null)throw new be(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new be(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(u,d)}(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new ao(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function ja(i,e="asc"){const n=e,a=vp("orderBy",i);return Sp._create(a,n)}function J_(i,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new be(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L1(e)&&n.indexOf("/")!==-1)throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(dt.fromString(n));if(!Ae.isDocumentKey(a))throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return b_(i,new Ae(a))}if(n instanceof Tn)return b_(i,n._key);throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(n)}.`)}function e0(i,e){if(!Array.isArray(i)||i.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zb(i,e){const n=function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bx{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ka(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>Nt(d.doubleValue));return new dp(u)}convertGeoPoint(e){return new fp(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Bm(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=Ki(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=dt.fromString(e);at(ob(a));const o=new Ul(a.get(1),a.get(3)),u=new Ae(a.popFirst(5));return o.isEqual(n)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(i,e,n){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ub extends kb{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(vp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class zc extends Ub{data(e={}){return super.data(e)}}class Bb{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new zc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const g=new zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,b=-1;return m.type!==0&&(p=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),b=d.indexOf(m.doc.key)),{type:Sx(m.type),doc:g,oldIndex:p,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Sx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(i){i=Vn(i,Tn);const e=Vn(i.firestore,ci);return nx(uo(e),i._key).then(n=>Fb(e,i,n))}class Tp extends bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Pa(i){i=Vn(i,Ji);const e=Vn(i.firestore,ci),n=uo(e),a=new Tp(e);return Vb(i._query),rx(n,i._query).then(o=>new Bb(e,a,i,o))}function bf(i,e,n,...a){i=Vn(i,Tn);const o=Vn(i.firestore,ci),u=mp(o);let d;return d=typeof(e=yn(e))=="string"||e instanceof yf?gx(u,"updateDoc",i._key,e,n,a):px(u,"updateDoc",i._key,e),Hb(o,[d.toMutation(i._key,Rr.exists(!0))])}function Tx(i,e){const n=Vn(i.firestore,ci),a=pn(i),o=Ex(i.converter,e);return Hb(n,[mx(mp(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,Rr.exists(!1))]).then(()=>a)}function qb(i,...e){var n,a,o;i=yn(i);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Z_(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Z_(e[d])){const w=e[d];e[d]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[d+1]=(a=w.error)===null||a===void 0?void 0:a.bind(w),e[d+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,p,b;if(i instanceof Tn)p=Vn(i.firestore,ci),b=of(i._key.path),g={next:w=>{e[d]&&e[d](Fb(p,i,w))},error:e[d+1],complete:e[d+2]};else{const w=Vn(i,Ji);p=Vn(w.firestore,ci),b=w._query;const x=new Tp(p);g={next:P=>{e[d]&&e[d](new Bb(p,x,w,P))},error:e[d+1],complete:e[d+2]},Vb(i._query)}return function(x,P,z,V){const L=new up(V),H=new op(P,L,z);return x.asyncQueue.enqueueAndForget(async()=>ip(await Wc(x),H)),()=>{L.Za(),x.asyncQueue.enqueueAndForget(async()=>ap(await Wc(x),H))}}(uo(p),b,m,g)}function Hb(i,e){return function(a,o){const u=new ai;return a.asyncQueue.enqueueAndForget(async()=>FR(await JR(a),o,u)),u.promise}(uo(i),e)}function Fb(i,e,n){const a=n.docs.get(e._key),o=new Tp(i);return new Ub(i,o,e._key,a,new Cl(n.hasPendingWrites,n.fromCache),e.converter)}function Js(){return new pp("serverTimestamp")}(function(e,n=!0){(function(o){io=o})(y1),Gs(new qa("firestore",(a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),m=new ci(new SA(a.getProvider("auth-internal")),new RA(a.getProvider("app-check-internal")),function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(p.options.projectId,b)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),wr(p_,"4.7.3",e),wr(p_,"4.7.3","esm2017")})();function wx(i=[],e,n=!0,a=null){const[o,u]=q.useState({}),[d,m]=q.useState(!1),[g,p]=q.useState(null),[b,w]=q.useState(!1),[x,P]=q.useState(null),z=q.useRef(new Map);return q.useEffect(()=>{if(!n||!e||!i.length||!a){z.current.forEach(L=>L()),z.current.clear(),w(!1);return}return m(!0),p(null),(async()=>{try{console.log(" Setting up real-time stock listeners for products:",i),z.current.forEach(L=>L()),z.current.clear();for(const L of i){const{id:H,categoryId:ee}=L;if(!H||!ee){console.warn(" Product missing ID or categoryId:",L);continue}const se=pn(a,"businesses",e,"menu",ee,"items",H),he=qb(se,U=>{if(U.exists()){const F=U.data();console.log(` Stock update for ${H}:`,{stock:F.stock,isAvailable:F.isAvailable,trackStock:F.trackStock}),u(O=>({...O,[H]:{id:H,categoryId:ee,stock:F.stock||0,isAvailable:F.isAvailable!==!1,trackStock:F.trackStock||!1,name:F.name,price:F.price,lastUpdated:new Date}})),P(new Date)}else u(F=>{const O={...F};return delete O[H],O})},U=>{console.error(` Stock listener error for product ${H}:`,U),p(U.message)});z.current.set(H,he)}w(!0),m(!1)}catch(L){console.error(" Error setting up stock listeners:",L),p(L.message),m(!1),w(!1)}})(),()=>{console.log(" Cleaning up stock listeners"),z.current.forEach(L=>L()),z.current.clear(),w(!1)}},[i.map(V=>`${V.id}-${V.categoryId}`).join(","),e,n,a]),{stockData:o,loading:d,error:g,isRealTimeActive:b,lastUpdated:x,getProductStock:V=>{var L;return((L=o[V])==null?void 0:L.stock)||0},isProductAvailable:V=>{var L;return((L=o[V])==null?void 0:L.isAvailable)!==!1},isStockTracked:V=>{var L;return((L=o[V])==null?void 0:L.trackStock)||!1},getStockStatus:V=>{const L=o[V];return L?L.trackStock?L.isAvailable?L.stock<=0?"out-of-stock":L.stock<=5?"low-stock":"in-stock":"unavailable":"not-tracked":"unknown"}}}const Ax=({item:i,onAddToCart:e,showImage:n=!0,showPrice:a=!0,showDescription:o=!0,terminology:u={},businessId:d=null,categoryId:m=null})=>{const g=q.useRef(null),p=z=>{z.preventDefault()},b=i.imageUrl||i.image,w=()=>!(i.isHidden||i.isAvailable===!1),x=()=>i.isHidden||!w()?"product-card-button disabled":"product-card-button",P=()=>i.isHidden||i.isAvailable===!1?"No disponible":u.addToCart||"Agregar al Carrito";return y.jsxs("div",{ref:g,className:`product-card ${i.isHidden?"hidden":""}`,onClick:p,children:[n&&y.jsx("div",{className:"product-card-image",children:b?y.jsx("img",{src:b,alt:i.name}):y.jsx("div",{className:"product-card-placeholder",children:y.jsx(s1,{})})}),y.jsxs("div",{className:"product-card-content",children:[y.jsxs("div",{className:"product-card-header",children:[y.jsx("h3",{className:"product-card-title",children:i.name}),a&&y.jsxs("span",{className:"product-card-price",children:["$",i.price]})]}),o&&i.description&&y.jsx("p",{className:"product-card-description",children:i.description}),y.jsx("div",{className:"product-card-footer",children:e&&y.jsx("button",{className:x(),onClick:()=>!i.isHidden&&w()&&e(i),disabled:i.isHidden||!w(),children:P()})})]})]})};function Rx({menu:i,onAddToCart:e,loading:n,error:a,showImages:o=!0,showPrices:u=!0,showDescription:d=!0,terminology:m={},businessId:g=null,enableRealTimeStock:p=!1,db:b=null}){return n?y.jsxs("div",{className:"menu-loading",children:[" Cargando ",m.menuName||"men"," delicioso..."]}):a?y.jsxs("div",{className:"menu-error",children:[" Error: ",a]}):!i||i.length===0?y.jsxs("div",{className:"menu-empty",children:[" No hay ",m.items||"platos"," disponibles"]}):y.jsx("div",{className:"menu-display",children:i.map(w=>y.jsxs("div",{className:"menu-category",id:`category-${w.id}`,children:[y.jsx("h2",{className:"category-title",children:w.name}),w.description&&y.jsx("p",{className:"category-description",children:w.description}),y.jsx("div",{className:"menu-items",children:w.items.map(x=>y.jsx(xx,{item:x,onAddToCart:e,showImage:o,showPrice:u,showDescription:d,terminology:m,businessId:g,categoryId:w.id,enableRealTimeStock:p,db:b},x.id))})]},w.id))})}function xx({item:i,onAddToCart:e,showImage:n=!0,showPrice:a=!0,showDescription:o=!0,terminology:u={},businessId:d=null,categoryId:m=null,enableRealTimeStock:g=!1,db:p=null}){const b=g&&d&&m&&i.trackStock&&p,w=b?[{id:i.id,categoryId:m}]:[],{getProductStock:x,isProductAvailable:P}=wx(w,d,b,p),z={...i,stock:b?x(i.id):i.stock||0,isAvailable:b?P(i.id):i.isAvailable!==!1};return y.jsx(Ax,{item:z,onAddToCart:e,showImage:n,showPrice:a,showDescription:o,terminology:u,businessId:d,categoryId:m,enableRealTimeStock:g,db:p})}const gn={firebaseConfig:{apiKey:"AIzaSyDHi_a1trI35goPoKcNPUDBMOSLKjvZKyc",authDomain:"cms-menu-7b4a4.firebaseapp.com",projectId:"cms-menu-7b4a4",storageBucket:"cms-menu-7b4a4.firebasestorage.app",messagingSenderId:"509736809578",appId:"1:509736809578:web:15471af092f3b46392c613",measurementId:"G-X4F9XDEL13"},businessId:"0X2PjjSrO8hZmq2wZtREoKR9gej1",itemVisibility:{hideInvisibleItems:!0,adminCanSeeHidden:!0},mercadoPago:{publicKey:"APP_USR-aff124d3-9db8-432f-b97e-7cfd30fca245",currency:"ARS",enabled:!0},baseUrl:"https://juanmaacampos.github.io/shop_template",backendUrl:"https://us-central1-cms-menu-7b4a4.cloudfunctions.net",backUrls:{success:"https://juanmaacampos.github.io/shop_template/#/payment/success",pending:"https://juanmaacampos.github.io/shop_template/#/payment/pending",failure:"https://juanmaacampos.github.io/shop_template/#/payment/failure"},testing:{enabled:!1,showTestingPanel:!1,mockData:!1},templateType:"store",locale:"es-AR",timezone:"America/Argentina/Buenos_Aires"},wp={businessName:"Anthony Burger",menuName:"Menu",menuNameCapitalized:"Nuestro MEnu",items:"productos",itemsCapitalized:"Productos",addToCart:"Agregar al Carrito",orderSummary:"Carrito de Compras",categoriesOfMenu:"Categoras de Productos",featuredProducts:"Productos Destacados",allProducts:"Todos los Productos",serviceOptions:{delivery:"Envo a Domicilio",pickup:"Retiro en Local",shipping:"Envo Nacional",dineIn:"Para Comer Aqu",takeaway:"Para Llevar"}},Ml={store:{businessName:"Mi Tienda",menuName:"catlogo",menuNameCapitalized:"Nuestro Menu",items:"platos",itemsCapitalized:"Platos",addToCart:"Agregar al Carrito",orderSummary:"Carrito de Compras",categoriesOfMenu:"Categoras de Platos",featuredProducts:"Platos Destacados",allProducts:"Todos los Platos",serviceOptions:{delivery:"Envo a Domicilio",pickup:"Retiro en Tienda",shipping:"Envo Nacional"}}};function Gb(i="store"){Ml[i]?(Object.assign(wp,Ml[i]),console.log(` Aplicada configuracin para: ${i}`)):(console.warn(` Tipo de negocio no reconocido: ${i}`),console.log(` Tipos disponibles: ${Object.keys(Ml).join(", ")}`))}gn.templateType&&Ml[gn.templateType]&&Gb(gn.templateType);const t0=Object.freeze(Object.defineProperty({__proto__:null,BUSINESS_TEMPLATES:Ml,MENU_CONFIG:gn,STORE_TERMINOLOGY:wp,applyBusinessTemplate:Gb},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="firebasestorage.googleapis.com",$b="storageBucket",Cx=2*60*1e3,Ox=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt extends Wi{constructor(e,n,a=0){super(Lh(e),`Firebase Storage: ${n} (${Lh(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xt||(Xt={}));function Lh(i){return"storage/"+i}function Kb(){const i="An unknown error occurred, please check the error payload for server response.";return new Wt(Xt.UNKNOWN,i)}function Nx(i){return new Wt(Xt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function Ix(i){return new Wt(Xt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Dx(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(Xt.UNAUTHENTICATED,i)}function Mx(){return new Wt(Xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jx(i){return new Wt(Xt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Px(){return new Wt(Xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kx(){return new Wt(Xt.CANCELED,"User canceled the upload/download.")}function Vx(i){return new Wt(Xt.INVALID_URL,"Invalid URL '"+i+"'.")}function Lx(i){return new Wt(Xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function zx(){return new Wt(Xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$b+"' property when initializing the app?")}function Ux(){return new Wt(Xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Tm(i){return new Wt(Xt.INVALID_ARGUMENT,i)}function Yb(){return new Wt(Xt.APP_DELETED,"The Firebase app was deleted.")}function Bx(i){return new Wt(Xt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function El(i){throw new Wt(Xt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ri=class Uc{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Uc.makeFromUrl(e,n)}catch{return new Uc(e,"")}if(a.path==="")return a;throw Lx(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function p(he){he.path_=decodeURIComponent(he.path)}const b="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",P=new RegExp(`^https?://${w}/${b}/b/${o}/o${x}`,"i"),z={bucket:1,path:3},V=n===Qb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",H=new RegExp(`^https?://${V}/${o}/${L}`,"i"),se=[{regex:m,indices:g,postModify:u},{regex:P,indices:z,postModify:p},{regex:H,indices:{bucket:1,path:2},postModify:p}];for(let he=0;he<se.length;he++){const U=se[he],F=U.regex.exec(e);if(F){const O=F[U.indices.bucket];let I=F[U.indices.path];I||(I=""),a=new Uc(O,I),U.postModify(a);break}}if(a==null)throw Vx(e);return a}};class qx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(i,e,n){let a=1,o=null,u=null,d=!1,m=0;function g(){return m===2}let p=!1;function b(...L){p||(p=!0,e.apply(null,L))}function w(L){o=setTimeout(()=>{o=null,i(P,g())},L)}function x(){u&&clearTimeout(u)}function P(L,...H){if(p){x();return}if(L){x(),b.call(null,L,...H);return}if(g()||d){x(),b.call(null,L,...H);return}a<64&&(a*=2);let se;m===1?(m=2,se=0):se=(a+Math.random())*1e3,w(se)}let z=!1;function V(L){z||(z=!0,x(),!p&&(o!==null?(L||(m=2),clearTimeout(o),w(0)):L||(m=1)))}return w(0),u=setTimeout(()=>{d=!0,V(!0)},n),V}function Fx(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(i){return i!==void 0}function Qx(i){return typeof i=="object"&&!Array.isArray(i)}function Xb(i){return typeof i=="string"||i instanceof String}function n0(i,e,n,a){if(a<e)throw Tm(`Invalid value for '${i}'. Expected ${e} or greater.`);if(a>n)throw Tm(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(i,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${i}`}function Zb(i){const e=encodeURIComponent;let n="?";for(const a in i)if(i.hasOwnProperty(a)){const o=e(a)+"="+e(i[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ba;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ba||(Ba={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,a,o,u,d,m,g,p,b,w,x=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=b,this.connectionFactory_=w,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,z)=>{this.resolve_=P,this.reject_=z,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Ic(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const m=u.getErrorCode()===Ba.NO_ERROR,g=u.getStatus();if(!m||$x(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===Ba.ABORT;a(!1,new Ic(!1,null,b));return}const p=this.successCodes_.indexOf(g)!==-1;a(!0,new Ic(p,u))})},n=(a,o)=>{const u=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());Gx(g)?u(g):u()}catch(g){d(g)}else if(m!==null){const g=Kb();g.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,g)):d(g)}else if(o.canceled){const g=this.appDelete_?Yb():kx();d(g)}else{const g=Px();d(g)}};this.canceled_?n(!1,new Ic(!1,null,!0)):this.backoffId_=Hx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ic{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function Yx(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Xx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Wx(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Zx(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Jx(i,e,n,a,o,u,d=!0){const m=Zb(i.urlParams),g=i.url+m,p=Object.assign({},i.headers);return Wx(p,e),Yx(p,n),Xx(p,u),Zx(p,a),new Kx(g,i.method,p,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(i){let e;try{e=JSON.parse(i)}catch{return null}return Qx(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function tC(i,e){const n=e.split("/").filter(a=>a.length>0).join("/");return i.length===0?n:i+"/"+n}function eE(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(i,e){return e}class Sn{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||nC}}let Dc=null;function rC(i){return!Xb(i)||i.length<2?i:eE(i)}function iC(){if(Dc)return Dc;const i=[];i.push(new Sn("bucket")),i.push(new Sn("generation")),i.push(new Sn("metageneration")),i.push(new Sn("name","fullPath",!0));function e(u,d){return rC(d)}const n=new Sn("name");n.xform=e,i.push(n);function a(u,d){return d!==void 0?Number(d):d}const o=new Sn("size");return o.xform=a,i.push(o),i.push(new Sn("timeCreated")),i.push(new Sn("updated")),i.push(new Sn("md5Hash",null,!0)),i.push(new Sn("cacheControl",null,!0)),i.push(new Sn("contentDisposition",null,!0)),i.push(new Sn("contentEncoding",null,!0)),i.push(new Sn("contentLanguage",null,!0)),i.push(new Sn("contentType",null,!0)),i.push(new Sn("metadata","customMetadata",!0)),Dc=i,Dc}function aC(i,e){function n(){const a=i.bucket,o=i.fullPath,u=new ri(a,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function sC(i,e,n){const a={};a.type="file";const o=n.length;for(let u=0;u<o;u++){const d=n[u];a[d.local]=d.xform(a,e[d.server])}return aC(a,i),a}function oC(i,e,n){const a=Jb(e);return a===null?null:sC(i,a,n)}function lC(i,e,n,a){const o=Jb(e);if(o===null||!Xb(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(p=>{const b=i.bucket,w=i.fullPath,x="/b/"+d(b)+"/o/"+d(w),P=Wb(x,n,a),z=Zb({alt:"media",token:p});return P+z})[0]}class uC{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(i){if(!i)throw Kb()}function fC(i,e){function n(a,o){const u=oC(i,o,e);return cC(u!==null),lC(u,o,i.host,i._protocol)}return n}function dC(i){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Mx():o=Dx():n.getStatus()===402?o=Ix(i.bucket):n.getStatus()===403?o=jx(i.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function hC(i){const e=dC(i);function n(a,o){let u=e(a,o);return a.getStatus()===404&&(u=Nx(i.path)),u.serverResponse=o.serverResponse,u}return n}function mC(i,e,n){const a=e.fullServerUrl(),o=Wb(a,i.host,i._protocol),u="GET",d=i.maxOperationRetryTime,m=new uC(o,u,fC(i,n),d);return m.errorHandler=hC(e),m}class pC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ba.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ba.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ba.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o){if(this.sent_)throw El("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw El("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw El("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw El("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw El("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gC extends pC{initXhr(){this.xhr_.responseType="text"}}function yC(){return new gC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this._service=e,n instanceof ri?this._location=n:this._location=ri.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $a(e,n)}get root(){const e=new ri(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eE(this._location.path)}get storage(){return this._service}get parent(){const e=eC(this._location.path);if(e===null)return null;const n=new ri(this._location.bucket,e);return new $a(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Bx(e)}}function vC(i){i._throwIfRoot("getDownloadURL");const e=mC(i.storage,i._location,iC());return i.storage.makeRequestWithTokens(e,yC).then(n=>{if(n===null)throw Ux();return n})}function _C(i,e){const n=tC(i._location.path,e),a=new ri(i._location.bucket,n);return new $a(i.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(i){return/^[A-Za-z]+:\/\//.test(i)}function EC(i,e){return new $a(i,e)}function tE(i,e){if(i instanceof Ap){const n=i;if(n._bucket==null)throw zx();const a=new $a(n,n._bucket);return e!=null?tE(a,e):a}else return e!==void 0?_C(i,e):i}function SC(i,e){if(e&&bC(e)){if(i instanceof Ap)return EC(i,e);throw Tm("To use ref(service, url), the first argument must be a Storage instance.")}else return tE(i,e)}function r0(i,e){const n=e==null?void 0:e[$b];return n==null?null:ri.makeFromBucketSpec(n,i)}function TC(i,e,n,a={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=a;o&&(i._overrideAuthToken=typeof o=="string"?o:d1(o,i.app.options.projectId))}class Ap{constructor(e,n,a,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=Qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Cx,this._maxUploadRetryTime=Ox,this._requests=new Set,o!=null?this._bucket=ri.makeFromBucketSpec(o,this._host):this._bucket=r0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ri.makeFromBucketSpec(this._url,e):this._bucket=r0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){n0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){n0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $a(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new qx(Yb());{const d=Jx(e,this._appId,a,o,n,this._firebaseVersion,u);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const i0="@firebase/storage",a0="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="storage";function wC(i){return i=yn(i),vC(i)}function AC(i,e){return i=yn(i),SC(i,e)}function RC(i=Vm(),e){i=yn(i);const a=af(i,nE).getImmediate({identifier:e}),o=Pm("storage");return o&&xC(a,...o),a}function xC(i,e,n,a={}){TC(i,e,n,a)}function CC(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Ap(n,a,o,e,y1)}function OC(){Gs(new qa(nE,CC,"PUBLIC").setMultipleInstances(!0)),wr(i0,a0,""),wr(i0,a0,"esm2017")}OC();var NC="firebase",IC="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(NC,IC,"app");class DC{constructor(){this.app=null,this.db=null,this.storage=null,this.isInitialized=!1,this.isNetworkEnabled=!1,this.initializationPromise=null,this.referenceCount=0}async initialize(e){if(this.initializationPromise){console.log(" Firebase initialization already in progress, waiting...");try{return await this.initializationPromise,this.referenceCount++,console.log(` Firebase references: ${this.referenceCount}`),{app:this.app,db:this.db,storage:this.storage}}catch{return console.error(" Previous initialization failed, retrying..."),this.initializationPromise=null,this.initialize(e)}}if(this.isInitialized&&this.app&&this.db)return this.referenceCount++,console.log(` Firebase references: ${this.referenceCount}`),{app:this.app,db:this.db,storage:this.storage};this.initializationPromise=this._doInitialize(e);try{const n=await this.initializationPromise;return this.referenceCount++,console.log(` Firebase references: ${this.referenceCount}`),n}catch(n){throw this.initializationPromise=null,n}}async initializeForPayment(){try{const{MENU_CONFIG:e}=await kl(async()=>{const{MENU_CONFIG:n}=await Promise.resolve().then(()=>t0);return{MENU_CONFIG:n}},void 0);return await this.initialize(e.firebaseConfig)}catch(e){throw console.error(" Failed to initialize Firebase for payment page:",e),e}}async _doInitialize(e){try{if(console.log(" Global Firebase Manager: Initializing..."),!e||!e.apiKey){console.error(" No Firebase configuration provided, using default config");const{MENU_CONFIG:a}=await kl(async()=>{const{MENU_CONFIG:o}=await Promise.resolve().then(()=>t0);return{MENU_CONFIG:o}},void 0);if(e=a.firebaseConfig,!e||!e.apiKey)throw new Error("Firebase configuration is missing. Please check config.js")}console.log(" Firebase config verified:",{apiKey:e.apiKey?"***configured***":"missing",authDomain:e.authDomain,projectId:e.projectId}),await this._cleanupExistingApps(),await new Promise(a=>setTimeout(a,100));const n=`restaurant-cms-global-${Date.now()}`;return this.app=v1(e,n),this.db=sx(this.app),this.storage=RC(this.app),await this._ensureNetworkConnection(),this.isInitialized=!0,console.log(" Global Firebase Manager: Initialized successfully"),{app:this.app,db:this.db,storage:this.storage}}catch(n){throw console.error(" Global Firebase Manager: Initialization failed:",n),this.isInitialized=!1,this.initializationPromise=null,n}}async _cleanupExistingApps(){try{const e=cA();e.length>0&&(console.log(` Cleaning up ${e.length} existing Firebase apps`),await Promise.all(e.map(n=>c_(n))))}catch(e){console.warn(" Warning during app cleanup:",e.message)}}async _ensureNetworkConnection(){if(!(this.isNetworkEnabled||!this.db))try{console.log(" Enabling Firebase network..."),await lx(this.db),this.isNetworkEnabled=!0,console.log(" Firebase network enabled")}catch(e){e.code==="failed-precondition"||e.message.includes("already enabled")||e.message.includes("INTERNAL ASSERTION FAILED")?(console.log(" Network already enabled or in transition"),this.isNetworkEnabled=!0):(console.warn(" Network enable warning:",e.message),this.isNetworkEnabled=!0)}}async release(){this.referenceCount--,console.log(` Firebase references: ${this.referenceCount}`),this.referenceCount<=0&&await this._cleanup()}async _cleanup(){try{if(console.log(" Global Firebase Manager: Cleaning up..."),this.isInitialized=!1,this.db){try{console.log(" Disabling Firestore network..."),await ux(this.db)}catch(e){e.message.includes("failed-precondition")||console.warn(" Network disable warning:",e.message)}try{console.log(" Terminating Firestore..."),await cx(this.db)}catch(e){e.message.includes("failed-precondition")||console.warn(" Database termination warning:",e.message)}}if(this.app)try{console.log(" Deleting Firebase app..."),await c_(this.app)}catch(e){console.warn(" App deletion warning:",e.message)}this.app=null,this.db=null,this.storage=null,this.isNetworkEnabled=!1,this.initializationPromise=null,this.referenceCount=0,console.log(" Global Firebase Manager: Cleanup completed")}catch(e){console.error(" Global Firebase Manager: Cleanup failed:",e),this.app=null,this.db=null,this.storage=null,this.isInitialized=!1,this.isNetworkEnabled=!1,this.initializationPromise=null,this.referenceCount=0}}getDatabase(){if(!this.isInitialized||!this.db)throw new Error("Firebase not initialized. Call initialize() first.");return this.db}getApp(){if(!this.isInitialized||!this.app)throw new Error("Firebase not initialized. Call initialize() first.");return this.app}getStorage(){if(!this.isInitialized||!this.storage)throw new Error("Firebase Storage not initialized. Call initialize() first.");return this.storage}isReady(){return this.isInitialized&&this.app&&this.db}}const It=new DC,s0=Object.freeze(Object.defineProperty({__proto__:null,default:It,globalFirebaseManager:It},Symbol.toStringTag,{value:"Module"}));class Bc{constructor(e,n){this.firebaseManager=e,this.businessId=n,e||console.warn(" OrderService created without Firebase manager")}async createOrder(e){try{if(!this.firebaseManager)throw new Error("Firebase manager is not initialized. Please check your Firebase configuration.");if(!e)throw new Error("Order data is required");if(!e.items||!Array.isArray(e.items)||e.items.length===0)throw new Error("Order must contain at least one item");if(!e.customer||!e.customer.name||!e.customer.phone)throw new Error("Customer name and phone are required");if(!e.total||e.total<=0)throw new Error("Order total must be greater than 0");console.log(" Creating order with validated data:",e);const n=this.firebaseManager.getDatabase();if(!n)throw new Error("Firebase database not available. Connection may be offline.");const a=Bi(n,"orders"),o={businessId:this.businessId,items:e.items,customer:{name:e.customer.name,phone:e.customer.phone,email:e.customer.email||"",address:e.customer.address||""},total:e.total,currency:"ARS",status:"pending",paymentStatus:"pending",paymentMethod:e.paymentMethod||"mercadopago",mercadopagoId:null,createdAt:At.now(),updatedAt:At.now(),notes:e.notes||""},u=await Tx(a,o);return console.log(" Order created with ID:",u.id),{orderId:u.id,...o}}catch(n){throw console.error(" Error creating order:",n.message),console.error("Order data:",e),console.error("Firebase manager available:",!!this.firebaseManager),n}}async updateOrderStatus(e,n,a=null){try{const o=this.firebaseManager.getDatabase(),u=pn(o,"orders",e),d={status:n,updatedAt:At.now()};a&&(d.paymentStatus=a),await bf(u,d),console.log(" Order status updated:",e,n)}catch(o){throw console.error(" Error updating order status:",o),o}}async getOrder(e){try{const n=this.firebaseManager.getDatabase(),a=pn(n,"orders",e),o=await Xn(a);if(o.exists())return{orderId:o.id,...o.data()};throw new Error("Order not found")}catch(n){throw console.error(" Error getting order:",n),n}}}class rE{constructor(e,n){this.firebaseConfig=e,this.businessId=n,this.app=null,this.db=null,this.storage=null,this.initialized=!1,this.orderService=null,this.firebaseManager=It}async initialize(){return await this._ensureInitialized()}async _ensureInitialized(){if(!this.initialized)try{const{app:e,db:n,storage:a}=await It.initialize(this.firebaseConfig);this.app=e,this.db=n,this.storage=a,this.initialized=!0,this.orderService=new Bc(It,this.businessId)}catch(e){throw new Error(`Failed to initialize MenuSDK: ${e.message}`)}}async _resolveImageUrl(e){if(!e)return null;try{if(e.startsWith("http://")||e.startsWith("https://"))return e;if(await this._ensureInitialized(),!this.storage)return console.error("Firebase Storage not initialized"),null;const n=AC(this.storage,e);return await wC(n)}catch(n){return console.error("Failed to resolve image URL:",{path:e,error:n.message}),null}}async getBusinessInfo(){try{await this._ensureInitialized(),console.log(" Fetching business info for:",this.businessId);const e=pn(this.db,"businesses",this.businessId),n=await Xn(e);if(n.exists())return console.log(" Business info loaded from businesses collection"),n.data();console.log(" Trying restaurants collection for compatibility...");const a=pn(this.db,"restaurants",this.businessId),o=await Xn(a);if(o.exists()){console.log(" Business info loaded from restaurants collection (compatibilidad)");const u=o.data();return{...u,businessType:u.businessType||"restaurant"}}throw new Error("Business not found in either businesses or restaurants collection")}catch(e){throw console.error(" Error getting business info:",e),e}}async getRestaurantInfo(){try{await this._ensureInitialized(),console.log(" Fetching business info for:",this.businessId);try{return await this.getBusinessInfo()}catch{const n=pn(this.db,"restaurants",this.businessId),a=await Xn(n);if(!a.exists())throw new Error("Restaurant not found");return console.log(" Restaurant info loaded successfully"),a.data()}}catch(e){throw console.error(" Error getting restaurant info:",e),e.code==="unavailable"?new Error("Firebase service is temporarily unavailable. Please try again later."):e.code==="permission-denied"?new Error("Access denied. Please check your Firebase security rules."):e}}async getFullMenu(){try{await this._ensureInitialized(),console.log("[Menu] Fetching full menu for business:",this.businessId);let e=Bi(this.db,"businesses",this.businessId,"menu"),n=Ma(e,ja("order","asc")),a=await Pa(n);a.empty&&(console.log(" Trying restaurants collection for menu..."),e=Bi(this.db,"restaurants",this.businessId,"menu"),n=Ma(e,ja("order","asc")),a=await Pa(n)),console.log(" Found",a.size,"menu categories");const o=[];for(const u of a.docs){const d={id:u.id,...u.data(),items:[]},m=Bi(u.ref,"items"),g=Ma(m,ja("name","asc")),p=await Pa(g);console.log(` Category "${d.name}": ${p.size} items`);for(const b of p.docs){const w={id:b.id,...b.data()};let x=w.imageUrl||w.image;if(x)try{const P=await this._resolveImageUrl(x);w.image=P,w.imageUrl=P}catch(P){console.warn(` Could not resolve image for item ${w.name}:`,P.message),w.image=null,w.imageUrl=null}else w.image=null,w.imageUrl=null;w.isHidden||d.items.push(w)}d.items.length>0&&o.push(d)}return console.log(" Full menu loaded successfully:",o.length,"categories"),o}catch(e){throw console.error(" Error getting full menu:",e),e.code==="unavailable"?new Error("Firebase service is temporarily unavailable. Please try again later."):e.code==="permission-denied"?new Error("Access denied. Please check your Firebase security rules."):e}}async getFullMenuWithHidden(){try{await this._ensureInitialized(),console.log(" Fetching full menu with hidden items for business:",this.businessId);let e=Bi(this.db,"businesses",this.businessId,"menu"),n=Ma(e,ja("order","asc")),a=await Pa(n);a.empty&&(console.log(" Trying restaurants collection for menu..."),e=Bi(this.db,"restaurants",this.businessId,"menu"),n=Ma(e,ja("order","asc")),a=await Pa(n)),console.log(" Found",a.size,"menu categories");const o=[];for(const u of a.docs){const d={id:u.id,...u.data(),items:[]},m=Bi(u.ref,"items"),g=Ma(m,ja("name","asc")),p=await Pa(g);console.log(` Category "${d.name}": ${p.size} items (including hidden)`);for(const b of p.docs){const w={id:b.id,...b.data()};let x=w.imageUrl||w.image;if(x)try{const P=await this._resolveImageUrl(x);w.image=P,w.imageUrl=P}catch(P){console.warn(` Could not resolve image for item ${w.name}:`,P.message),w.image=null,w.imageUrl=null}else w.image=null,w.imageUrl=null;d.items.push(w)}o.push(d)}return console.log(" Full menu with hidden items loaded successfully:",o.length,"categories"),o}catch(e){throw console.error(" Error getting full menu with hidden items:",e),e.code==="unavailable"?new Error("Firebase service is temporarily unavailable. Please try again later."):e.code==="permission-denied"?new Error("Access denied. Please check your Firebase security rules."):e}}async getCategory(e){try{await this._ensureInitialized();let n=pn(this.db,"businesses",this.businessId,"menu",e),a=await Xn(n);if(a.exists()||(n=pn(this.db,"restaurants",this.businessId,"menu",e),a=await Xn(n)),!a.exists())throw new Error("Category not found");const o={id:a.id,...a.data(),items:[]},u=Bi(a.ref,"items"),d=Ma(u,ja("name","asc")),m=await Pa(d);for(const g of m.docs){const p={id:g.id,...g.data()};let b=p.imageUrl||p.image;if(b)try{const w=await this._resolveImageUrl(b);p.image=w,p.imageUrl=w}catch(w){console.warn(` Could not resolve image for item ${p.name}:`,w.message),p.image=null,p.imageUrl=null}o.items.push(p)}return o}catch(n){throw console.error("Error getting category:",n),n}}async searchItems(e){try{const n=await this.getFullMenu(),a=[];n.forEach(u=>{u.items.forEach(d=>{a.push({...d,categoryName:u.name,categoryId:u.id})})});const o=e.toLowerCase();return a.filter(u=>u.name.toLowerCase().includes(o)||u.description&&u.description.toLowerCase().includes(o))}catch(n){throw console.error("Error searching items:",n),n}}async createOrder(e){if(!this.orderService)throw new Error("SDK not initialized. Call initialize() first.");return await this.orderService.createOrder(e)}async updateOrderStatus(e,n,a=null){if(!this.orderService)throw new Error("SDK not initialized. Call initialize() first.");return await this.orderService.updateOrderStatus(e,n,a)}async getOrder(e){if(!this.orderService)throw new Error("SDK not initialized. Call initialize() first.");return await this.orderService.getOrder(e)}async getFeaturedItems(){try{const e=await this.getFullMenu(),n=[];return e.forEach(a=>{const o=a.items.filter(u=>u.isFeatured&&u.isAvailable!==!1&&!u.isHidden);n.push(...o.map(u=>({...u,categoryName:a.name,categoryId:a.id})))}),n}catch(e){throw console.error("Error getting featured items:",e),e}}async getAvailableItems(){try{const e=await this.getFullMenu(),n=[];return e.forEach(a=>{const o=a.items.filter(u=>u.trackStock?u.stock>0&&u.isAvailable!==!1&&!u.isHidden:u.isAvailable!==!1&&!u.isHidden);n.push(...o.map(u=>({...u,categoryName:a.name,categoryId:a.id})))}),n}catch(e){throw console.error("Error getting available items:",e),e}}getStockStatus(e){return e.trackStock?e.isHidden?{status:"hidden",text:"Oculto",icon:"",cssClass:"stock-hidden"}:e.isAvailable===!1?{status:"unavailable",text:"No disponible",icon:"",cssClass:"stock-unavailable"}:e.stock<=0?{status:"out-of-stock",text:"Sin stock",icon:"",cssClass:"stock-empty"}:e.stock<=(e.minStock||5)?{status:"low-stock",text:`Stock bajo (${e.stock})`,icon:"",cssClass:"stock-low"}:{status:"in-stock",text:`En stock (${e.stock})`,icon:"",cssClass:"stock-normal"}:{status:"not-tracked",text:"Sin control de stock",icon:"",cssClass:"stock-normal"}}}function Rp(i,e){return new rE(i,e)}const MC=Object.freeze(Object.defineProperty({__proto__:null,MenuSDK:rE,createMenuSDK:Rp},Symbol.toStringTag,{value:"Module"}));class jC{constructor(){this.instances=new Map}getInstance(e,n){const a=`${n}-${e.projectId}`;if(this.instances.has(a))console.log(" Reusing existing MenuSDK instance for:",n);else{console.log(" Creating new MenuSDK instance for:",n);const o=Rp(e,n);this.instances.set(a,o)}return this.instances.get(a)}clearInstance(e,n){const a=`${n}-${e.projectId}`;this.instances.has(a)&&(console.log(" Clearing MenuSDK instance for:",n),this.instances.delete(a))}clearAll(){console.log(" Clearing all MenuSDK instances"),this.instances.clear()}}const PC=new jC;var zh={},Uh={},Sl={},Bh={},o0;function kC(){return o0||(o0=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};i.default=e}(Bh)),Bh}var qh,l0;function VC(){if(l0)return qh;l0=1;var i="Expected a function",e=NaN,n="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,m=parseInt,g=typeof Ac=="object"&&Ac&&Ac.Object===Object&&Ac,p=typeof self=="object"&&self&&self.Object===Object&&self,b=g||p||Function("return this")(),w=Object.prototype,x=w.toString,P=Math.max,z=Math.min,V=function(){return b.Date.now()};function L(U,F,O){var I,R,E,M,k,C,W=0,me=!1,Q=!1,S=!0;if(typeof U!="function")throw new TypeError(i);F=he(F)||0,H(O)&&(me=!!O.leading,Q="maxWait"in O,E=Q?P(he(O.maxWait)||0,F):E,S="trailing"in O?!!O.trailing:S);function ge(ye){var Se=I,Ne=R;return I=R=void 0,W=ye,M=U.apply(Ne,Se),M}function G(ye){return W=ye,k=setTimeout($,F),me?ge(ye):M}function _(ye){var Se=ye-C,Ne=ye-W,Pe=F-Se;return Q?z(Pe,E-Ne):Pe}function D(ye){var Se=ye-C,Ne=ye-W;return C===void 0||Se>=F||Se<0||Q&&Ne>=E}function $(){var ye=V();if(D(ye))return X(ye);k=setTimeout($,_(ye))}function X(ye){return k=void 0,S&&I?ge(ye):(I=R=void 0,M)}function re(){k!==void 0&&clearTimeout(k),W=0,I=C=R=k=void 0}function ue(){return k===void 0?M:X(V())}function oe(){var ye=V(),Se=D(ye);if(I=arguments,R=this,C=ye,Se){if(k===void 0)return G(C);if(Q)return k=setTimeout($,F),ge(C)}return k===void 0&&(k=setTimeout($,F)),M}return oe.cancel=re,oe.flush=ue,oe}function H(U){var F=typeof U;return!!U&&(F=="object"||F=="function")}function ee(U){return!!U&&typeof U=="object"}function se(U){return typeof U=="symbol"||ee(U)&&x.call(U)==n}function he(U){if(typeof U=="number")return U;if(se(U))return e;if(H(U)){var F=typeof U.valueOf=="function"?U.valueOf():U;U=H(F)?F+"":F}if(typeof U!="string")return U===0?U:+U;U=U.replace(a,"");var O=u.test(U);return O||d.test(U)?m(U.slice(2),O?2:8):o.test(U)?e:+U}return qh=L,qh}var Hh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var u0;function Ef(){return u0||(u0=1,function(i){(function(){var e={}.hasOwnProperty;function n(){for(var u="",d=0;d<arguments.length;d++){var m=arguments[d];m&&(u=o(u,a(m)))}return u}function a(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var d="";for(var m in u)e.call(u,m)&&u[m]&&(d=o(d,m));return d}function o(u,d){return d?u?u+" "+d:u+d:u}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(Hh)),Hh.exports}var _e={},Fh={},c0;function iE(){return c0||(c0=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n(Or());function n(o){return o&&o.__esModule?o:{default:o}}var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(u){return e.default.createElement("ul",{style:{display:"block"}},u)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(u){return e.default.createElement("button",null,u+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};i.default=a}(Fh)),Fh}var f0;function nu(){if(f0)return _e;f0=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.checkSpecKeys=_e.checkNavigable=_e.changeSlide=_e.canUseDOM=_e.canGoNext=void 0,_e.clamp=p,_e.extractObject=void 0,_e.filterSettings=ge,_e.validSettings=_e.swipeStart=_e.swipeMove=_e.swipeEnd=_e.slidesOnRight=_e.slidesOnLeft=_e.slideHandler=_e.siblingDirection=_e.safePreventDefault=_e.lazyStartIndex=_e.lazySlidesOnRight=_e.lazySlidesOnLeft=_e.lazyEndIndex=_e.keyHandler=_e.initializedState=_e.getWidth=_e.getTrackLeft=_e.getTrackCSS=_e.getTrackAnimateCSS=_e.getTotalSlides=_e.getSwipeDirection=_e.getSlideCount=_e.getRequiredLazySlides=_e.getPreClones=_e.getPostClones=_e.getOnDemandLazySlides=_e.getNavigableIndexes=_e.getHeight=void 0;var i=n(Or()),e=n(iE());function n(G){return G&&G.__esModule?G:{default:G}}function a(G){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},a(G)}function o(G,_){var D=Object.keys(G);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(G);_&&($=$.filter(function(X){return Object.getOwnPropertyDescriptor(G,X).enumerable})),D.push.apply(D,$)}return D}function u(G){for(var _=1;_<arguments.length;_++){var D=arguments[_]!=null?arguments[_]:{};_%2?o(Object(D),!0).forEach(function($){d(G,$,D[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(D)):o(Object(D)).forEach(function($){Object.defineProperty(G,$,Object.getOwnPropertyDescriptor(D,$))})}return G}function d(G,_,D){return _=m(_),_ in G?Object.defineProperty(G,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):G[_]=D,G}function m(G){var _=g(G,"string");return a(_)=="symbol"?_:String(_)}function g(G,_){if(a(G)!="object"||!G)return G;var D=G[Symbol.toPrimitive];if(D!==void 0){var $=D.call(G,_);if(a($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(G)}function p(G,_,D){return Math.max(_,Math.min(G,D))}var b=_e.safePreventDefault=function(_){var D=["onTouchStart","onTouchMove","onWheel"];D.includes(_._reactName)||_.preventDefault()},w=_e.getOnDemandLazySlides=function(_){for(var D=[],$=x(_),X=P(_),re=$;re<X;re++)_.lazyLoadedList.indexOf(re)<0&&D.push(re);return D};_e.getRequiredLazySlides=function(_){for(var D=[],$=x(_),X=P(_),re=$;re<X;re++)D.push(re);return D};var x=_e.lazyStartIndex=function(_){return _.currentSlide-z(_)},P=_e.lazyEndIndex=function(_){return _.currentSlide+V(_)},z=_e.lazySlidesOnLeft=function(_){return _.centerMode?Math.floor(_.slidesToShow/2)+(parseInt(_.centerPadding)>0?1:0):0},V=_e.lazySlidesOnRight=function(_){return _.centerMode?Math.floor((_.slidesToShow-1)/2)+1+(parseInt(_.centerPadding)>0?1:0):_.slidesToShow},L=_e.getWidth=function(_){return _&&_.offsetWidth||0},H=_e.getHeight=function(_){return _&&_.offsetHeight||0},ee=_e.getSwipeDirection=function(_){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$,X,re,ue;return $=_.startX-_.curX,X=_.startY-_.curY,re=Math.atan2(X,$),ue=Math.round(re*180/Math.PI),ue<0&&(ue=360-Math.abs(ue)),ue<=45&&ue>=0||ue<=360&&ue>=315?"left":ue>=135&&ue<=225?"right":D===!0?ue>=35&&ue<=135?"up":"down":"vertical"},se=_e.canGoNext=function(_){var D=!0;return _.infinite||(_.centerMode&&_.currentSlide>=_.slideCount-1||_.slideCount<=_.slidesToShow||_.currentSlide>=_.slideCount-_.slidesToShow)&&(D=!1),D};_e.extractObject=function(_,D){var $={};return D.forEach(function(X){return $[X]=_[X]}),$},_e.initializedState=function(_){var D=i.default.Children.count(_.children),$=_.listRef,X=Math.ceil(L($)),re=_.trackRef&&_.trackRef.node,ue=Math.ceil(L(re)),oe;if(_.vertical)oe=X;else{var ye=_.centerMode&&parseInt(_.centerPadding)*2;typeof _.centerPadding=="string"&&_.centerPadding.slice(-1)==="%"&&(ye*=X/100),oe=Math.ceil((X-ye)/_.slidesToShow)}var Se=$&&H($.querySelector('[data-index="0"]')),Ne=Se*_.slidesToShow,Pe=_.currentSlide===void 0?_.initialSlide:_.currentSlide;_.rtl&&_.currentSlide===void 0&&(Pe=D-1-_.initialSlide);var ze=_.lazyLoadedList||[],qe=w(u(u({},_),{},{currentSlide:Pe,lazyLoadedList:ze}));ze=ze.concat(qe);var Ve={slideCount:D,slideWidth:oe,listWidth:X,trackWidth:ue,currentSlide:Pe,slideHeight:Se,listHeight:Ne,lazyLoadedList:ze};return _.autoplaying===null&&_.autoplay&&(Ve.autoplaying="playing"),Ve},_e.slideHandler=function(_){var D=_.waitForAnimate,$=_.animating,X=_.fade,re=_.infinite,ue=_.index,oe=_.slideCount,ye=_.lazyLoad,Se=_.currentSlide,Ne=_.centerMode,Pe=_.slidesToScroll,ze=_.slidesToShow,qe=_.useCSS,Ve=_.lazyLoadedList;if(D&&$)return{};var Me=ue,Ge,ht,xe,mt={},pt={},gt=re?ue:p(ue,0,oe-1);if(X){if(!re&&(ue<0||ue>=oe))return{};ue<0?Me=ue+oe:ue>=oe&&(Me=ue-oe),ye&&Ve.indexOf(Me)<0&&(Ve=Ve.concat(Me)),mt={animating:!0,currentSlide:Me,lazyLoadedList:Ve,targetSlide:Me},pt={animating:!1,targetSlide:Me}}else Ge=Me,Me<0?(Ge=Me+oe,re?oe%Pe!==0&&(Ge=oe-oe%Pe):Ge=0):!se(_)&&Me>Se?Me=Ge=Se:Ne&&Me>=oe?(Me=re?oe:oe-1,Ge=re?0:oe-1):Me>=oe&&(Ge=Me-oe,re?oe%Pe!==0&&(Ge=0):Ge=oe-ze),!re&&Me+ze>=oe&&(Ge=oe-ze),ht=E(u(u({},_),{},{slideIndex:Me})),xe=E(u(u({},_),{},{slideIndex:Ge})),re||(ht===xe&&(Me=Ge),ht=xe),ye&&(Ve=Ve.concat(w(u(u({},_),{},{currentSlide:Me})))),qe?(mt={animating:!0,currentSlide:Ge,trackStyle:R(u(u({},_),{},{left:ht})),lazyLoadedList:Ve,targetSlide:gt},pt={animating:!1,currentSlide:Ge,trackStyle:I(u(u({},_),{},{left:xe})),swipeLeft:null,targetSlide:gt}):mt={currentSlide:Ge,trackStyle:I(u(u({},_),{},{left:xe})),lazyLoadedList:Ve,targetSlide:gt};return{state:mt,nextState:pt}},_e.changeSlide=function(_,D){var $,X,re,ue,oe,ye=_.slidesToScroll,Se=_.slidesToShow,Ne=_.slideCount,Pe=_.currentSlide,ze=_.targetSlide,qe=_.lazyLoad,Ve=_.infinite;if(ue=Ne%ye!==0,$=ue?0:(Ne-Pe)%ye,D.message==="previous")re=$===0?ye:Se-$,oe=Pe-re,qe&&!Ve&&(X=Pe-re,oe=X===-1?Ne-1:X),Ve||(oe=ze-ye);else if(D.message==="next")re=$===0?ye:$,oe=Pe+re,qe&&!Ve&&(oe=(Pe+ye)%Ne+$),Ve||(oe=ze+ye);else if(D.message==="dots")oe=D.index*D.slidesToScroll;else if(D.message==="children"){if(oe=D.index,Ve){var Me=W(u(u({},_),{},{targetSlide:oe}));oe>D.currentSlide&&Me==="left"?oe=oe-Ne:oe<D.currentSlide&&Me==="right"&&(oe=oe+Ne)}}else D.message==="index"&&(oe=Number(D.index));return oe},_e.keyHandler=function(_,D,$){return _.target.tagName.match("TEXTAREA|INPUT|SELECT")||!D?"":_.keyCode===37?$?"next":"previous":_.keyCode===39?$?"previous":"next":""},_e.swipeStart=function(_,D,$){return _.target.tagName==="IMG"&&b(_),!D||!$&&_.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:_.touches?_.touches[0].pageX:_.clientX,startY:_.touches?_.touches[0].pageY:_.clientY,curX:_.touches?_.touches[0].pageX:_.clientX,curY:_.touches?_.touches[0].pageY:_.clientY}}},_e.swipeMove=function(_,D){var $=D.scrolling,X=D.animating,re=D.vertical,ue=D.swipeToSlide,oe=D.verticalSwiping,ye=D.rtl,Se=D.currentSlide,Ne=D.edgeFriction,Pe=D.edgeDragged,ze=D.onEdge,qe=D.swiped,Ve=D.swiping,Me=D.slideCount,Ge=D.slidesToScroll,ht=D.infinite,xe=D.touchObject,mt=D.swipeEvent,pt=D.listHeight,gt=D.listWidth;if(!$){if(X)return b(_);re&&ue&&oe&&b(_);var Rt,Wn={},Zn=E(D);xe.curX=_.touches?_.touches[0].pageX:_.clientX,xe.curY=_.touches?_.touches[0].pageY:_.clientY,xe.swipeLength=Math.round(Math.sqrt(Math.pow(xe.curX-xe.startX,2)));var di=Math.round(Math.sqrt(Math.pow(xe.curY-xe.startY,2)));if(!oe&&!Ve&&di>10)return{scrolling:!0};oe&&(xe.swipeLength=di);var or=(ye?-1:1)*(xe.curX>xe.startX?1:-1);oe&&(or=xe.curY>xe.startY?1:-1);var yt=Math.ceil(Me/Ge),Ue=ee(D.touchObject,oe),Lt=xe.swipeLength;return ht||(Se===0&&(Ue==="right"||Ue==="down")||Se+1>=yt&&(Ue==="left"||Ue==="up")||!se(D)&&(Ue==="left"||Ue==="up"))&&(Lt=xe.swipeLength*Ne,Pe===!1&&ze&&(ze(Ue),Wn.edgeDragged=!0)),!qe&&mt&&(mt(Ue),Wn.swiped=!0),re?Rt=Zn+Lt*(pt/gt)*or:ye?Rt=Zn-Lt*or:Rt=Zn+Lt*or,oe&&(Rt=Zn+Lt*or),Wn=u(u({},Wn),{},{touchObject:xe,swipeLeft:Rt,trackStyle:I(u(u({},D),{},{left:Rt}))}),Math.abs(xe.curX-xe.startX)<Math.abs(xe.curY-xe.startY)*.8||xe.swipeLength>10&&(Wn.swiping=!0,b(_)),Wn}},_e.swipeEnd=function(_,D){var $=D.dragging,X=D.swipe,re=D.touchObject,ue=D.listWidth,oe=D.touchThreshold,ye=D.verticalSwiping,Se=D.listHeight,Ne=D.swipeToSlide,Pe=D.scrolling,ze=D.onSwipe,qe=D.targetSlide,Ve=D.currentSlide,Me=D.infinite;if(!$)return X&&b(_),{};var Ge=ye?Se/oe:ue/oe,ht=ee(re,ye),xe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Pe||!re.swipeLength)return xe;if(re.swipeLength>Ge){b(_),ze&&ze(ht);var mt,pt,gt=Me?Ve:qe;switch(ht){case"left":case"up":pt=gt+F(D),mt=Ne?U(D,pt):pt,xe.currentDirection=0;break;case"right":case"down":pt=gt-F(D),mt=Ne?U(D,pt):pt,xe.currentDirection=1;break;default:mt=gt}xe.triggerSlideHandler=mt}else{var Rt=E(D);xe.trackStyle=R(u(u({},D),{},{left:Rt}))}return xe};var he=_e.getNavigableIndexes=function(_){for(var D=_.infinite?_.slideCount*2:_.slideCount,$=_.infinite?_.slidesToShow*-1:0,X=_.infinite?_.slidesToShow*-1:0,re=[];$<D;)re.push($),$=X+_.slidesToScroll,X+=Math.min(_.slidesToScroll,_.slidesToShow);return re},U=_e.checkNavigable=function(_,D){var $=he(_),X=0;if(D>$[$.length-1])D=$[$.length-1];else for(var re in $){if(D<$[re]){D=X;break}X=$[re]}return D},F=_e.getSlideCount=function(_){var D=_.centerMode?_.slideWidth*Math.floor(_.slidesToShow/2):0;if(_.swipeToSlide){var $,X=_.listRef,re=X.querySelectorAll&&X.querySelectorAll(".slick-slide")||[];if(Array.from(re).every(function(ye){if(_.vertical){if(ye.offsetTop+H(ye)/2>_.swipeLeft*-1)return $=ye,!1}else if(ye.offsetLeft-D+L(ye)/2>_.swipeLeft*-1)return $=ye,!1;return!0}),!$)return 0;var ue=_.rtl===!0?_.slideCount-_.currentSlide:_.currentSlide,oe=Math.abs($.dataset.index-ue)||1;return oe}else return _.slidesToScroll},O=_e.checkSpecKeys=function(_,D){return D.reduce(function($,X){return $&&_.hasOwnProperty(X)},!0)?null:console.error("Keys Missing:",_)},I=_e.getTrackCSS=function(_){O(_,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var D,$,X=_.slideCount+2*_.slidesToShow;_.vertical?$=X*_.slideHeight:D=C(_)*_.slideWidth;var re={opacity:1,transition:"",WebkitTransition:""};if(_.useTransform){var ue=_.vertical?"translate3d(0px, "+_.left+"px, 0px)":"translate3d("+_.left+"px, 0px, 0px)",oe=_.vertical?"translate3d(0px, "+_.left+"px, 0px)":"translate3d("+_.left+"px, 0px, 0px)",ye=_.vertical?"translateY("+_.left+"px)":"translateX("+_.left+"px)";re=u(u({},re),{},{WebkitTransform:ue,transform:oe,msTransform:ye})}else _.vertical?re.top=_.left:re.left=_.left;return _.fade&&(re={opacity:1}),D&&(re.width=D),$&&(re.height=$),window&&!window.addEventListener&&window.attachEvent&&(_.vertical?re.marginTop=_.left+"px":re.marginLeft=_.left+"px"),re},R=_e.getTrackAnimateCSS=function(_){O(_,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var D=I(_);return _.useTransform?(D.WebkitTransition="-webkit-transform "+_.speed+"ms "+_.cssEase,D.transition="transform "+_.speed+"ms "+_.cssEase):_.vertical?D.transition="top "+_.speed+"ms "+_.cssEase:D.transition="left "+_.speed+"ms "+_.cssEase,D},E=_e.getTrackLeft=function(_){if(_.unslick)return 0;O(_,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var D=_.slideIndex,$=_.trackRef,X=_.infinite,re=_.centerMode,ue=_.slideCount,oe=_.slidesToShow,ye=_.slidesToScroll,Se=_.slideWidth,Ne=_.listWidth,Pe=_.variableWidth,ze=_.slideHeight,qe=_.fade,Ve=_.vertical,Me=0,Ge,ht,xe=0;if(qe||_.slideCount===1)return 0;var mt=0;if(X?(mt=-M(_),ue%ye!==0&&D+ye>ue&&(mt=-(D>ue?oe-(D-ue):ue%ye)),re&&(mt+=parseInt(oe/2))):(ue%ye!==0&&D+ye>ue&&(mt=oe-ue%ye),re&&(mt=parseInt(oe/2))),Me=mt*Se,xe=mt*ze,Ve?Ge=D*ze*-1+xe:Ge=D*Se*-1+Me,Pe===!0){var pt,gt=$&&$.node;if(pt=D+M(_),ht=gt&&gt.childNodes[pt],Ge=ht?ht.offsetLeft*-1:0,re===!0){pt=X?D+M(_):D,ht=gt&&gt.children[pt],Ge=0;for(var Rt=0;Rt<pt;Rt++)Ge-=gt&&gt.children[Rt]&&gt.children[Rt].offsetWidth;Ge-=parseInt(_.centerPadding),Ge+=ht&&(Ne-ht.offsetWidth)/2}}return Ge},M=_e.getPreClones=function(_){return _.unslick||!_.infinite?0:_.variableWidth?_.slideCount:_.slidesToShow+(_.centerMode?1:0)},k=_e.getPostClones=function(_){return _.unslick||!_.infinite?0:_.slideCount},C=_e.getTotalSlides=function(_){return _.slideCount===1?1:M(_)+_.slideCount+k(_)},W=_e.siblingDirection=function(_){return _.targetSlide>_.currentSlide?_.targetSlide>_.currentSlide+me(_)?"left":"right":_.targetSlide<_.currentSlide-Q(_)?"right":"left"},me=_e.slidesOnRight=function(_){var D=_.slidesToShow,$=_.centerMode,X=_.rtl,re=_.centerPadding;if($){var ue=(D-1)/2+1;return parseInt(re)>0&&(ue+=1),X&&D%2===0&&(ue+=1),ue}return X?0:D-1},Q=_e.slidesOnLeft=function(_){var D=_.slidesToShow,$=_.centerMode,X=_.rtl,re=_.centerPadding;if($){var ue=(D-1)/2+1;return parseInt(re)>0&&(ue+=1),!X&&D%2===0&&(ue+=1),ue}return X?D-1:0};_e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var S=_e.validSettings=Object.keys(e.default);function ge(G){return S.reduce(function(_,D){return G.hasOwnProperty(D)&&(_[D]=G[D]),_},{})}return _e}var Tl={},d0;function LC(){if(d0)return Tl;d0=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.Track=void 0;var i=a(Or()),e=a(Ef()),n=nu();function a(R){return R&&R.__esModule?R:{default:R}}function o(R){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},o(R)}function u(){return u=Object.assign?Object.assign.bind():function(R){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var k in M)Object.prototype.hasOwnProperty.call(M,k)&&(R[k]=M[k])}return R},u.apply(this,arguments)}function d(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function m(R,E){for(var M=0;M<E.length;M++){var k=E[M];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,se(k.key),k)}}function g(R,E,M){return E&&m(R.prototype,E),Object.defineProperty(R,"prototype",{writable:!1}),R}function p(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),E&&b(R,E)}function b(R,E){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,C){return k.__proto__=C,k},b(R,E)}function w(R){var E=z();return function(){var k=V(R),C;if(E){var W=V(this).constructor;C=Reflect.construct(k,arguments,W)}else C=k.apply(this,arguments);return x(this,C)}}function x(R,E){if(E&&(o(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(R)}function P(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function z(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z=function(){return!!R})()}function V(R){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},V(R)}function L(R,E){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(R);E&&(k=k.filter(function(C){return Object.getOwnPropertyDescriptor(R,C).enumerable})),M.push.apply(M,k)}return M}function H(R){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?L(Object(M),!0).forEach(function(k){ee(R,k,M[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):L(Object(M)).forEach(function(k){Object.defineProperty(R,k,Object.getOwnPropertyDescriptor(M,k))})}return R}function ee(R,E,M){return E=se(E),E in R?Object.defineProperty(R,E,{value:M,enumerable:!0,configurable:!0,writable:!0}):R[E]=M,R}function se(R){var E=he(R,"string");return o(E)=="symbol"?E:String(E)}function he(R,E){if(o(R)!="object"||!R)return R;var M=R[Symbol.toPrimitive];if(M!==void 0){var k=M.call(R,E);if(o(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(R)}var U=function(E){var M,k,C,W,me;E.rtl?me=E.slideCount-1-E.index:me=E.index,C=me<0||me>=E.slideCount,E.centerMode?(W=Math.floor(E.slidesToShow/2),k=(me-E.currentSlide)%E.slideCount===0,me>E.currentSlide-W-1&&me<=E.currentSlide+W&&(M=!0)):M=E.currentSlide<=me&&me<E.currentSlide+E.slidesToShow;var Q;E.targetSlide<0?Q=E.targetSlide+E.slideCount:E.targetSlide>=E.slideCount?Q=E.targetSlide-E.slideCount:Q=E.targetSlide;var S=me===Q;return{"slick-slide":!0,"slick-active":M,"slick-center":k,"slick-cloned":C,"slick-current":S}},F=function(E){var M={};return(E.variableWidth===void 0||E.variableWidth===!1)&&(M.width=E.slideWidth),E.fade&&(M.position="relative",E.vertical?M.top=-E.index*parseInt(E.slideHeight):M.left=-E.index*parseInt(E.slideWidth),M.opacity=E.currentSlide===E.index?1:0,M.zIndex=E.currentSlide===E.index?999:998,E.useCSS&&(M.transition="opacity "+E.speed+"ms "+E.cssEase+", visibility "+E.speed+"ms "+E.cssEase)),M},O=function(E,M){return E.key||M},I=function(E){var M,k=[],C=[],W=[],me=i.default.Children.count(E.children),Q=(0,n.lazyStartIndex)(E),S=(0,n.lazyEndIndex)(E);return i.default.Children.forEach(E.children,function(ge,G){var _,D={message:"children",index:G,slidesToScroll:E.slidesToScroll,currentSlide:E.currentSlide};!E.lazyLoad||E.lazyLoad&&E.lazyLoadedList.indexOf(G)>=0?_=ge:_=i.default.createElement("div",null);var $=F(H(H({},E),{},{index:G})),X=_.props.className||"",re=U(H(H({},E),{},{index:G}));if(k.push(i.default.cloneElement(_,{key:"original"+O(_,G),"data-index":G,className:(0,e.default)(re,X),tabIndex:"-1","aria-hidden":!re["slick-active"],style:H(H({outline:"none"},_.props.style||{}),$),onClick:function(ye){_.props&&_.props.onClick&&_.props.onClick(ye),E.focusOnSelect&&E.focusOnSelect(D)}})),E.infinite&&E.fade===!1){var ue=me-G;ue<=(0,n.getPreClones)(E)&&(M=-ue,M>=Q&&(_=ge),re=U(H(H({},E),{},{index:M})),C.push(i.default.cloneElement(_,{key:"precloned"+O(_,M),"data-index":M,tabIndex:"-1",className:(0,e.default)(re,X),"aria-hidden":!re["slick-active"],style:H(H({},_.props.style||{}),$),onClick:function(ye){_.props&&_.props.onClick&&_.props.onClick(ye),E.focusOnSelect&&E.focusOnSelect(D)}}))),M=me+G,M<S&&(_=ge),re=U(H(H({},E),{},{index:M})),W.push(i.default.cloneElement(_,{key:"postcloned"+O(_,M),"data-index":M,tabIndex:"-1",className:(0,e.default)(re,X),"aria-hidden":!re["slick-active"],style:H(H({},_.props.style||{}),$),onClick:function(ye){_.props&&_.props.onClick&&_.props.onClick(ye),E.focusOnSelect&&E.focusOnSelect(D)}}))}}),E.rtl?C.concat(k,W).reverse():C.concat(k,W)};return Tl.Track=function(R){p(M,R);var E=w(M);function M(){var k;d(this,M);for(var C=arguments.length,W=new Array(C),me=0;me<C;me++)W[me]=arguments[me];return k=E.call.apply(E,[this].concat(W)),ee(P(k),"node",null),ee(P(k),"handleRef",function(Q){k.node=Q}),k}return g(M,[{key:"render",value:function(){var C=I(this.props),W=this.props,me=W.onMouseEnter,Q=W.onMouseOver,S=W.onMouseLeave,ge={onMouseEnter:me,onMouseOver:Q,onMouseLeave:S};return i.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},ge),C)}}]),M}(i.default.PureComponent),Tl}var wl={},h0;function zC(){if(h0)return wl;h0=1;function i(U){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},i(U)}Object.defineProperty(wl,"__esModule",{value:!0}),wl.Dots=void 0;var e=o(Or()),n=o(Ef()),a=nu();function o(U){return U&&U.__esModule?U:{default:U}}function u(U,F){var O=Object.keys(U);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(U);F&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(U,R).enumerable})),O.push.apply(O,I)}return O}function d(U){for(var F=1;F<arguments.length;F++){var O=arguments[F]!=null?arguments[F]:{};F%2?u(Object(O),!0).forEach(function(I){m(U,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(O)):u(Object(O)).forEach(function(I){Object.defineProperty(U,I,Object.getOwnPropertyDescriptor(O,I))})}return U}function m(U,F,O){return F=w(F),F in U?Object.defineProperty(U,F,{value:O,enumerable:!0,configurable:!0,writable:!0}):U[F]=O,U}function g(U,F){if(!(U instanceof F))throw new TypeError("Cannot call a class as a function")}function p(U,F){for(var O=0;O<F.length;O++){var I=F[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(U,w(I.key),I)}}function b(U,F,O){return F&&p(U.prototype,F),Object.defineProperty(U,"prototype",{writable:!1}),U}function w(U){var F=x(U,"string");return i(F)=="symbol"?F:String(F)}function x(U,F){if(i(U)!="object"||!U)return U;var O=U[Symbol.toPrimitive];if(O!==void 0){var I=O.call(U,F);if(i(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}function P(U,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(F&&F.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),F&&z(U,F)}function z(U,F){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,R){return I.__proto__=R,I},z(U,F)}function V(U){var F=ee();return function(){var I=se(U),R;if(F){var E=se(this).constructor;R=Reflect.construct(I,arguments,E)}else R=I.apply(this,arguments);return L(this,R)}}function L(U,F){if(F&&(i(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(U)}function H(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function ee(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ee=function(){return!!U})()}function se(U){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},se(U)}var he=function(F){var O;return F.infinite?O=Math.ceil(F.slideCount/F.slidesToScroll):O=Math.ceil((F.slideCount-F.slidesToShow)/F.slidesToScroll)+1,O};return wl.Dots=function(U){P(O,U);var F=V(O);function O(){return g(this,O),F.apply(this,arguments)}return b(O,[{key:"clickHandler",value:function(R,E){E.preventDefault(),this.props.clickHandler(R)}},{key:"render",value:function(){for(var R=this.props,E=R.onMouseEnter,M=R.onMouseOver,k=R.onMouseLeave,C=R.infinite,W=R.slidesToScroll,me=R.slidesToShow,Q=R.slideCount,S=R.currentSlide,ge=he({slideCount:Q,slidesToScroll:W,slidesToShow:me,infinite:C}),G={onMouseEnter:E,onMouseOver:M,onMouseLeave:k},_=[],D=0;D<ge;D++){var $=(D+1)*W-1,X=C?$:(0,a.clamp)($,0,Q-1),re=X-(W-1),ue=C?re:(0,a.clamp)(re,0,Q-1),oe=(0,n.default)({"slick-active":C?S>=ue&&S<=X:S===ue}),ye={message:"dots",index:D,slidesToScroll:W,currentSlide:S},Se=this.clickHandler.bind(this,ye);_=_.concat(e.default.createElement("li",{key:D,className:oe},e.default.cloneElement(this.props.customPaging(D),{onClick:Se})))}return e.default.cloneElement(this.props.appendDots(_),d({className:this.props.dotsClass},G))}}]),O}(e.default.PureComponent),wl}var ka={},m0;function UC(){if(m0)return ka;m0=1;function i(U){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},i(U)}Object.defineProperty(ka,"__esModule",{value:!0}),ka.PrevArrow=ka.NextArrow=void 0;var e=o(Or()),n=o(Ef()),a=nu();function o(U){return U&&U.__esModule?U:{default:U}}function u(){return u=Object.assign?Object.assign.bind():function(U){for(var F=1;F<arguments.length;F++){var O=arguments[F];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(U[I]=O[I])}return U},u.apply(this,arguments)}function d(U,F){var O=Object.keys(U);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(U);F&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(U,R).enumerable})),O.push.apply(O,I)}return O}function m(U){for(var F=1;F<arguments.length;F++){var O=arguments[F]!=null?arguments[F]:{};F%2?d(Object(O),!0).forEach(function(I){g(U,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(O)):d(Object(O)).forEach(function(I){Object.defineProperty(U,I,Object.getOwnPropertyDescriptor(O,I))})}return U}function g(U,F,O){return F=x(F),F in U?Object.defineProperty(U,F,{value:O,enumerable:!0,configurable:!0,writable:!0}):U[F]=O,U}function p(U,F){if(!(U instanceof F))throw new TypeError("Cannot call a class as a function")}function b(U,F){for(var O=0;O<F.length;O++){var I=F[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(U,x(I.key),I)}}function w(U,F,O){return F&&b(U.prototype,F),Object.defineProperty(U,"prototype",{writable:!1}),U}function x(U){var F=P(U,"string");return i(F)=="symbol"?F:String(F)}function P(U,F){if(i(U)!="object"||!U)return U;var O=U[Symbol.toPrimitive];if(O!==void 0){var I=O.call(U,F);if(i(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}function z(U,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(F&&F.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),F&&V(U,F)}function V(U,F){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,R){return I.__proto__=R,I},V(U,F)}function L(U){var F=se();return function(){var I=he(U),R;if(F){var E=he(this).constructor;R=Reflect.construct(I,arguments,E)}else R=I.apply(this,arguments);return H(this,R)}}function H(U,F){if(F&&(i(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(U)}function ee(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function se(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(se=function(){return!!U})()}function he(U){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},he(U)}return ka.PrevArrow=function(U){z(O,U);var F=L(O);function O(){return p(this,O),F.apply(this,arguments)}return w(O,[{key:"clickHandler",value:function(R,E){E&&E.preventDefault(),this.props.clickHandler(R,E)}},{key:"render",value:function(){var R={"slick-arrow":!0,"slick-prev":!0},E=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(R["slick-disabled"]=!0,E=null);var M={key:"0","data-role":"none",className:(0,n.default)(R),style:{display:"block"},onClick:E},k={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.prevArrow?C=e.default.cloneElement(this.props.prevArrow,m(m({},M),k)):C=e.default.createElement("button",u({key:"0",type:"button"},M)," ","Previous"),C}}]),O}(e.default.PureComponent),ka.NextArrow=function(U){z(O,U);var F=L(O);function O(){return p(this,O),F.apply(this,arguments)}return w(O,[{key:"clickHandler",value:function(R,E){E&&E.preventDefault(),this.props.clickHandler(R,E)}},{key:"render",value:function(){var R={"slick-arrow":!0,"slick-next":!0},E=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(R["slick-disabled"]=!0,E=null);var M={key:"1","data-role":"none",className:(0,n.default)(R),style:{display:"block"},onClick:E},k={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.nextArrow?C=e.default.cloneElement(this.props.nextArrow,m(m({},M),k)):C=e.default.createElement("button",u({key:"1",type:"button"},M)," ","Next"),C}}]),O}(e.default.PureComponent),ka}var aE=function(){if(typeof Map<"u")return Map;function i(e,n){var a=-1;return e.some(function(o,u){return o[0]===n?(a=u,!0):!1}),a}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var a=i(this.__entries__,n),o=this.__entries__[a];return o&&o[1]},e.prototype.set=function(n,a){var o=i(this.__entries__,n);~o?this.__entries__[o][1]=a:this.__entries__.push([n,a])},e.prototype.delete=function(n){var a=this.__entries__,o=i(a,n);~o&&a.splice(o,1)},e.prototype.has=function(n){return!!~i(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var o=0,u=this.__entries__;o<u.length;o++){var d=u[o];n.call(a,d[1],d[0])}},e}()}(),wm=typeof window<"u"&&typeof document<"u"&&window.document===document,Jc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),BC=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Jc):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}}(),qC=2;function HC(i,e){var n=!1,a=!1,o=0;function u(){n&&(n=!1,i()),a&&m()}function d(){BC(u)}function m(){var g=Date.now();if(n){if(g-o<qC)return;a=!0}else n=!0,a=!1,setTimeout(d,e);o=g}return m}var FC=20,GC=["top","right","bottom","left","width","height","size","weight"],QC=typeof MutationObserver<"u",$C=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=HC(this.refresh.bind(this),FC)}return i.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},i.prototype.removeObserver=function(e){var n=this.observers_,a=n.indexOf(e);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},i.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},i.prototype.connect_=function(){!wm||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),QC?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!wm||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(e){var n=e.propertyName,a=n===void 0?"":n,o=GC.some(function(u){return!!~a.indexOf(u)});o&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),sE=function(i,e){for(var n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];Object.defineProperty(i,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return i},eo=function(i){var e=i&&i.ownerDocument&&i.ownerDocument.defaultView;return e||Jc},oE=Sf(0,0,0,0);function ef(i){return parseFloat(i)||0}function p0(i){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(a,o){var u=i["border-"+o+"-width"];return a+ef(u)},0)}function KC(i){for(var e=["top","right","bottom","left"],n={},a=0,o=e;a<o.length;a++){var u=o[a],d=i["padding-"+u];n[u]=ef(d)}return n}function YC(i){var e=i.getBBox();return Sf(0,0,e.width,e.height)}function XC(i){var e=i.clientWidth,n=i.clientHeight;if(!e&&!n)return oE;var a=eo(i).getComputedStyle(i),o=KC(a),u=o.left+o.right,d=o.top+o.bottom,m=ef(a.width),g=ef(a.height);if(a.boxSizing==="border-box"&&(Math.round(m+u)!==e&&(m-=p0(a,"left","right")+u),Math.round(g+d)!==n&&(g-=p0(a,"top","bottom")+d)),!ZC(i)){var p=Math.round(m+u)-e,b=Math.round(g+d)-n;Math.abs(p)!==1&&(m-=p),Math.abs(b)!==1&&(g-=b)}return Sf(o.left,o.top,m,g)}var WC=function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof eo(i).SVGGraphicsElement}:function(i){return i instanceof eo(i).SVGElement&&typeof i.getBBox=="function"}}();function ZC(i){return i===eo(i).document.documentElement}function JC(i){return wm?WC(i)?YC(i):XC(i):oE}function e6(i){var e=i.x,n=i.y,a=i.width,o=i.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,d=Object.create(u.prototype);return sE(d,{x:e,y:n,width:a,height:o,top:n,right:e+a,bottom:o+n,left:e}),d}function Sf(i,e,n,a){return{x:i,y:e,width:n,height:a}}var t6=function(){function i(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Sf(0,0,0,0),this.target=e}return i.prototype.isActive=function(){var e=JC(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},i}(),n6=function(){function i(e,n){var a=e6(n);sE(this,{target:e,contentRect:a})}return i}(),r6=function(){function i(e,n,a){if(this.activeObservations_=[],this.observations_=new aE,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=a}return i.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof eo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new t6(e)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof eo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new n6(a.target,a.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),lE=typeof WeakMap<"u"?new WeakMap:new aE,uE=function(){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=$C.getInstance(),a=new r6(e,n,this);lE.set(this,a)}return i}();["observe","unobserve","disconnect"].forEach(function(i){uE.prototype[i]=function(){var e;return(e=lE.get(this))[i].apply(e,arguments)}});var i6=function(){return typeof Jc.ResizeObserver<"u"?Jc.ResizeObserver:uE}();const a6=Object.freeze(Object.defineProperty({__proto__:null,default:i6},Symbol.toStringTag,{value:"Module"})),s6=L2(a6);var g0;function o6(){if(g0)return Sl;g0=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.InnerSlider=void 0;var i=p(Or()),e=p(kC()),n=p(VC()),a=p(Ef()),o=nu(),u=LC(),d=zC(),m=UC(),g=p(s6);function p(C){return C&&C.__esModule?C:{default:C}}function b(C){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},b(C)}function w(){return w=Object.assign?Object.assign.bind():function(C){for(var W=1;W<arguments.length;W++){var me=arguments[W];for(var Q in me)Object.prototype.hasOwnProperty.call(me,Q)&&(C[Q]=me[Q])}return C},w.apply(this,arguments)}function x(C,W){if(C==null)return{};var me=P(C,W),Q,S;if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(C);for(S=0;S<ge.length;S++)Q=ge[S],!(W.indexOf(Q)>=0)&&Object.prototype.propertyIsEnumerable.call(C,Q)&&(me[Q]=C[Q])}return me}function P(C,W){if(C==null)return{};var me={},Q=Object.keys(C),S,ge;for(ge=0;ge<Q.length;ge++)S=Q[ge],!(W.indexOf(S)>=0)&&(me[S]=C[S]);return me}function z(C,W){var me=Object.keys(C);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(C);W&&(Q=Q.filter(function(S){return Object.getOwnPropertyDescriptor(C,S).enumerable})),me.push.apply(me,Q)}return me}function V(C){for(var W=1;W<arguments.length;W++){var me=arguments[W]!=null?arguments[W]:{};W%2?z(Object(me),!0).forEach(function(Q){E(C,Q,me[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(me)):z(Object(me)).forEach(function(Q){Object.defineProperty(C,Q,Object.getOwnPropertyDescriptor(me,Q))})}return C}function L(C,W){if(!(C instanceof W))throw new TypeError("Cannot call a class as a function")}function H(C,W){for(var me=0;me<W.length;me++){var Q=W[me];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(C,M(Q.key),Q)}}function ee(C,W,me){return W&&H(C.prototype,W),Object.defineProperty(C,"prototype",{writable:!1}),C}function se(C,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(W&&W.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),W&&he(C,W)}function he(C,W){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,S){return Q.__proto__=S,Q},he(C,W)}function U(C){var W=I();return function(){var Q=R(C),S;if(W){var ge=R(this).constructor;S=Reflect.construct(Q,arguments,ge)}else S=Q.apply(this,arguments);return F(this,S)}}function F(C,W){if(W&&(b(W)==="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(C)}function O(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function I(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!C})()}function R(C){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},R(C)}function E(C,W,me){return W=M(W),W in C?Object.defineProperty(C,W,{value:me,enumerable:!0,configurable:!0,writable:!0}):C[W]=me,C}function M(C){var W=k(C,"string");return b(W)=="symbol"?W:String(W)}function k(C,W){if(b(C)!="object"||!C)return C;var me=C[Symbol.toPrimitive];if(me!==void 0){var Q=me.call(C,W);if(b(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(C)}return Sl.InnerSlider=function(C){se(me,C);var W=U(me);function me(Q){var S;L(this,me),S=W.call(this,Q),E(O(S),"listRefHandler",function(G){return S.list=G}),E(O(S),"trackRefHandler",function(G){return S.track=G}),E(O(S),"adaptHeight",function(){if(S.props.adaptiveHeight&&S.list){var G=S.list.querySelector('[data-index="'.concat(S.state.currentSlide,'"]'));S.list.style.height=(0,o.getHeight)(G)+"px"}}),E(O(S),"componentDidMount",function(){if(S.props.onInit&&S.props.onInit(),S.props.lazyLoad){var G=(0,o.getOnDemandLazySlides)(V(V({},S.props),S.state));G.length>0&&(S.setState(function(D){return{lazyLoadedList:D.lazyLoadedList.concat(G)}}),S.props.onLazyLoad&&S.props.onLazyLoad(G))}var _=V({listRef:S.list,trackRef:S.track},S.props);S.updateState(_,!0,function(){S.adaptHeight(),S.props.autoplay&&S.autoPlay("update")}),S.props.lazyLoad==="progressive"&&(S.lazyLoadTimer=setInterval(S.progressiveLazyLoad,1e3)),S.ro=new g.default(function(){S.state.animating?(S.onWindowResized(!1),S.callbackTimers.push(setTimeout(function(){return S.onWindowResized()},S.props.speed))):S.onWindowResized()}),S.ro.observe(S.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(D){D.onfocus=S.props.pauseOnFocus?S.onSlideFocus:null,D.onblur=S.props.pauseOnFocus?S.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",S.onWindowResized):window.attachEvent("onresize",S.onWindowResized)}),E(O(S),"componentWillUnmount",function(){S.animationEndCallback&&clearTimeout(S.animationEndCallback),S.lazyLoadTimer&&clearInterval(S.lazyLoadTimer),S.callbackTimers.length&&(S.callbackTimers.forEach(function(G){return clearTimeout(G)}),S.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",S.onWindowResized):window.detachEvent("onresize",S.onWindowResized),S.autoplayTimer&&clearInterval(S.autoplayTimer),S.ro.disconnect()}),E(O(S),"componentDidUpdate",function(G){if(S.checkImagesLoad(),S.props.onReInit&&S.props.onReInit(),S.props.lazyLoad){var _=(0,o.getOnDemandLazySlides)(V(V({},S.props),S.state));_.length>0&&(S.setState(function(X){return{lazyLoadedList:X.lazyLoadedList.concat(_)}}),S.props.onLazyLoad&&S.props.onLazyLoad(_))}S.adaptHeight();var D=V(V({listRef:S.list,trackRef:S.track},S.props),S.state),$=S.didPropsChange(G);$&&S.updateState(D,$,function(){S.state.currentSlide>=i.default.Children.count(S.props.children)&&S.changeSlide({message:"index",index:i.default.Children.count(S.props.children)-S.props.slidesToShow,currentSlide:S.state.currentSlide}),S.props.autoplay?S.autoPlay("update"):S.pause("paused")})}),E(O(S),"onWindowResized",function(G){S.debouncedResize&&S.debouncedResize.cancel(),S.debouncedResize=(0,n.default)(function(){return S.resizeWindow(G)},50),S.debouncedResize()}),E(O(S),"resizeWindow",function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,_=!!(S.track&&S.track.node);if(_){var D=V(V({listRef:S.list,trackRef:S.track},S.props),S.state);S.updateState(D,G,function(){S.props.autoplay?S.autoPlay("update"):S.pause("paused")}),S.setState({animating:!1}),clearTimeout(S.animationEndCallback),delete S.animationEndCallback}}),E(O(S),"updateState",function(G,_,D){var $=(0,o.initializedState)(G);G=V(V(V({},G),$),{},{slideIndex:$.currentSlide});var X=(0,o.getTrackLeft)(G);G=V(V({},G),{},{left:X});var re=(0,o.getTrackCSS)(G);(_||i.default.Children.count(S.props.children)!==i.default.Children.count(G.children))&&($.trackStyle=re),S.setState($,D)}),E(O(S),"ssrInit",function(){if(S.props.variableWidth){var G=0,_=0,D=[],$=(0,o.getPreClones)(V(V(V({},S.props),S.state),{},{slideCount:S.props.children.length})),X=(0,o.getPostClones)(V(V(V({},S.props),S.state),{},{slideCount:S.props.children.length}));S.props.children.forEach(function(ht){D.push(ht.props.style.width),G+=ht.props.style.width});for(var re=0;re<$;re++)_+=D[D.length-1-re],G+=D[D.length-1-re];for(var ue=0;ue<X;ue++)G+=D[ue];for(var oe=0;oe<S.state.currentSlide;oe++)_+=D[oe];var ye={width:G+"px",left:-_+"px"};if(S.props.centerMode){var Se="".concat(D[S.state.currentSlide],"px");ye.left="calc(".concat(ye.left," + (100% - ").concat(Se,") / 2 ) ")}return{trackStyle:ye}}var Ne=i.default.Children.count(S.props.children),Pe=V(V(V({},S.props),S.state),{},{slideCount:Ne}),ze=(0,o.getPreClones)(Pe)+(0,o.getPostClones)(Pe)+Ne,qe=100/S.props.slidesToShow*ze,Ve=100/ze,Me=-Ve*((0,o.getPreClones)(Pe)+S.state.currentSlide)*qe/100;S.props.centerMode&&(Me+=(100-Ve*qe/100)/2);var Ge={width:qe+"%",left:Me+"%"};return{slideWidth:Ve+"%",trackStyle:Ge}}),E(O(S),"checkImagesLoad",function(){var G=S.list&&S.list.querySelectorAll&&S.list.querySelectorAll(".slick-slide img")||[],_=G.length,D=0;Array.prototype.forEach.call(G,function($){var X=function(){return++D&&D>=_&&S.onWindowResized()};if(!$.onclick)$.onclick=function(){return $.parentNode.focus()};else{var re=$.onclick;$.onclick=function(ue){re(ue),$.parentNode.focus()}}$.onload||(S.props.lazyLoad?$.onload=function(){S.adaptHeight(),S.callbackTimers.push(setTimeout(S.onWindowResized,S.props.speed))}:($.onload=X,$.onerror=function(){X(),S.props.onLazyLoadError&&S.props.onLazyLoadError()}))})}),E(O(S),"progressiveLazyLoad",function(){for(var G=[],_=V(V({},S.props),S.state),D=S.state.currentSlide;D<S.state.slideCount+(0,o.getPostClones)(_);D++)if(S.state.lazyLoadedList.indexOf(D)<0){G.push(D);break}for(var $=S.state.currentSlide-1;$>=-(0,o.getPreClones)(_);$--)if(S.state.lazyLoadedList.indexOf($)<0){G.push($);break}G.length>0?(S.setState(function(X){return{lazyLoadedList:X.lazyLoadedList.concat(G)}}),S.props.onLazyLoad&&S.props.onLazyLoad(G)):S.lazyLoadTimer&&(clearInterval(S.lazyLoadTimer),delete S.lazyLoadTimer)}),E(O(S),"slideHandler",function(G){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=S.props,$=D.asNavFor,X=D.beforeChange,re=D.onLazyLoad,ue=D.speed,oe=D.afterChange,ye=S.state.currentSlide,Se=(0,o.slideHandler)(V(V(V({index:G},S.props),S.state),{},{trackRef:S.track,useCSS:S.props.useCSS&&!_})),Ne=Se.state,Pe=Se.nextState;if(Ne){X&&X(ye,Ne.currentSlide);var ze=Ne.lazyLoadedList.filter(function(qe){return S.state.lazyLoadedList.indexOf(qe)<0});re&&ze.length>0&&re(ze),!S.props.waitForAnimate&&S.animationEndCallback&&(clearTimeout(S.animationEndCallback),oe&&oe(ye),delete S.animationEndCallback),S.setState(Ne,function(){$&&S.asNavForIndex!==G&&(S.asNavForIndex=G,$.innerSlider.slideHandler(G)),Pe&&(S.animationEndCallback=setTimeout(function(){var qe=Pe.animating,Ve=x(Pe,["animating"]);S.setState(Ve,function(){S.callbackTimers.push(setTimeout(function(){return S.setState({animating:qe})},10)),oe&&oe(Ne.currentSlide),delete S.animationEndCallback})},ue))})}}),E(O(S),"changeSlide",function(G){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=V(V({},S.props),S.state),$=(0,o.changeSlide)(D,G);if(!($!==0&&!$)&&(_===!0?S.slideHandler($,_):S.slideHandler($),S.props.autoplay&&S.autoPlay("update"),S.props.focusOnSelect)){var X=S.list.querySelectorAll(".slick-current");X[0]&&X[0].focus()}}),E(O(S),"clickHandler",function(G){S.clickable===!1&&(G.stopPropagation(),G.preventDefault()),S.clickable=!0}),E(O(S),"keyHandler",function(G){var _=(0,o.keyHandler)(G,S.props.accessibility,S.props.rtl);_!==""&&S.changeSlide({message:_})}),E(O(S),"selectHandler",function(G){S.changeSlide(G)}),E(O(S),"disableBodyScroll",function(){var G=function(D){D=D||window.event,D.preventDefault&&D.preventDefault(),D.returnValue=!1};window.ontouchmove=G}),E(O(S),"enableBodyScroll",function(){window.ontouchmove=null}),E(O(S),"swipeStart",function(G){S.props.verticalSwiping&&S.disableBodyScroll();var _=(0,o.swipeStart)(G,S.props.swipe,S.props.draggable);_!==""&&S.setState(_)}),E(O(S),"swipeMove",function(G){var _=(0,o.swipeMove)(G,V(V(V({},S.props),S.state),{},{trackRef:S.track,listRef:S.list,slideIndex:S.state.currentSlide}));_&&(_.swiping&&(S.clickable=!1),S.setState(_))}),E(O(S),"swipeEnd",function(G){var _=(0,o.swipeEnd)(G,V(V(V({},S.props),S.state),{},{trackRef:S.track,listRef:S.list,slideIndex:S.state.currentSlide}));if(_){var D=_.triggerSlideHandler;delete _.triggerSlideHandler,S.setState(_),D!==void 0&&(S.slideHandler(D),S.props.verticalSwiping&&S.enableBodyScroll())}}),E(O(S),"touchEnd",function(G){S.swipeEnd(G),S.clickable=!0}),E(O(S),"slickPrev",function(){S.callbackTimers.push(setTimeout(function(){return S.changeSlide({message:"previous"})},0))}),E(O(S),"slickNext",function(){S.callbackTimers.push(setTimeout(function(){return S.changeSlide({message:"next"})},0))}),E(O(S),"slickGoTo",function(G){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G=Number(G),isNaN(G))return"";S.callbackTimers.push(setTimeout(function(){return S.changeSlide({message:"index",index:G,currentSlide:S.state.currentSlide},_)},0))}),E(O(S),"play",function(){var G;if(S.props.rtl)G=S.state.currentSlide-S.props.slidesToScroll;else if((0,o.canGoNext)(V(V({},S.props),S.state)))G=S.state.currentSlide+S.props.slidesToScroll;else return!1;S.slideHandler(G)}),E(O(S),"autoPlay",function(G){S.autoplayTimer&&clearInterval(S.autoplayTimer);var _=S.state.autoplaying;if(G==="update"){if(_==="hovered"||_==="focused"||_==="paused")return}else if(G==="leave"){if(_==="paused"||_==="focused")return}else if(G==="blur"&&(_==="paused"||_==="hovered"))return;S.autoplayTimer=setInterval(S.play,S.props.autoplaySpeed+50),S.setState({autoplaying:"playing"})}),E(O(S),"pause",function(G){S.autoplayTimer&&(clearInterval(S.autoplayTimer),S.autoplayTimer=null);var _=S.state.autoplaying;G==="paused"?S.setState({autoplaying:"paused"}):G==="focused"?(_==="hovered"||_==="playing")&&S.setState({autoplaying:"focused"}):_==="playing"&&S.setState({autoplaying:"hovered"})}),E(O(S),"onDotsOver",function(){return S.props.autoplay&&S.pause("hovered")}),E(O(S),"onDotsLeave",function(){return S.props.autoplay&&S.state.autoplaying==="hovered"&&S.autoPlay("leave")}),E(O(S),"onTrackOver",function(){return S.props.autoplay&&S.pause("hovered")}),E(O(S),"onTrackLeave",function(){return S.props.autoplay&&S.state.autoplaying==="hovered"&&S.autoPlay("leave")}),E(O(S),"onSlideFocus",function(){return S.props.autoplay&&S.pause("focused")}),E(O(S),"onSlideBlur",function(){return S.props.autoplay&&S.state.autoplaying==="focused"&&S.autoPlay("blur")}),E(O(S),"render",function(){var G=(0,a.default)("slick-slider",S.props.className,{"slick-vertical":S.props.vertical,"slick-initialized":!0}),_=V(V({},S.props),S.state),D=(0,o.extractObject)(_,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),$=S.props.pauseOnHover;D=V(V({},D),{},{onMouseEnter:$?S.onTrackOver:null,onMouseLeave:$?S.onTrackLeave:null,onMouseOver:$?S.onTrackOver:null,focusOnSelect:S.props.focusOnSelect&&S.clickable?S.selectHandler:null});var X;if(S.props.dots===!0&&S.state.slideCount>=S.props.slidesToShow){var re=(0,o.extractObject)(_,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ue=S.props.pauseOnDotsHover;re=V(V({},re),{},{clickHandler:S.changeSlide,onMouseEnter:ue?S.onDotsLeave:null,onMouseOver:ue?S.onDotsOver:null,onMouseLeave:ue?S.onDotsLeave:null}),X=i.default.createElement(d.Dots,re)}var oe,ye,Se=(0,o.extractObject)(_,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Se.clickHandler=S.changeSlide,S.props.arrows&&(oe=i.default.createElement(m.PrevArrow,Se),ye=i.default.createElement(m.NextArrow,Se));var Ne=null;S.props.vertical&&(Ne={height:S.state.listHeight});var Pe=null;S.props.vertical===!1?S.props.centerMode===!0&&(Pe={padding:"0px "+S.props.centerPadding}):S.props.centerMode===!0&&(Pe={padding:S.props.centerPadding+" 0px"});var ze=V(V({},Ne),Pe),qe=S.props.touchMove,Ve={className:"slick-list",style:ze,onClick:S.clickHandler,onMouseDown:qe?S.swipeStart:null,onMouseMove:S.state.dragging&&qe?S.swipeMove:null,onMouseUp:qe?S.swipeEnd:null,onMouseLeave:S.state.dragging&&qe?S.swipeEnd:null,onTouchStart:qe?S.swipeStart:null,onTouchMove:S.state.dragging&&qe?S.swipeMove:null,onTouchEnd:qe?S.touchEnd:null,onTouchCancel:S.state.dragging&&qe?S.swipeEnd:null,onKeyDown:S.props.accessibility?S.keyHandler:null},Me={className:G,dir:"ltr",style:S.props.style};return S.props.unslick&&(Ve={className:"slick-list"},Me={className:G}),i.default.createElement("div",Me,S.props.unslick?"":oe,i.default.createElement("div",w({ref:S.listRefHandler},Ve),i.default.createElement(u.Track,w({ref:S.trackRefHandler},D),S.props.children)),S.props.unslick?"":ye,S.props.unslick?"":X)}),S.list=null,S.track=null,S.state=V(V({},e.default),{},{currentSlide:S.props.initialSlide,targetSlide:S.props.initialSlide?S.props.initialSlide:0,slideCount:i.default.Children.count(S.props.children)}),S.callbackTimers=[],S.clickable=!0,S.debouncedResize=null;var ge=S.ssrInit();return S.state=V(V({},S.state),ge),S}return ee(me,[{key:"didPropsChange",value:function(S){for(var ge=!1,G=0,_=Object.keys(this.props);G<_.length;G++){var D=_[G];if(!S.hasOwnProperty(D)){ge=!0;break}if(!(b(S[D])==="object"||typeof S[D]=="function"||isNaN(S[D]))&&S[D]!==this.props[D]){ge=!0;break}}return ge||i.default.Children.count(this.props.children)!==i.default.Children.count(S.children)}}]),me}(i.default.Component),Sl}var Gh,y0;function l6(){if(y0)return Gh;y0=1;var i=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return Gh=i,Gh}var Qh,v0;function u6(){if(v0)return Qh;v0=1;var i=l6(),e=function(o){var u=/[height|width]$/;return u.test(o)},n=function(o){var u="",d=Object.keys(o);return d.forEach(function(m,g){var p=o[m];m=i(m),e(m)&&typeof p=="number"&&(p=p+"px"),p===!0?u+=m:p===!1?u+="not "+m:u+="("+m+": "+p+")",g<d.length-1&&(u+=" and ")}),u},a=function(o){var u="";return typeof o=="string"?o:o instanceof Array?(o.forEach(function(d,m){u+=n(d),m<o.length-1&&(u+=", ")}),u):n(o)};return Qh=a,Qh}var $h,_0;function c6(){if(_0)return $h;_0=1;function i(e){this.options=e,!e.deferSetup&&this.setup()}return i.prototype={constructor:i,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},$h=i,$h}var Kh,b0;function cE(){if(b0)return Kh;b0=1;function i(a,o){var u=0,d=a.length,m;for(u;u<d&&(m=o(a[u],u),m!==!1);u++);}function e(a){return Object.prototype.toString.apply(a)==="[object Array]"}function n(a){return typeof a=="function"}return Kh={isFunction:n,isArray:e,each:i},Kh}var Yh,E0;function f6(){if(E0)return Yh;E0=1;var i=c6(),e=cE().each;function n(a,o){this.query=a,this.isUnconditional=o,this.handlers=[],this.mql=window.matchMedia(a);var u=this;this.listener=function(d){u.mql=d.currentTarget||d,u.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(a){var o=new i(a);this.handlers.push(o),this.matches()&&o.on()},removeHandler:function(a){var o=this.handlers;e(o,function(u,d){if(u.equals(a))return u.destroy(),!o.splice(d,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";e(this.handlers,function(o){o[a]()})}},Yh=n,Yh}var Xh,S0;function d6(){if(S0)return Xh;S0=1;var i=f6(),e=cE(),n=e.each,a=e.isFunction,o=e.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return u.prototype={constructor:u,register:function(d,m,g){var p=this.queries,b=g&&this.browserIsIncapable;return p[d]||(p[d]=new i(d,b)),a(m)&&(m={match:m}),o(m)||(m=[m]),n(m,function(w){a(w)&&(w={match:w}),p[d].addHandler(w)}),this},unregister:function(d,m){var g=this.queries[d];return g&&(m?g.removeHandler(m):(g.clear(),delete this.queries[d])),this}},Xh=u,Xh}var Wh,T0;function h6(){if(T0)return Wh;T0=1;var i=d6();return Wh=new i,Wh}var w0;function m6(){return w0||(w0=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=d(Or()),n=o6(),a=d(u6()),o=d(iE()),u=nu();function d(R){return R&&R.__esModule?R:{default:R}}function m(R){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},m(R)}function g(){return g=Object.assign?Object.assign.bind():function(R){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var k in M)Object.prototype.hasOwnProperty.call(M,k)&&(R[k]=M[k])}return R},g.apply(this,arguments)}function p(R,E){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(R);E&&(k=k.filter(function(C){return Object.getOwnPropertyDescriptor(R,C).enumerable})),M.push.apply(M,k)}return M}function b(R){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?p(Object(M),!0).forEach(function(k){U(R,k,M[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):p(Object(M)).forEach(function(k){Object.defineProperty(R,k,Object.getOwnPropertyDescriptor(M,k))})}return R}function w(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function x(R,E){for(var M=0;M<E.length;M++){var k=E[M];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,F(k.key),k)}}function P(R,E,M){return E&&x(R.prototype,E),Object.defineProperty(R,"prototype",{writable:!1}),R}function z(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),E&&V(R,E)}function V(R,E){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,C){return k.__proto__=C,k},V(R,E)}function L(R){var E=se();return function(){var k=he(R),C;if(E){var W=he(this).constructor;C=Reflect.construct(k,arguments,W)}else C=k.apply(this,arguments);return H(this,C)}}function H(R,E){if(E&&(m(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(R)}function ee(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function se(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(se=function(){return!!R})()}function he(R){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},he(R)}function U(R,E,M){return E=F(E),E in R?Object.defineProperty(R,E,{value:M,enumerable:!0,configurable:!0,writable:!0}):R[E]=M,R}function F(R){var E=O(R,"string");return m(E)=="symbol"?E:String(E)}function O(R,E){if(m(R)!="object"||!R)return R;var M=R[Symbol.toPrimitive];if(M!==void 0){var k=M.call(R,E);if(m(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(R)}var I=(0,u.canUseDOM)()&&h6();i.default=function(R){z(M,R);var E=L(M);function M(k){var C;return w(this,M),C=E.call(this,k),U(ee(C),"innerSliderRefHandler",function(W){return C.innerSlider=W}),U(ee(C),"slickPrev",function(){return C.innerSlider.slickPrev()}),U(ee(C),"slickNext",function(){return C.innerSlider.slickNext()}),U(ee(C),"slickGoTo",function(W){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C.innerSlider.slickGoTo(W,me)}),U(ee(C),"slickPause",function(){return C.innerSlider.pause("paused")}),U(ee(C),"slickPlay",function(){return C.innerSlider.autoPlay("play")}),C.state={breakpoint:null},C._responsiveMediaHandlers=[],C}return P(M,[{key:"media",value:function(C,W){I.register(C,W),this._responsiveMediaHandlers.push({query:C,handler:W})}},{key:"componentDidMount",value:function(){var C=this;if(this.props.responsive){var W=this.props.responsive.map(function(Q){return Q.breakpoint});W.sort(function(Q,S){return Q-S}),W.forEach(function(Q,S){var ge;S===0?ge=(0,a.default)({minWidth:0,maxWidth:Q}):ge=(0,a.default)({minWidth:W[S-1]+1,maxWidth:Q}),(0,u.canUseDOM)()&&C.media(ge,function(){C.setState({breakpoint:Q})})});var me=(0,a.default)({minWidth:W.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(me,function(){C.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(C){I.unregister(C.query,C.handler)})}},{key:"render",value:function(){var C=this,W,me;this.state.breakpoint?(me=this.props.responsive.filter(function(ue){return ue.breakpoint===C.state.breakpoint}),W=me[0].settings==="unslick"?"unslick":b(b(b({},o.default),this.props),me[0].settings)):W=b(b({},o.default),this.props),W.centerMode&&(W.slidesToScroll>1,W.slidesToScroll=1),W.fade&&(W.slidesToShow>1,W.slidesToScroll>1,W.slidesToShow=1,W.slidesToScroll=1);var Q=e.default.Children.toArray(this.props.children);Q=Q.filter(function(ue){return typeof ue=="string"?!!ue.trim():!!ue}),W.variableWidth&&(W.rows>1||W.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),W.variableWidth=!1);for(var S=[],ge=null,G=0;G<Q.length;G+=W.rows*W.slidesPerRow){for(var _=[],D=G;D<G+W.rows*W.slidesPerRow;D+=W.slidesPerRow){for(var $=[],X=D;X<D+W.slidesPerRow&&(W.variableWidth&&Q[X].props.style&&(ge=Q[X].props.style.width),!(X>=Q.length));X+=1)$.push(e.default.cloneElement(Q[X],{key:100*G+10*D+X,tabIndex:-1,style:{width:"".concat(100/W.slidesPerRow,"%"),display:"inline-block"}}));_.push(e.default.createElement("div",{key:10*G+D},$))}W.variableWidth?S.push(e.default.createElement("div",{key:G,style:{width:ge}},_)):S.push(e.default.createElement("div",{key:G},_))}if(W==="unslick"){var re="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:re},Q)}else S.length<=W.slidesToShow&&!W.infinite&&(W.unslick=!0);return e.default.createElement(n.InnerSlider,g({style:this.props.style,ref:this.innerSliderRefHandler},(0,u.filterSettings)(W)),S)}}]),M}(e.default.Component)}(Uh)),Uh}var A0;function p6(){return A0||(A0=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n(m6());function n(a){return a&&a.__esModule?a:{default:a}}i.default=e.default}(zh)),zh}var g6=p6();const y6=M0(g6),v6=({menu:i=[],onCategorySelect:e,selectedCategory:n=null})=>{const[a,o]=q.useState(0),[u,d]=q.useState(!0),m=q.useRef(null);q.useRef(null);const g=Array.isArray(i)?i.map(w=>{const x=w.items||[],P=x.find(V=>V.image||V.imageUrl)||x[0],z=(P==null?void 0:P.imageUrl)||(P==null?void 0:P.image);return{name:w.name,displayName:w.name.charAt(0).toUpperCase()+w.name.slice(1),image:z||null,itemCount:x.length,firstItem:P}}).filter(w=>w.itemCount>0):[],p={dots:!0,infinite:g.length>3,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]},b=(w,x)=>{e&&e(w),m.current&&m.current.slickGoTo(x);const P=document.querySelector(".menu-display");P&&P.scrollIntoView({behavior:"smooth",block:"start"})};return g.length===0?null:y.jsx("div",{className:"category-slider",children:y.jsx("div",{className:"category-slider-container",children:y.jsx(y6,{ref:m,...p,children:g.map((w,x)=>y.jsxs("div",{className:`category-item ${n===w.name?"active":""}`,onClick:()=>b(w.name,x),children:[y.jsxs("div",{className:"category-image",children:[w.image?y.jsx("img",{src:w.image,alt:w.displayName,onError:P=>{P.target.style.display="none",P.target.nextElementSibling&&(P.target.nextElementSibling.style.display="flex")}}):y.jsx("div",{className:"category-image-placeholder",style:{display:"flex"},children:y.jsx("span",{className:"category-icon",children:y.jsx(Pl,{})})}),w.image&&y.jsx("div",{className:"category-image-placeholder",style:{display:"none"},children:y.jsx("span",{className:"category-icon",children:y.jsx(Pl,{})})}),y.jsx("div",{className:"category-overlay",children:y.jsxs("span",{className:"category-count",children:[w.itemCount," productos"]})})]}),y.jsx("div",{className:"category-info",children:y.jsx("h3",{className:"category-name",children:w.displayName})})]},w.name))})})})},_6=({categories:i=[],selected:e,onSelect:n})=>i.length?y.jsx("div",{className:"category-pills-mobile-wrapper",children:y.jsx("div",{className:"category-pills-mobile-track",children:i.map(a=>y.jsx("button",{className:`category-pill-mobile${e===a.name?" active":""}`,onClick:()=>n&&n(a.name),type:"button",children:a.name},a.id||a.name))})}):null,b6=({onSubmit:i,loading:e,paymentMethod:n})=>{const[a,o]=q.useState({name:"",phone:"",email:"",deliveryOption:"pickup",address:"",notes:""}),[u,d]=q.useState({}),m=()=>{const w={};return a.name.trim()||(w.name="El nombre es requerido"),a.phone.trim()?/^\+?[\d\s-()]{8,}$/.test(a.phone)||(w.phone="Formato de telfono invlido"):w.phone="El telfono es requerido",a.email&&!/\S+@\S+\.\S+/.test(a.email)&&(w.email="Formato de email invlido"),d(w),Object.keys(w).length===0},g=w=>{w.preventDefault(),m()&&i(a)},p=w=>{const{name:x,value:P}=w.target;o(z=>({...z,[x]:P})),u[x]&&d(z=>({...z,[x]:""}))},b=w=>{n!=="cash"&&o(x=>({...x,deliveryOption:w.target.value,address:w.target.value==="pickup"?"":x.address}))};return y.jsxs("form",{onSubmit:g,className:"customer-form scrollable-content",children:[y.jsx("h3",{children:"Informacin de Contacto"}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"name",children:[y.jsx(BT,{style:{marginRight:6,color:"var(--secondary-color)"}})," Nombre completo *"]}),y.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:p,className:u.name?"error":"",disabled:e}),u.name&&y.jsx("span",{className:"error-message",children:u.name})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"phone",children:[y.jsx(DT,{style:{marginRight:6,color:"var(--secondary-color)"}})," Telfono *"]}),y.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:p,placeholder:"+54 11 1234-5678",className:u.phone?"error":"",disabled:e}),u.phone&&y.jsx("span",{className:"error-message",children:u.phone})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"email",children:[y.jsx(r1,{style:{marginRight:6,color:"var(--secondary-color)"}})," Email"]}),y.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:p,className:u.email?"error":"",disabled:e}),u.email&&y.jsx("span",{className:"error-message",children:u.email})]}),n==="cash"?y.jsxs("div",{className:"form-group delivery-info",children:[y.jsx("label",{className:"delivery-label",children:"Opcin de entrega:"}),y.jsxs("div",{className:"cash-delivery-notice",style:{padding:"1rem",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",marginTop:"0.5rem",display:"flex",alignItems:"center"},children:[y.jsx(Pl,{style:{marginRight:"0.5rem",color:"var(--secondary-color)"}}),y.jsx("span",{style:{color:"var(--secondary-color)",fontWeight:"500"},children:"El pago en efectivo solo est disponible para retiro en local"})]})]}):y.jsxs("div",{className:"form-group delivery-options",children:[y.jsx("label",{className:"delivery-label",children:"Opcin de entrega:"}),y.jsxs("div",{className:"delivery-choice",style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[y.jsxs("label",{className:"radio-option",style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"0.75rem 1rem",border:"2px solid",borderColor:a.deliveryOption==="pickup"?"#009688":"#ddd",borderRadius:"8px",backgroundColor:a.deliveryOption==="pickup"?"#e0f2f1":"#fff",transition:"all 0.3s ease"},children:[y.jsx("input",{type:"radio",name:"deliveryOption",value:"pickup",checked:a.deliveryOption==="pickup",onChange:b,style:{marginRight:"0.5rem"}}),y.jsx(Pl,{style:{marginRight:"0.5rem",color:"var(--secondary-color)"}})," Retiro en local"]}),y.jsxs("label",{className:"radio-option",style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"0.75rem 1rem",border:"2px solid",borderColor:a.deliveryOption==="delivery"?"#009688":"#ddd",borderRadius:"8px",backgroundColor:a.deliveryOption==="delivery"?"#e0f2f1":"#fff",transition:"all 0.3s ease"},children:[y.jsx("input",{type:"radio",name:"deliveryOption",value:"delivery",checked:a.deliveryOption==="delivery",onChange:b,style:{marginRight:"0.5rem"}}),y.jsx(zT,{style:{marginRight:"0.5rem",color:"var(--secondary-color)"}})," Envo a domicilio"]})]})]}),a.deliveryOption==="delivery"&&n!=="cash"&&y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"address",children:[y.jsx(Mm,{style:{marginRight:6,color:"var(--secondary-color)"}})," Direccin *"]}),y.jsx("textarea",{id:"address",name:"address",value:a.address,onChange:p,disabled:e,rows:"3",required:!0,placeholder:"Ingresa tu direccin completa"})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"notes",children:[y.jsx(kT,{style:{marginRight:6,color:"var(--secondary-color)"}})," Notas adicionales"]}),y.jsx("textarea",{id:"notes",name:"notes",value:a.notes,onChange:p,placeholder:"Instrucciones especiales, alergias, etc.",disabled:e,rows:"3"})]}),y.jsx("button",{type:"submit",className:"submit-btn",disabled:e,children:e?"Procesando...":"Proceder al Pago"})]})},E6=({onSelect:i,onBack:e,total:n})=>y.jsxs("div",{className:"payment-selection scrollable-content",children:[y.jsxs("div",{className:"payment-header",children:[y.jsx("button",{onClick:e,className:"back-btn",children:" Volver"}),y.jsx("h3",{children:"Mtodo de Pago"})]}),y.jsx("div",{className:"payment-total",children:y.jsxs("h4",{children:["Total de tu compra: $",n.toFixed(2)," ARS"]})}),y.jsxs("div",{className:"payment-methods",children:[y.jsxs("div",{className:"payment-method cash",onClick:()=>i("cash"),children:[y.jsx("div",{className:"payment-icon",children:y.jsx(IT,{style:{color:"#28a745"}})}),y.jsxs("div",{className:"payment-info",children:[y.jsx("h4",{children:"Efectivo"}),y.jsx("p",{children:"Pago al retirar en tienda"}),y.jsx("small",{children:"Coordinaremos por WhatsApp"})]}),y.jsx("div",{className:"payment-arrow",children:y.jsx(Oh,{style:{color:"#888"}})})]}),y.jsxs("div",{className:"payment-method mercadopago",onClick:()=>i("mercadopago"),children:[y.jsx("div",{className:"payment-icon",children:y.jsx(CT,{style:{color:"#0077ff"}})}),y.jsxs("div",{className:"payment-info",children:[y.jsx("h4",{children:"MercadoPago"}),y.jsx("p",{children:"Tarjeta de crdito/dbito"}),y.jsx("small",{children:"Pago seguro online con envo"})]}),y.jsx("div",{className:"payment-arrow",children:y.jsx(Oh,{style:{color:"#888"}})})]}),y.jsxs("div",{className:"payment-method transfer",onClick:()=>i("transfer"),children:[y.jsx("div",{className:"payment-icon",children:y.jsx(UT,{style:{color:"#6c757d"}})}),y.jsxs("div",{className:"payment-info",children:[y.jsx("h4",{children:"Transferencia"}),y.jsx("p",{children:"Transferencia bancaria"}),y.jsx("small",{children:"Te enviaremos los datos bancarios"})]}),y.jsx("div",{className:"payment-arrow",children:y.jsx(Oh,{style:{color:"#888"}})})]})]}),y.jsxs("div",{className:"payment-note",children:[y.jsxs("p",{children:[y.jsx(NT,{style:{color:"#28a745",marginRight:6}})," Todos los pagos son seguros y protegidos"]}),y.jsxs("p",{children:[y.jsx(t1,{style:{color:"#0077ff",marginRight:6}})," Envo gratuito en compras superiores a $5000"]})]})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="type.googleapis.com/google.protobuf.Int64Value",T6="type.googleapis.com/google.protobuf.UInt64Value";function fE(i,e){const n={};for(const a in i)i.hasOwnProperty(a)&&(n[a]=e(i[a]));return n}function Am(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>Am(e));if(typeof i=="function"||typeof i=="object")return fE(i,e=>Am(e));throw new Error("Data cannot be encoded in JSON: "+i)}function tf(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case S6:case T6:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>tf(e)):typeof i=="function"||typeof i=="object"?fE(i,e=>tf(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fs extends Wi{constructor(e,n,a){super(`${xp}/${e}`,n||""),this.details=a}}function w6(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function A6(i,e){let n=w6(i),a=n,o;try{const u=e&&e.error;if(u){const d=u.status;if(typeof d=="string"){if(!R0[d])return new Fs("internal","internal");n=R0[d],a=d}const m=u.message;typeof m=="string"&&(a=m),o=u.details,o!==void 0&&(o=tf(o))}}catch{}return n==="ok"?null:new Fs(n,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n,a){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(o=>this.auth=o,()=>{}),this.messaging||n.get().then(o=>this.messaging=o,()=>{}),this.appCheck||a.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:a,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="us-central1";function x6(i){let e=null;return{promise:new Promise((n,a)=>{e=setTimeout(()=>{a(new Fs("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class C6{constructor(e,n,a,o,u=Rm,d){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new R6(n,a,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Rm}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function O6(i,e,n){i.emulatorOrigin=`http://${e}:${n}`}function N6(i,e,n){return a=>D6(i,e,a,{})}async function I6(i,e,n,a){n["Content-Type"]="application/json";let o;try{o=await a(i,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}function D6(i,e,n,a){const o=i._url(e);return M6(i,o,n,a)}async function M6(i,e,n,a){n=Am(n);const o={data:n},u={},d=await i.contextProvider.getContext(a.limitedUseAppCheckTokens);d.authToken&&(u.Authorization="Bearer "+d.authToken),d.messagingToken&&(u["Firebase-Instance-ID-Token"]=d.messagingToken),d.appCheckToken!==null&&(u["X-Firebase-AppCheck"]=d.appCheckToken);const m=a.timeout||7e4,g=x6(m),p=await Promise.race([I6(e,o,u,i.fetchImpl),g.promise,i.cancelAllRequests]);if(g.cancel(),!p)throw new Fs("cancelled","Firebase Functions instance was deleted.");const b=A6(p.status,p.json);if(b)throw b;if(!p.json)throw new Fs("internal","Response is not valid JSON object.");let w=p.json.data;if(typeof w>"u"&&(w=p.json.result),typeof w>"u")throw new Fs("internal","Response is missing data field.");return{data:tf(w)}}const x0="@firebase/functions",C0="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="auth-internal",P6="app-check-internal",k6="messaging-internal";function V6(i,e){const n=(a,{instanceIdentifier:o})=>{const u=a.getProvider("app").getImmediate(),d=a.getProvider(j6),m=a.getProvider(k6),g=a.getProvider(P6);return new C6(u,d,m,g,o,i)};Gs(new qa(xp,n,"PUBLIC").setMultipleInstances(!0)),wr(x0,C0,e),wr(x0,C0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(i=Vm(),e=Rm){const a=af(yn(i),xp).getImmediate({identifier:e}),o=Pm("functions");return o&&z6(a,...o),a}function z6(i,e,n){O6(yn(i),e,n)}function U6(i,e,n){return N6(yn(i),e)}V6(fetch.bind(self));class B6{constructor(){this.functions=null,this.initialized=!1}async _ensureInitialized(){if(!this.initialized)try{const{app:e}=await It.initialize();this.functions=L6(e),this.initialized=!0,console.log(" PaymentService initialized")}catch(e){throw console.error(" Failed to initialize PaymentService:",e),e}}_validateOrderData(e){var n;if(console.log(" Validating order data:",{hasBusinessId:!!e.businessId,businessId:e.businessId,hasItems:!!e.items,itemsLength:(n=e.items)==null?void 0:n.length,hasCustomer:!!e.customer,customerData:e.customer,hasTotalAmount:!!e.totalAmount,totalAmount:e.totalAmount,hasOrderId:!!e.orderId,orderId:e.orderId,hasBackUrls:!!e.backUrls,backUrls:e.backUrls}),!e.businessId||typeof e.businessId!="string")throw new Error("businessId is required and must be a string");if(!e.items||!Array.isArray(e.items)||e.items.length===0)throw new Error("items is required and must be a non-empty array");if(!e.customer||typeof e.customer!="object"||!e.customer.name||!e.customer.phone)throw new Error("customer is required with name and phone");if(!e.totalAmount||typeof e.totalAmount!="number"||e.totalAmount<=0)throw new Error("totalAmount is required and must be a positive number");if(!e.orderId||typeof e.orderId!="string")throw new Error("orderId is required and must be a string");if(!e.backUrls||typeof e.backUrls!="object"||!e.backUrls.success||!e.backUrls.pending||!e.backUrls.failure)throw new Error("backUrls is required with success, pending, and failure URLs");for(const a of e.items)if(!a.name||typeof a.unit_price!="number"||typeof a.quantity!="number")throw new Error(`Invalid item structure: ${JSON.stringify(a)}`);console.log(" Order data validation passed")}async createMercadoPagoPreference(e){try{await this._ensureInitialized(),console.log(" Creating MercadoPago preference...",e),this._validateOrderData(e);try{const n=U6(this.functions,"createMercadoPagoPreference");console.log(" Sending data to Cloud Function:",{businessId:e.businessId,itemsCount:e.items.length,totalAmount:e.totalAmount,orderId:e.orderId});const a=await n({businessId:e.businessId,items:e.items,customer:e.customer,totalAmount:e.totalAmount,orderId:e.orderId,backUrls:e.backUrls,notes:e.notes||""});if(a.data.success)return console.log(" MercadoPago preference created:",a.data),{success:!0,init_point:a.data.init_point,preference_id:a.data.preference_id,order_id:a.data.order_id};throw console.error(" Failed to create preference:",a.data),new Error("Failed to create payment preference")}catch(n){console.error(" Firebase callable error details:",{code:n.code,message:n.message,details:n.details,stack:n.stack}),console.warn(" Firebase callable failed, trying HTTP fallback");const a=await fetch("https://us-central1-cms-menu-7b4a4.cloudfunctions.net/createMercadoPagoPreferenceHTTP",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({businessId:e.businessId,items:e.items,payer:e.customer,totalAmount:e.totalAmount,orderId:e.orderId,backUrls:e.backUrls,notes:e.notes||""})});if(!a.ok){const u=await a.json();throw console.error(" HTTP fallback failed:",{status:a.status,statusText:a.statusText,errorData:u}),new Error(`HTTP function failed: ${u.message||a.statusText}`)}const o=await a.json();return console.log(" MercadoPago preference created via HTTP:",o),o}}catch(n){throw console.error(" Error creating MercadoPago preference:",{message:n.message,stack:n.stack}),new Error(`Payment error: ${n.message}`)}}generateBackUrls(e,n){const a="https://juanmaacampos.github.io/shop_template";return{success:`${a}/#/payment/success?order=${n}&payment_id={{payment_id}}&status={{status}}&collection_status={{collection_status}}&source=mp_redirect`,pending:`${a}/#/payment/pending?order=${n}&payment_id={{payment_id}}&status={{status}}&collection_status={{collection_status}}&source=mp_redirect`,failure:`${a}/#/payment/failure?order=${n}&payment_id={{payment_id}}&status={{status}}&collection_status={{collection_status}}&source=mp_redirect`}}}const O0=new B6,q6=({bankInfo:i,totalAmount:e,orderNumber:n="",onConfirm:a,onCancel:o,whatsappNumber:u=""})=>{const[d,m]=q.useState(""),g=async(p,b)=>{try{await navigator.clipboard.writeText(p),m(b),setTimeout(()=>m(""),2e3)}catch(w){console.error("Error al copiar:",w);const x=document.createElement("textarea");x.value=p,document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x),m(b),setTimeout(()=>m(""),2e3)}};return i?y.jsxs("div",{className:"bank-info-section",children:[y.jsx("h3",{children:" Datos para transferencia bancaria"}),y.jsxs("div",{className:"bank-info-instructions",children:[y.jsx("p",{children:y.jsx("strong",{children:" Instrucciones:"})}),y.jsxs("ol",{children:[y.jsx("li",{children:"Realiza la transferencia por el monto exacto indicado"}),y.jsx("li",{children:"Una vez realizada la transferencia, confirma tu pedido"}),y.jsx("li",{children:"Te enviaremos un mensaje por WhatsApp cuando recibamos la transferencia"})]})]}),y.jsxs("div",{className:"bank-details",children:[i.cbu&&y.jsxs("div",{className:"bank-detail-item",children:[y.jsx("span",{className:"bank-label",children:"CBU:"}),y.jsxs("div",{className:"bank-value-container",children:[y.jsx("span",{className:"bank-value",onClick:()=>g(i.cbu,"cbu"),children:i.cbu}),y.jsx("button",{type:"button",className:`copy-btn ${d==="cbu"?"copied":""}`,onClick:()=>g(i.cbu,"cbu"),title:"Copiar CBU",children:d==="cbu"?" Copiado":" Copiar"})]})]}),i.alias&&y.jsxs("div",{className:"bank-detail-item",children:[y.jsx("span",{className:"bank-label",children:"Alias:"}),y.jsxs("div",{className:"bank-value-container",children:[y.jsx("span",{className:"bank-value",onClick:()=>g(i.alias,"alias"),children:i.alias}),y.jsx("button",{type:"button",className:`copy-btn ${d==="alias"?"copied":""}`,onClick:()=>g(i.alias,"alias"),title:"Copiar Alias",children:d==="alias"?" Copiado":" Copiar"})]})]}),i.bankName&&y.jsxs("div",{className:"bank-detail-item",children:[y.jsx("span",{className:"bank-label",children:"Banco:"}),y.jsxs("div",{className:"bank-value-container",children:[y.jsx("span",{className:"bank-value",onClick:()=>g(i.bankName,"bankName"),children:i.bankName}),y.jsx("button",{type:"button",className:`copy-btn ${d==="bankName"?"copied":""}`,onClick:()=>g(i.bankName,"bankName"),title:"Copiar Banco",children:d==="bankName"?" Copiado":" Copiar"})]})]}),i.accountHolder&&y.jsxs("div",{className:"bank-detail-item",children:[y.jsx("span",{className:"bank-label",children:"Titular:"}),y.jsxs("div",{className:"bank-value-container",children:[y.jsx("span",{className:"bank-value",onClick:()=>g(i.accountHolder,"accountHolder"),children:i.accountHolder}),y.jsx("button",{type:"button",className:`copy-btn ${d==="accountHolder"?"copied":""}`,onClick:()=>g(i.accountHolder,"accountHolder"),title:"Copiar Titular",children:d==="accountHolder"?" Copiado":" Copiar"})]})]}),n&&y.jsxs("div",{className:"bank-detail-item",children:[y.jsx("span",{className:"bank-label",children:"Pedido N:"}),y.jsxs("div",{className:"bank-value-container",children:[y.jsx("span",{className:"bank-value",onClick:()=>g(n,"orderNumber"),children:n}),y.jsx("button",{type:"button",className:`copy-btn ${d==="orderNumber"?"copied":""}`,onClick:()=>g(n,"orderNumber"),title:"Copiar Nmero de Pedido",children:d==="orderNumber"?" Copiado":" Copiar"})]})]}),y.jsxs("div",{className:"bank-detail-item highlight",children:[y.jsx("span",{className:"bank-label",children:"Monto a transferir:"}),y.jsxs("div",{className:"bank-value-container",children:[y.jsxs("span",{className:"bank-value total-amount",children:["$",e.toFixed(2)," ARS"]}),y.jsx("button",{type:"button",className:`copy-btn ${d==="totalAmount"?"copied":""}`,onClick:()=>g(e.toFixed(2),"totalAmount"),title:"Copiar Monto",children:d==="totalAmount"?" Copiado":" Copiar"})]})]})]}),y.jsx("div",{className:"whatsapp-notice",children:y.jsxs("p",{children:[" ",y.jsx("strong",{children:"Confirmacin por WhatsApp:"})," Una vez que realices la transferencia, recibirs un mensaje de confirmacin ",u&&`al ${u}`,"cuando se reciba la transferencia y tu pedido ser procesado."]})}),y.jsxs("div",{className:"bank-info-actions",children:[y.jsx("button",{onClick:o,className:"btn-secondary",children:" Cambiar mtodo de pago"}),y.jsx("button",{onClick:a,className:"btn-primary",children:"Confirmar pedido "})]})]}):y.jsx("div",{className:"bank-info-section",children:y.jsxs("div",{className:"bank-info-error",children:[y.jsx("h3",{children:" Informacin bancaria no disponible"}),y.jsx("p",{children:"Los datos bancarios no estn configurados. Por favor contacta al restaurante."}),y.jsx("button",{onClick:o,className:"btn-secondary",children:"Volver"})]})})},dE=({cart:i=[],updateQuantity:e,removeFromCart:n,clearCart:a,total:o=0,onClose:u,firebaseManager:d})=>{const[m,g]=q.useState("cart"),[p,b]=q.useState(""),[w,x]=q.useState(!1),[P,z]=q.useState(null),[V,L]=q.useState(null),H=typeof o=="number"?o:0;Array.isArray(i)&&i.reduce((R,E)=>R+(E.quantity||0),0),q.useEffect(()=>{console.log(" Cart component props:",{cart:i.length,total:o,firebaseManager:!!d,orderService:!!P})},[i,o,d,P]),q.useEffect(()=>{(async()=>{if(d)console.log(" Initializing OrderService with Firebase manager"),z(new Bc(d,gn.businessId));else try{const{globalFirebaseManager:E}=await kl(async()=>{const{globalFirebaseManager:M}=await Promise.resolve().then(()=>s0);return{globalFirebaseManager:M}},void 0);E&&(console.log(" Initializing OrderService with global Firebase manager"),z(new Bc(E,gn.businessId)))}catch(E){console.warn(" Could not initialize OrderService:",E.message)}})()},[d]);const ee=R=>{b(R),g("customer")},se=async R=>{if(!P)try{const{globalFirebaseManager:E}=await kl(async()=>{const{globalFirebaseManager:k}=await Promise.resolve().then(()=>s0);return{globalFirebaseManager:k}},void 0),M=new Bc(E,gn.businessId);return z(M),se(R)}catch(E){console.error(" Failed to initialize OrderService:",E),alert("Error: Servicio de pedidos no disponible. Por favor recarga la pgina e intenta nuevamente.");return}x(!0);try{const E=`order_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;p==="mercadopago"?await F(E,R):p==="transfer"?await U(E,R):await he(E,R)}catch(E){console.error(" Checkout error:",E),alert(`Error al procesar el pedido: ${E.message}

Por favor intenta nuevamente.`)}finally{x(!1)}},he=async(R,E)=>{const M={items:i,customer:E,total:H,notes:E.notes,paymentMethod:"cash"},k=await P.createOrder(M);console.log(" Cash order created:",k),alert(`Pedido confirmado!

ID: `+k.orderId+`

Te contactaremos por WhatsApp para coordinar el retiro.

Total a pagar: $`+H.toFixed(2)+" ARS"),a(),u()},U=async(R,E)=>{const M={items:i,customer:E,total:H,notes:E.notes,paymentMethod:"transfer"},k=await P.createOrder(M);console.log(" Transfer order created:",k),L({...k,total:H,customer:E}),g("bankinfo")},F=async(R,E)=>{console.log(" Processing MercadoPago payment...");const M=window.location.origin,k=O0.generateBackUrls(M,R),C={businessId:gn.businessId,items:i.map(W=>({name:W.name,unit_price:W.price,quantity:W.quantity})),customer:{name:E.name,phone:E.phone,email:E.email||"",address:E.address||""},totalAmount:o||0,orderId:R,backUrls:k,notes:E.notes||""};try{const W=await O0.createMercadoPagoPreference(C);if(W.success&&W.init_point)console.log(" Redirecting to MercadoPago:",W.init_point),a(),window.location.href=W.init_point;else throw new Error("Failed to create payment preference")}catch(W){throw console.error(" MercadoPago error:",W),new Error(`Error con MercadoPago: ${W.message}`)}},O=()=>{alert("Gracias! Te contactaremos por WhatsApp cuando recibamos la transferencia."),a(),u()},I=()=>{g("customer"),L(null)};return i.length===0?y.jsxs("div",{className:"cart-empty",children:[y.jsx("p",{children:"Tu carrito est vaco"}),y.jsx("button",{onClick:u,className:"close-btn",children:"Cerrar"})]}):y.jsxs("div",{className:"cart-container",children:[y.jsxs("div",{className:"cart-header",children:[y.jsx("h2",{children:"Tu Pedido"}),y.jsx("button",{onClick:u,className:"close-btn",children:""})]}),y.jsxs("div",{className:"cart-main-container scrollable-content",children:[m==="cart"&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"cart-items",children:i.map(R=>y.jsxs("div",{className:"cart-item",children:[y.jsxs("div",{className:"item-info",children:[y.jsx("h4",{children:R.name}),y.jsxs("p",{className:"item-price",children:["$",R.price]})]}),y.jsxs("div",{className:"quantity-controls",children:[y.jsx("button",{onClick:()=>e(R.id,R.quantity-1),children:"-"}),y.jsx("span",{children:R.quantity}),y.jsx("button",{onClick:()=>e(R.id,R.quantity+1),children:"+"})]}),y.jsx("button",{onClick:()=>n(R.id),className:"remove-btn",children:y.jsx(LT,{style:{color:"#888"}})})]},R.id))}),y.jsx("div",{className:"cart-total",children:y.jsxs("h3",{children:["Total: $",H.toFixed(2)," ARS"]})}),y.jsxs("div",{className:"cart-actions",children:[y.jsx("button",{onClick:a,className:"clear-btn",children:"Vaciar Carrito"}),y.jsx("button",{onClick:()=>g("payment"),className:"checkout-btn",children:"Continuar"})]})]}),m==="payment"&&y.jsx(E6,{onSelect:ee,onBack:()=>g("cart"),total:o}),m==="customer"&&y.jsx(b6,{onSubmit:se,loading:w,paymentMethod:p,onBack:()=>g("payment")}),m==="bankinfo"&&V&&y.jsx(q6,{bankInfo:{bankName:"Banco Santander",accountType:"Cuenta Corriente",accountNumber:"123-456789-0",cbu:"0720123188000041234567",alias:"RESTAURANT.ALIAS",holderName:"Restaurante Demo",holderDni:"12.345.678"},totalAmount:V.total,orderNumber:V.orderId,onConfirm:O,onCancel:I,whatsappNumber:"+54 9 11 1234-5678"})]})]})},H6=({cart:i,addToCart:e,updateQuantity:n,removeFromCart:a,clearCart:o,total:u,itemCount:d,firebaseManager:m})=>{const g=q.useRef(null),p=q.useRef(null),[b,w]=q.useState(!1),[x,P]=q.useState(null),z=()=>typeof window<"u"&&window.innerWidth<=768,V=PC.getInstance(gn.firebaseConfig,gn.businessId),{menu:L,loading:H,error:ee}=o1(V),se=wp,he=O=>{P(O)},U=x&&L?L.filter(O=>O.name.toLowerCase()===x.toLowerCase()):L,F=Array.isArray(L)?L.map(O=>({id:O.id||O.name,name:O.name})):[];return y.jsxs("section",{id:"menu",className:"menu-section store-catalog",ref:g,children:[y.jsxs("div",{className:"container",children:[y.jsx("div",{className:"menu-header",style:{justifyContent:"center"},children:y.jsxs("h2",{className:"section-title",ref:p,style:{textAlign:"center",width:"100%"},children:[y.jsx(Pl,{})," ",se.menuNameCapitalized]})}),z()?y.jsx(_6,{categories:F,selected:x,onSelect:he}):y.jsx(v6,{menu:L,onCategorySelect:he,selectedCategory:x}),x&&y.jsxs("div",{className:"category-filter-status",children:[y.jsxs("span",{className:"filter-text",children:["Mostrando: ",y.jsx("strong",{children:x})]}),y.jsx("button",{className:"clear-filter-btn",onClick:()=>P(null),children:"Ver todas las categoras"})]}),y.jsx(Rx,{menu:U,loading:H,error:ee,onAddToCart:e,showImages:!0,showPrices:!0,showDescription:!0,terminology:se,businessId:gn.businessId,enableRealTimeStock:!0,db:V==null?void 0:V.db})]}),b&&y.jsx("div",{className:"cart-overlay",onClick:O=>O.target.classList.contains("cart-overlay")&&w(!1),children:y.jsx(dE,{cart:i,updateQuantity:n,removeFromCart:a,clearCart:o,total:u,onClose:()=>w(!1),firebaseManager:m})})]})},F6=()=>{const i=q.useRef(null),e=q.useRef(null),n=q.useRef(null),a=q.useRef(null);return y.jsx("section",{ref:i,className:"location section",id:"location",children:y.jsxs("div",{className:"container",children:[y.jsx("h2",{ref:e,className:"section-title",children:"Encontranos:"}),y.jsxs("div",{className:"location-content",children:[y.jsxs("div",{ref:n,className:"location-info",children:[y.jsxs("div",{className:"info-item",children:[y.jsx(Mm,{className:"info-icon"}),y.jsxs("div",{children:[y.jsx("h3",{children:"Direccin"}),y.jsxs("p",{children:["Av San Martn 109 ",y.jsx("br",{}),"Coln, Entre Ros"]})]})]}),y.jsxs("div",{className:"info-item",children:[y.jsx(xT,{className:"info-icon"}),y.jsxs("div",{children:[y.jsx("h3",{children:"Horarios"}),y.jsxs("p",{children:["Lunes a domingo",y.jsx("br",{}),"11:00 AM - 11:00 PM"]})]})]}),y.jsxs("div",{className:"info-item",children:[y.jsx(MT,{className:"info-icon"}),y.jsxs("div",{children:[y.jsx("h3",{children:"Contacto"}),y.jsx("p",{children:"+54 11 1123-4567"})]})]}),y.jsxs("div",{className:"info-item",children:[y.jsx(J0,{className:"info-icon"}),y.jsxs("div",{children:[y.jsx("h3",{children:"Sguenos"}),y.jsx("p",{children:"@anthonyburger"})]})]})]}),y.jsx("div",{ref:a,className:"location-map",style:{width:"100%",height:"100%"},children:y.jsx("iframe",{title:"Ubicacin en Google Maps",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3375.4704645702486!2d-58.1388507242165!3d-32.21849663548505!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95ae3357a3ef369f%3A0x4b8382a1cb3c10c2!2sAnthony%20burger!5e0!3m2!1ses!2sar!4v1751610683499!5m2!1ses!2sar",width:"100%",height:"400",style:{border:0,width:"100%",height:400},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})})},G6=()=>{const i=q.useRef(null),e=q.useRef(null),n=q.useRef(null),[a,o]=q.useState({name:"",email:"",phone:"",message:""}),u=m=>{o({...a,[m.target.name]:m.target.value})},d=m=>{m.preventDefault();let g=`Hola! Me gustara hacer una consulta:

`;g+=` *Nombre:* ${a.name}
`,g+=` *Telfono:* ${a.phone}
`,g+=` *Email:* ${a.email}

`,a.message.trim()&&(g+=` *Mensaje:*
${a.message}

`),g+="Gracias!";const p="5493492648488",b=encodeURIComponent(g),w=`https://wa.me/${p}?text=${b}`;window.open(w,"_blank"),console.log("Form data:",a),console.log("WhatsApp message:",g)};return y.jsx("section",{ref:i,className:"contact section",id:"contact",children:y.jsxs("div",{className:"container",children:[y.jsx("h2",{ref:e,className:"section-title",children:"Contctanos"}),y.jsxs("div",{className:"contact-content",children:[y.jsxs("div",{className:"contact-info",children:[y.jsx("h3",{children:"Tienes alguna consulta?"}),y.jsx("p",{children:"Completa el formulario y te responderemos por WhatsApp."})]}),y.jsxs("form",{ref:n,className:"contact-form",onSubmit:d,children:[y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"text",name:"name",placeholder:"Nombre completo",value:a.name,onChange:u,required:!0})}),y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"tel",name:"phone",placeholder:"Telfono",value:a.phone,onChange:u,required:!0})}),y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"email",name:"email",placeholder:"Email",value:a.email,onChange:u,required:!0})}),y.jsx("div",{className:"form-group",children:y.jsx("textarea",{name:"message",placeholder:"Tu mensaje",rows:"4",value:a.message,onChange:u,required:!0})}),y.jsxs("button",{type:"submit",className:"btn-whatsapp",children:[y.jsx(e1,{className:"whatsapp-icon"}),"Enviar por WhatsApp"]})]})]})]})})},Q6=({value:i,onChange:e,placeholder:n="Buscar productos..."})=>y.jsxs("div",{className:"search-bar-container",children:[y.jsx("input",{type:"text",className:"search-bar-input",value:i,onChange:a=>e(a.target.value),placeholder:n,"aria-label":"Buscar"}),y.jsx(jT,{className:"search-bar-icon"})]}),hE=q.createContext(),Cp=()=>{const i=q.useContext(hE);if(!i)throw new Error("useMenu must be used within a MenuProvider");return i},$6=({children:i})=>{const[e,n]=q.useState([]),[a,o]=q.useState(null),[u,d]=q.useState(!0),[m,g]=q.useState(null),[p,b]=q.useState(!1),[w,x]=q.useState(null);q.useEffect(()=>{(async()=>{try{d(!0),g(null),console.log(" Initializing Firebase connection...");const se=Rp(gn.firebaseConfig,gn.businessId);x(se);let he=null;try{he=await se.getRestaurantInfo(),o(he),console.log(" Business info loaded successfully")}catch(F){console.warn(" Business info not found, but continuing with menu data:",F.message),o({businessId:gn.businessId,name:"Mi Negocio",businessType:"restaurant",isActive:!0})}b(!0),console.log(" Firebase connected successfully");const U=await se.getFullMenu();n(U),console.log(" Menu data loaded:",U.length,"categories")}catch(se){console.error(" Firebase connection failed:",se),g(se.message),b(!1)}finally{d(!1)}})()},[]);const P=async()=>{if(w)try{d(!0);const ee=await w.getFullMenu();n(ee),g(null)}catch(ee){g(ee.message)}finally{d(!1)}},z=async ee=>{if(!w)throw new Error("Firebase SDK not initialized");if(!p)throw new Error("No connection to Firebase");try{console.log(" Creating order with data:",ee);const se=await w.createOrder(ee);return console.log(" Order created successfully:",se),se}catch(se){throw console.error(" Error creating order:",se),new Error(`Failed to create order: ${se.message}`)}},V=async(ee,se,he=null)=>{if(!w)throw new Error("Firebase SDK not initialized");if(!p)throw new Error("No connection to Firebase");try{await w.updateOrderStatus(ee,se,he)}catch(U){throw console.error(" Error updating order status:",U),new Error(`Failed to update order status: ${U.message}`)}},L=async ee=>{if(!w)throw new Error("Firebase SDK not initialized");if(!p)throw new Error("No connection to Firebase");try{return await w.getOrder(ee)}catch(se){throw console.error(" Error getting order:",se),new Error(`Failed to get order: ${se.message}`)}},H={menu:e,restaurantInfo:a,isLoading:u,error:m,isConnected:p,refetchMenu:P,sdk:w,firebaseManager:w==null?void 0:w.firebaseManager,createOrder:z,updateOrderStatus:V,getOrder:L};return y.jsx(hE.Provider,{value:H,children:i})},K6=i=>Array.isArray(i)?i.flatMap(e=>(e.items||[]).map(n=>({...n,category:e.name}))):[],Y6=i=>Array.isArray(i)?i.map(e=>({id:e.id||e.name,name:e.name,type:"category"})):[],N0=()=>{var z;const i=Cm(),{menu:e}=l1(gn);let n=null;try{n=(z=Cp())==null?void 0:z.setSelectedCategory}catch{}const[a,o]=q.useState(""),[u,d]=q.useState(!1),m=q.useRef(),g=q.useRef(),p=q.useMemo(()=>K6(e),[e]),b=q.useMemo(()=>Y6(e),[e]),{categoryResults:w,productResults:x}=q.useMemo(()=>{if(!a.trim())return{categoryResults:[],productResults:[]};const V=a.toLowerCase(),L=a.length>=3?b.filter(ee=>ee.name&&ee.name.toLowerCase().includes(V)).slice(0,3):[],H=p.filter(ee=>ee.name&&ee.name.toLowerCase().includes(V)||ee.description&&ee.description.toLowerCase().includes(V)).slice(0,8);return{categoryResults:L,productResults:H}},[a,p,b]);q.useEffect(()=>{d(!!a)},[a]),q.useEffect(()=>{const V=L=>{m.current&&!m.current.contains(L.target)&&g.current&&!g.current.contains(L.target)&&d(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const P=V=>{if(o(""),d(!1),V.type==="category"){const L=document.getElementById("menu");if(L){const H=L.querySelector(".clear-filter-btn");H&&H.click()}setTimeout(()=>{const H=document.getElementById(`category-${V.id}`);if(H)H.scrollIntoView({behavior:"smooth",block:"start"});else{const ee=document.getElementById("menu");ee&&ee.scrollIntoView({behavior:"smooth"})}},200)}else i(`/producto/${V.id}`)};return y.jsxs("div",{className:"product-search-container",style:{minWidth:0,width:"100%"},children:[y.jsx("div",{ref:m,style:{width:"100%"},children:y.jsx(Q6,{value:a,onChange:o,placeholder:"Buscar productos o categoras..."})}),y.jsx("div",{style:{position:"relative",width:"100%"},children:u&&a&&y.jsxs("div",{ref:g,children:[w.length>0&&y.jsx("ul",{className:"search-results-list",children:w.map(V=>y.jsxs("li",{className:"search-result-item search-result-category",onClick:()=>P(V),children:[y.jsx("span",{className:"result-name",children:V.name}),y.jsx("span",{className:"result-category-label",children:"Categora"})]},V.id))}),x.length>0&&y.jsx("ul",{className:"search-results-list",children:x.map(V=>y.jsxs("li",{className:"search-result-item",onClick:()=>P(V),children:[y.jsx("span",{className:"result-name",children:V.name}),V.category&&y.jsxs("span",{className:"result-category",children:["(",V.category,")"]})]},V.id))}),w.length===0&&x.length===0&&y.jsx("div",{className:"no-results",children:"No se encontraron resultados."})]})})]})},X6=({onCartClick:i,itemCount:e,hideMainNavLinks:n,hideNavLinks:a})=>{const[o,u]=q.useState("home"),[d,m]=q.useState(!1),[g,p]=q.useState(!1),[b,w]=q.useState(!1);q.useEffect(()=>{const P=()=>{p(window.innerWidth>1024)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),q.useEffect(()=>{const P=()=>{const z=window.innerHeight,V=window.scrollY;m(V>z*.8||g);const H=["home","menu","location","contact"].find(ee=>{const se=document.getElementById(ee);if(se){const he=se.getBoundingClientRect();return he.top<=window.innerHeight/2&&he.bottom>=window.innerHeight/2}return!1});H&&u(H)};return window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)},[g]);const x=[{id:"home",icon:OT,label:"Inicio"},{id:"menu",icon:t1,label:"Men"},{id:"location",icon:Mm,label:"Ubicacin"},{id:"contact",icon:r1,label:"Contacto"}];return y.jsxs("nav",{className:"navbar-modern",children:[y.jsxs("div",{className:"navbar-modern-container",children:[y.jsx(sn,{to:"/",className:"navbar-modern-logo",children:y.jsx("img",{src:X0,alt:"Anthony Burger",className:"navbar-modern-logo-img"})}),y.jsx("div",{className:"navbar-modern-menu",children:!n&&!a&&x.map(({id:P,icon:z,label:V})=>y.jsxs("a",{href:`#${P}`,className:"navbar-modern-link",onClick:L=>{L.preventDefault();const H=document.getElementById(P);H&&H.scrollIntoView({behavior:"smooth"})},children:[y.jsx(z,{className:"navbar-modern-link-icon"})," ",V]},P))}),y.jsxs("div",{className:"navbar-modern-actions",children:[y.jsx("div",{className:"navbar-modern-search-desktop",children:y.jsx(N0,{})}),y.jsxs("a",{href:"#",className:"navbar-modern-cart",onClick:i,children:[y.jsx(PT,{className:"navbar-modern-cart-icon"})," Carrito",e>0&&y.jsx("span",{className:"navbar-modern-cart-badge",children:e})]}),y.jsx("button",{className:"navbar-modern-mobile-btn",onClick:()=>w(P=>!P),children:y.jsx(AT,{className:"navbar-modern-mobile-icon"})})]})]}),b&&y.jsxs("div",{className:"navbar-modern-mobile-menu",children:[y.jsx("div",{className:"navbar-modern-search-mobile",children:y.jsx(N0,{})}),y.jsx("div",{className:"navbar-modern-mobile-links",children:!n&&!a&&x.map(({id:P,icon:z,label:V})=>y.jsxs("a",{href:`#${P}`,className:"navbar-modern-link",onClick:L=>{L.preventDefault();const H=document.getElementById(P);H&&H.scrollIntoView({behavior:"smooth"}),w(!1)},children:[y.jsx(z,{className:"navbar-modern-link-icon"})," ",V]},P))})]})]})},W6=()=>{const{isConnected:i,isLoading:e,error:n}=Cp();return e?y.jsxs("div",{style:{position:"fixed",top:10,right:10,background:"#f39c12",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",zIndex:1e3},children:[y.jsx(VT,{style:{marginRight:6}})," Conectando a Firebase..."]}):n?y.jsxs("div",{style:{position:"fixed",top:10,right:10,background:"#e74c3c",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",zIndex:1e3},children:[y.jsx(a1,{style:{marginRight:6}})," Error: ",n]}):i?y.jsxs("div",{style:{position:"fixed",top:10,right:10,background:"#27ae60",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",zIndex:1e3},children:[y.jsx(n1,{style:{marginRight:6}})," Conectado a Firebase"]}):null},Z6=()=>{document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden",document.querySelectorAll("*").forEach(e=>{const n=window.getComputedStyle(e);(n.position==="absolute"||n.position==="fixed")&&(e.style.maxWidth="100vw")})},I0=()=>{/iPad|iPhone|iPod/.test(navigator.userAgent)&&document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], textarea').forEach(e=>{e.addEventListener("focus",()=>{e.style.fontSize="16px"})}),Z6(),document.body.style.touchAction="pan-y"};function J6(){const{isConnected:i,error:e}=Cp(),[n,a]=q.useState(!1),{cart:o,addToCart:u,updateQuantity:d,removeFromCart:m,clearCart:g,total:p,itemCount:b,firebaseManager:w,cartTotal:x,cartCount:P}=l1(gn,{enabled:!0}),z=p||x||0,V=b||P||0,L=()=>{a(!0)};return q.useEffect(()=>{I0();const H=()=>{I0()};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),y.jsxs("div",{className:"App",children:[y.jsx(W6,{}),e&&y.jsxs("div",{style:{background:"#ffebee",color:"#c62828",padding:"1rem",margin:"1rem",borderRadius:"4px",textAlign:"center"},children:["Error de conexin: ",e]}),y.jsx(bT,{}),y.jsx(H6,{cart:o,addToCart:u,updateQuantity:d,removeFromCart:m,clearCart:g,total:z,itemCount:V,firebaseManager:w}),y.jsx(F6,{}),y.jsx(G6,{}),y.jsx(qT,{}),y.jsx(X6,{onCartClick:L,itemCount:V}),n&&y.jsx("div",{className:"cart-overlay",onClick:H=>H.target.classList.contains("cart-overlay")&&a(!1),children:y.jsx(dE,{cart:o,updateQuantity:d,removeFromCart:m,clearCart:g,total:z,onClose:()=>a(!1),firebaseManager:w})})]})}const eO=()=>{var w;const[i]=ro(),[e,n]=q.useState(null),[a,o]=q.useState(!0),[u,d]=q.useState(null),m=i.get("order")||i.get("external_reference"),g=i.get("payment_id"),p=i.get("status"),b=i.get("collection_status");return q.useEffect(()=>{(async()=>{if(console.log(" PaymentSuccess: Starting with params:",{orderId:m,paymentId:g,status:p,collectionStatus:b,allSearchParams:Object.fromEntries(i.entries()),currentURL:window.location.href,currentPath:window.location.pathname,shouldBeOnSuccessPage:" IF YOU SEE THIS, PAYMENT WAS SUPPOSED TO SUCCEED"}),!m){console.error(" PaymentSuccess: No orderId found in URL params"),console.log("Available search params:",Object.fromEntries(i.entries())),d("No se encontr el ID del pedido"),o(!1);return}console.log(" PaymentSuccess: Processing approved payment"),console.log("Payment verification passed - staying on success page");try{console.log(" Processing successful payment for order:",m),console.log(" Payment details:",{paymentId:g,status:p,collectionStatus:b}),await It.initializeForPayment();const P=It.getDatabase(),z=pn(P,"orders",m),V=await Xn(z);if(V.exists()){const L={id:V.id,...V.data()};console.log(" Order data found:",L),n(L),L.paymentStatus!=="paid"?(console.log(" Updating order payment status to paid"),await bf(z,{paymentStatus:"paid",status:"confirmed",paymentId:g,updatedAt:Js(),mercadopagoData:{payment_id:g,status:p,collection_status:b,processed_at:Js()}}),n(H=>({...H,paymentStatus:"paid",status:"confirmed",paymentId:g}))):console.log(" Order already marked as paid")}else console.error(" PaymentSuccess: Order not found in Firestore:",m),d("Pedido no encontrado en la base de datos")}catch(P){console.error(" Error loading/updating order:",P),d("Error al procesar el pedido")}finally{o(!1)}})()},[m,g,p,b]),a?y.jsx("div",{className:"payment-result",children:y.jsxs("div",{className:"loading",children:[y.jsx("h2",{children:" Procesando Pago Exitoso"}),y.jsx("p",{children:"Verificando el estado de tu pedido..."}),y.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"0.9rem",fontFamily:"monospace"},children:[y.jsx("div",{children:y.jsx("strong",{children:"Debug Info:"})}),y.jsxs("div",{children:["URL: ",window.location.href]}),y.jsxs("div",{children:["Order ID: ",m||"NOT FOUND"]}),y.jsxs("div",{children:["Payment ID: ",g||"NOT FOUND"]}),y.jsxs("div",{children:["Status: ",p||"NOT FOUND"]}),y.jsxs("div",{children:["Collection Status: ",b||"NOT FOUND"]})]})]})}):u?y.jsx("div",{className:"payment-result",children:y.jsxs("div",{className:"error",children:[y.jsx("h2",{children:" Error"}),y.jsx("p",{children:u}),y.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"0.9rem",fontFamily:"monospace"},children:[y.jsx("div",{children:y.jsx("strong",{children:"Debug Info:"})}),y.jsxs("div",{children:["URL: ",window.location.href]}),y.jsxs("div",{children:["Order ID: ",m||"NOT FOUND"]}),y.jsxs("div",{children:["Payment ID: ",g||"NOT FOUND"]}),y.jsxs("div",{children:["Status: ",p||"NOT FOUND"]}),y.jsxs("div",{children:["Collection Status: ",b||"NOT FOUND"]})]}),y.jsx(sn,{to:"/",className:"btn",children:"Volver al inicio"})]})}):y.jsx("div",{className:"payment-result payment-success",children:y.jsxs("div",{className:"success-content",children:[y.jsx("div",{className:"success-icon",children:""}),y.jsx("h1",{children:"Pago Exitoso!"}),y.jsx("p",{children:"Tu pago ha sido procesado correctamente"}),e&&y.jsxs("div",{className:"order-details",children:[y.jsx("h3",{children:"Detalles del Pedido"}),y.jsxs("div",{className:"order-info",children:[y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Nmero de pedido:"}),y.jsx("span",{children:e.id})]}),y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Total pagado:"}),y.jsxs("span",{children:["$",(w=e.total)==null?void 0:w.toFixed(2)," ARS"]})]}),y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Estado del pago:"}),y.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:" Pagado"})]}),y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Estado del pedido:"}),y.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:" Confirmado"})]}),g&&y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"ID de pago:"}),y.jsx("span",{children:g})]})]}),e.items&&e.items.length>0&&y.jsxs("div",{className:"order-items",children:[y.jsx("h4",{children:"Items del pedido:"}),e.items.map((x,P)=>y.jsxs("div",{className:"order-info-item",children:[y.jsxs("span",{children:[x.name," x",x.quantity]}),y.jsxs("span",{children:["$",((x.unit_price||x.price)*x.quantity).toFixed(2)]})]},P))]}),e.customer&&y.jsxs("div",{className:"customer-info",children:[y.jsx("h4",{children:"Informacin de contacto:"}),y.jsxs("p",{children:[y.jsx("strong",{children:"Nombre:"})," ",e.customer.name]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Telfono:"})," ",e.customer.phone]}),e.customer.email&&y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",e.customer.email]}),e.customer.address&&y.jsxs("p",{children:[y.jsx("strong",{children:"Direccin:"})," ",e.customer.address]})]})]}),y.jsxs("div",{className:"next-steps",children:[y.jsx("h3",{children:"Qu sigue?"}),y.jsx("p",{children:" Te contactaremos por WhatsApp para coordinar la entrega"}),y.jsx("p",{children:" Recibirs una confirmacin por email"}),y.jsx("p",{children:" Prepararemos tu pedido lo antes posible"})]}),y.jsxs("div",{className:"action-buttons",children:[y.jsx(sn,{to:"/",className:"btn btn-primary",children:"Volver al men"}),m&&y.jsx(sn,{to:`/estado-pedido?orderId=${m}`,className:"btn btn-secondary",children:"Ver estado del pedido"})]})]})})},tO=()=>{var w;const[i]=ro(),[e,n]=q.useState(null),[a,o]=q.useState(!0),[u,d]=q.useState(null),m=i.get("order")||i.get("external_reference"),g=i.get("payment_id"),p=i.get("status"),b=i.get("collection_status");return q.useEffect(()=>{(async()=>{if(console.log(" PaymentPending: Starting with params:",{orderId:m,paymentId:g,status:p,collectionStatus:b,allSearchParams:Object.fromEntries(i.entries())}),!m){console.error(" PaymentPending: No orderId found"),d("No se encontr el ID del pedido"),o(!1);return}if(p==="approved"||b==="approved"){console.warn(" PaymentPending: Payment approved, redirecting to success page"),alert("Tu pago fue aprobado! Te redirigiremos a la pgina de confirmacin."),window.location.href=`/restaurant_template/payment/success?order=${m}&payment_id=${g}&status=${p}&collection_status=${b}`;return}if(p==="rejected"||p==="cancelled"||b==="rejected"||b==="cancelled"){console.warn(" PaymentPending: Payment failed, redirecting to failure page"),window.location.href=`/restaurant_template/payment/failure?order=${m}&payment_id=${g}&status=${p}&collection_status=${b}`;return}try{await It.initializeForPayment();const P=It.getDatabase(),z=pn(P,"orders",m),V=await Xn(z);if(V.exists()){const L=V.data();if(L.paymentStatus==="paid"||L.status==="confirmed"){console.warn(" Payment was actually successful according to Firebase, redirecting..."),alert("Tu pago fue procesado exitosamente! Te redirigiremos a la pgina correcta."),window.location.href=`/restaurant_template/payment/success?order=${m}&payment_id=${g}`;return}if(L.paymentStatus==="failed"||L.status==="payment_failed"){console.warn(" Payment failed according to Firebase, redirecting..."),window.location.href=`/restaurant_template/payment/failure?order=${m}&payment_id=${g}`;return}}}catch(P){console.warn(" Could not verify payment status from Firebase:",P)}try{console.log("[Pending] Processing pending payment for order:",m),console.log(" Payment details:",{paymentId:g,status:p,collectionStatus:b}),await It.initializeForPayment();const P=It.getDatabase(),z=pn(P,"orders",m),V=await Xn(z);if(V.exists()){const L={id:V.id,...V.data()};console.log(" Order data found:",L),n(L),g&&L.paymentId!==g?(console.log(" Updating order with pending payment info"),await bf(z,{paymentStatus:"pending",paymentId:g,updatedAt:Js(),mercadopagoData:{payment_id:g,status:p,collection_status:b,processed_at:Js()}}),n(H=>({...H,paymentStatus:"pending",paymentId:g}))):console.log(" No update needed for pending payment")}else console.error(" PaymentPending: Order not found in Firestore:",m),d("Pedido no encontrado")}catch(P){console.error(" Error loading/updating order:",P),d("Error al procesar el pedido")}finally{o(!1)}})()},[m,g,p,b]),a?y.jsx("div",{className:"payment-result",children:y.jsx("div",{className:"loading",children:"Cargando..."})}):u?y.jsx("div",{className:"payment-result",children:y.jsxs("div",{className:"error",children:[y.jsx("h2",{children:" Error"}),y.jsx("p",{children:u}),y.jsx(sn,{to:"/",className:"btn",children:"Volver al inicio"})]})}):y.jsx("div",{className:"payment-result payment-pending",children:y.jsxs("div",{className:"pending-content",children:[y.jsx("div",{className:"pending-icon",children:""}),y.jsx("h1",{children:"Pago Pendiente"}),y.jsx("p",{children:"Tu pago est siendo procesado"}),e&&y.jsxs("div",{className:"order-details",children:[y.jsx("h3",{children:"Detalles del Pedido"}),y.jsxs("div",{className:"order-info",children:[y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Nmero de pedido:"}),y.jsx("span",{children:e.id})]}),y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{children:["$",(w=e.total)==null?void 0:w.toFixed(2)," ARS"]})]}),y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Estado del pago:"}),y.jsx("span",{style:{color:"#ffc107",fontWeight:"bold"},children:" Pendiente"})]}),g&&y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"ID de pago:"}),y.jsx("span",{children:g})]})]})]}),y.jsxs("div",{className:"next-steps",children:[y.jsx("h3",{children:"Qu hacer ahora?"}),y.jsx("p",{children:" Tu pago est siendo verificado"}),y.jsx("p",{children:" Recibirs una notificacin cuando se confirme"}),y.jsx("p",{children:" Puedes contactarnos si tienes dudas"})]}),y.jsxs("div",{className:"action-buttons",children:[y.jsx(sn,{to:"/",className:"btn btn-primary",children:"Volver al men"}),y.jsx(sn,{to:`/estado-pedido?orderId=${m}`,className:"btn btn-secondary",children:"Ver estado del pedido"})]})]})})},nO=({onClose:i})=>{const[e,n]=q.useState(!1);return q.useEffect(()=>{const a=setTimeout(()=>n(!0),500);return()=>clearTimeout(a)},[]),e?y.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"1rem",maxWidth:"400px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:1e3,animation:"slideIn 0.3s ease-out"},children:y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[y.jsxs("div",{children:[y.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#856404"},children:" Problema con el pago?"}),y.jsxs("p",{style:{margin:"0",fontSize:"0.9rem",color:"#856404"},children:["Si ves esta pgina de error pero tu pago fue exitoso, ",y.jsx("strong",{children:"no te preocupes"}),". Tu pedido fue procesado correctamente. Contactanos para confirmar."]}),y.jsx("div",{style:{marginTop:"0.5rem"},children:y.jsx("a",{href:"https://wa.me/1234567890",target:"_blank",rel:"noopener noreferrer",style:{background:"#25d366",color:"white",textDecoration:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem",display:"inline-block"},children:" WhatsApp"})})]}),y.jsx("button",{onClick:i,style:{background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",color:"#856404"},children:""})]})}):null},rO=()=>{var P;const[i]=ro(),[e,n]=q.useState(null),[a,o]=q.useState(!0),[u,d]=q.useState(null),[m,g]=q.useState(!0),p=i.get("order")||i.get("external_reference"),b=i.get("payment_id"),w=i.get("status"),x=i.get("collection_status");return q.useEffect(()=>{(async()=>{if(console.log(" PaymentFailure: Starting with params:",{orderId:p,paymentId:b,status:w,collectionStatus:x,allSearchParams:Object.fromEntries(i.entries()),currentURL:window.location.href,currentPath:window.location.pathname,shouldBeOnFailurePage:" IF YOU SEE THIS, PAYMENT WAS SUPPOSED TO FAIL"}),w==="approved"||x==="approved"){console.error(" ROUTING ERROR: Successful payment redirected to failure page!"),console.log("This should NOT happen. Payment details:",{status:w,collectionStatus:x}),console.log("Redirecting to correct success page..."),alert("Tu pago fue exitoso! Te redirigiremos a la pgina correcta."),window.location.href=`/restaurant_template/payment/success?order=${p}&payment_id=${b}&status=${w}&collection_status=${x}`;return}try{await It.initializeForPayment();const V=It.getDatabase(),L=pn(V,"orders",p),H=await Xn(L);if(H.exists()){const ee=H.data();if(ee.paymentStatus==="paid"||ee.status==="confirmed"){console.warn(" Payment was actually successful according to Firebase, redirecting..."),alert("Tu pago fue procesado exitosamente! Te redirigiremos a la pgina correcta."),window.location.href=`/restaurant_template/payment/success?order=${p}&payment_id=${b}`;return}}}catch(V){console.warn(" Could not verify payment status from Firebase:",V)}if(!p){console.error(" PaymentFailure: No orderId found in URL params"),console.log("Available search params:",Object.fromEntries(i.entries())),d("No se encontr el ID del pedido"),o(!1);return}console.log(" PaymentFailure: Processing failed payment"),console.log("Payment verification passed - staying on failure page");try{console.log(" Processing failed payment for order:",p),console.log(" Payment details:",{paymentId:b,status:w,collectionStatus:x}),await It.initializeForPayment();const V=It.getDatabase(),L=pn(V,"orders",p),H=await Xn(L);if(H.exists()){const ee={id:H.id,...H.data()};console.log(" Order data found:",ee),n(ee),ee.paymentStatus!=="failed"?(console.log(" Updating order payment status to failed"),await bf(L,{paymentStatus:"failed",status:"payment_failed",paymentId:b,updatedAt:Js(),mercadopagoData:{payment_id:b,status:w,collection_status:x,processed_at:Js()}}),n(se=>({...se,paymentStatus:"failed",status:"payment_failed",paymentId:b}))):console.log(" Order already marked as failed")}else console.error(" PaymentFailure: Order not found in Firestore:",p),d("Pedido no encontrado")}catch(V){console.error(" Error loading/updating order:",V),d("Error al procesar el pedido")}finally{o(!1)}})()},[p,b,w,x]),a?y.jsx("div",{className:"payment-result",children:y.jsxs("div",{className:"loading",children:[y.jsx("h2",{children:"Cargando resultado del pago..."}),y.jsx("p",{children:"Verificando el estado de tu pedido..."}),y.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"0.9rem",fontFamily:"monospace"},children:[y.jsx("strong",{children:"Debug Info:"}),y.jsx("br",{}),"URL: ",window.location.href,y.jsx("br",{}),"Order ID: ",p||"NOT FOUND",y.jsx("br",{}),"Status: ",w||"NOT FOUND",y.jsx("br",{}),"Collection Status: ",x||"NOT FOUND",y.jsx("br",{}),"Payment ID: ",b||"NOT FOUND"]})]})}):u?y.jsx("div",{className:"payment-result",children:y.jsxs("div",{className:"error",children:[y.jsx("h2",{children:" Error"}),y.jsx("p",{children:u}),y.jsx(sn,{to:"/",className:"btn",children:"Volver al inicio"})]})}):y.jsxs("div",{className:"payment-result payment-failure",children:[m&&y.jsx(nO,{onClose:()=>g(!1)}),y.jsxs("div",{className:"failure-content",children:[y.jsx("div",{className:"failure-icon",children:""}),y.jsx("h1",{children:"Pago No Completado"}),y.jsx("p",{children:"Hubo un problema al procesar tu pago"}),e&&y.jsxs("div",{className:"order-details",children:[y.jsx("h3",{children:"Detalles del Pedido"}),y.jsxs("div",{className:"order-info",children:[y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Nmero de pedido:"}),y.jsx("span",{children:e.id})]}),y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{children:["$",(P=e.total)==null?void 0:P.toFixed(2)," ARS"]})]}),y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"Estado del pago:"}),y.jsx("span",{style:{color:"#dc3545",fontWeight:"bold"},children:" Fall"})]}),b&&y.jsxs("div",{className:"order-info-item",children:[y.jsx("span",{children:"ID de pago:"}),y.jsx("span",{children:b})]})]})]}),y.jsxs("div",{className:"next-steps",children:[y.jsx("h3",{children:"Qu puedes hacer?"}),y.jsxs("div",{style:{background:"#d1ecf1",border:"1px solid #bee5eb",borderRadius:"6px",padding:"1rem",marginBottom:"1rem",color:"#0c5460"},children:[y.jsx("strong",{children:" IMPORTANTE:"})," Si realizaste el pago y recibes esta pgina de error, tu pago ",y.jsx("strong",{children:"S fue procesado correctamente"}),". Esta es una pgina de error falsa debido a un problema de redireccin. Tu pedido est confirmado y lo prepararemos."]}),y.jsx("p",{children:" Intentar el pago nuevamente solo si ests seguro de que fall"}),y.jsx("p",{children:" Verificar los datos de tu tarjeta"}),y.jsx("p",{children:" Contactarnos para confirmar tu pedido"}),y.jsx("p",{children:" Pagar en efectivo al retirar"})]}),y.jsxs("div",{className:"action-buttons",children:[y.jsx(sn,{to:"/",className:"btn btn-primary",children:"Volver al men"}),y.jsx(sn,{to:"/",className:"btn btn-warning",children:"Intentar nuevamente"}),y.jsx(sn,{to:`/estado-pedido?orderId=${p}`,className:"btn btn-secondary",children:"Ver estado del pedido"})]})]})]})},D0=()=>{const[i]=ro(),[e,n]=q.useState(null),[a,o]=q.useState(!0),[u,d]=q.useState(null),[m,g]=q.useState(null),[p,b]=q.useState(!1),w=q.useRef(null),x=i.get("orderId")||i.get("order");q.useEffect(()=>{if(!x){d("No se proporcion ID de pedido"),o(!1),b(!1);return}o(!0),d(null),n(null),b(!1);let L=!1;return(async()=>{try{console.log(" Initializing Firebase for OrderStatus listener..."),await It.initializeForPayment(),L=!0;const ee=It.getDatabase();console.log(" Setting up Firestore listener for order:",x);const se=pn(ee,"orders",x);w.current&&(console.log(" Unsubscribing previous listener."),w.current()),w.current=qb(se,he=>{if(he.exists()){const U={id:he.id,...he.data()};console.log(" Real-time update for order:",U),n(U),d(null),g(new Date),b(!0)}else console.error(" Order not found with listener:",x),d("Pedido no encontrado"),n(null),b(!1);o(!1)},he=>{console.error(" Firestore listener error:",he),d("Error al escuchar cambios del pedido: "+he.message),o(!1),b(!1)})}catch(ee){console.error(" Error setting up Firestore listener:",ee),d("Error al inicializar la escucha de pedidos: "+ee.message),o(!1),b(!1)}})(),()=>{console.log(" Cleaning up OrderStatus listener for order:",x),w.current&&(console.log(" Unsubscribing listener."),w.current(),w.current=null),L&&(console.log(" Releasing Firebase manager from OrderStatus."),It.release())}},[x]);const P=(L,H)=>H==="paid"||L==="confirmed"?y.jsx(n1,{className:"status-icon",color:"#28a745"}):H==="pending"||L==="pending"?y.jsx(i1,{className:"status-icon",color:"#ffc107"}):H==="failed"||L==="payment_failed"?y.jsx(a1,{className:"status-icon",color:"#dc3545"}):y.jsx(RT,{className:"status-icon",color:"#6c757d"}),z=(L,H)=>H==="paid"||L==="confirmed"?"Confirmado":H==="pending"||L==="pending"?"Pendiente":H==="failed"||L==="payment_failed"?"Fall":"En proceso",V=(L,H)=>H==="paid"||L==="confirmed"?"#28a745":H==="pending"||L==="pending"?"#ffc107":H==="failed"||L==="payment_failed"?"#dc3545":"#6c757d";return a?y.jsx("div",{className:"order-status-page",children:y.jsx("div",{className:"order-status-container",children:y.jsxs("div",{className:"loading-state",children:[y.jsx("div",{className:"loading-icon",children:""}),y.jsx("h2",{children:"Cargando estado del pedido..."}),y.jsx("p",{children:"Obteniendo informacin de tu pedido en tiempo real..."})]})})}):u?y.jsx("div",{className:"order-status-page",children:y.jsx("div",{className:"order-status-container",children:y.jsxs("div",{className:"error-state",children:[y.jsx("div",{className:"error-icon",children:""}),y.jsx("h2",{children:"Error"}),y.jsx("p",{children:u}),y.jsx("div",{className:"error-actions",children:y.jsx(sn,{to:"/",className:"btn btn-secondary",children:"Volver al men"})})]})})}):e?y.jsx("div",{className:"order-status-page",children:y.jsxs("div",{className:"order-status-container",children:[y.jsxs("div",{className:"order-header",children:[y.jsx("div",{className:"status-icon",children:P(e.status,e.paymentStatus)}),y.jsx("h1",{children:"Estado del Pedido"}),y.jsxs("div",{className:"order-id",children:[y.jsxs("span",{children:["Pedido #",e.id]}),p&&y.jsx("span",{className:"real-time-badge",children:"En tiempo real"})]})]}),y.jsxs("div",{className:"status-card",children:[y.jsxs("div",{className:"status-info",children:[y.jsx("div",{className:"status-badge",style:{backgroundColor:V(e.status,e.paymentStatus)},children:z(e.status,e.paymentStatus)}),y.jsxs("div",{className:"status-details",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Estado del pedido:"})," ",e.status||"No definido"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Estado del pago:"})," ",e.paymentStatus||"No definido"]}),e.paymentMethod&&y.jsxs("p",{children:[y.jsx("strong",{children:"Mtodo de pago:"})," ",e.paymentMethod==="mercadopago"?"MercadoPago":"Efectivo"]})]})]}),y.jsxs("div",{className:"refresh-section",children:[m&&y.jsxs("p",{className:"last-updated",children:["ltima actualizacin: ",m.toLocaleTimeString("es-AR")]}),!p&&!a&&y.jsx("p",{className:"real-time-badge-error",children:"Actualizaciones en tiempo real no activas"})]})]}),e.total&&y.jsxs("div",{className:"order-summary",children:[y.jsx("h3",{children:"Resumen del Pedido"}),y.jsxs("div",{className:"summary-info",children:[y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{className:"total-amount",children:["$",e.total.toFixed(2)," ARS"]})]}),e.createdAt&&y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{children:"Fecha:"}),y.jsx("span",{children:new Date(e.createdAt.seconds*1e3).toLocaleString("es-AR")})]})]})]}),e.items&&e.items.length>0&&y.jsxs("div",{className:"order-items",children:[y.jsx("h3",{children:"Productos"}),y.jsx("div",{className:"items-list",children:e.items.map((L,H)=>y.jsxs("div",{className:"order-item",children:[y.jsxs("div",{className:"item-info",children:[y.jsx("span",{className:"item-name",children:L.name||L.title}),y.jsxs("span",{className:"item-quantity",children:["x",L.quantity]})]}),y.jsxs("div",{className:"item-price",children:["$",((L.unit_price||L.price)*L.quantity).toFixed(2)]})]},H))})]}),e.customer&&y.jsxs("div",{className:"customer-info",children:[y.jsx("h3",{children:"Informacin de Contacto"}),y.jsxs("div",{className:"contact-details",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Nombre:"})," ",e.customer.name]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Telfono:"})," ",e.customer.phone]}),e.customer.email&&y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",e.customer.email]}),e.customer.address&&y.jsxs("p",{children:[y.jsx("strong",{children:"Direccin:"})," ",e.customer.address]})]})]}),e.notes&&y.jsxs("div",{className:"order-notes",children:[y.jsx("h3",{children:"Notas Adicionales"}),y.jsx("p",{children:e.notes})]}),y.jsxs("div",{className:"next-steps",children:[y.jsx("h3",{children:"Qu sigue?"}),e.paymentStatus==="paid"||e.status==="confirmed"?y.jsxs("div",{className:"success-steps",children:[y.jsx("p",{children:" Tu pedido ha sido confirmado"}),y.jsx("p",{children:" Te contactaremos por WhatsApp para coordinar la entrega"}),y.jsx("p",{children:" Estamos preparando tu pedido"}),y.jsxs("p",{children:[y.jsx(s1,{})," Estamos preparando tu pedido"]})]}):e.paymentStatus==="pending"?y.jsxs("div",{className:"pending-steps",children:[y.jsx("p",{children:" Tu pago est siendo procesado"}),y.jsx("p",{children:" Recibirs una confirmacin cuando se apruebe"}),y.jsx("p",{children:" Puedes contactarnos si tienes dudas"})]}):y.jsxs("div",{className:"failed-steps",children:[y.jsx("p",{children:" Hubo un problema con el pago"}),y.jsx("p",{children:" Puedes intentar nuevamente"}),y.jsx("p",{children:" O contactarnos para ayuda"})]})]}),y.jsxs("div",{className:"action-buttons",children:[y.jsx(sn,{to:"/",className:"btn btn-primary",children:"Volver al men"}),(e.paymentStatus==="failed"||e.status==="payment_failed")&&y.jsx(sn,{to:"/",className:"btn btn-warning",children:"Intentar de nuevo"})]})]})}):y.jsx("div",{className:"order-status-page",children:y.jsx("div",{className:"order-status-container",children:y.jsxs("div",{className:"not-found-state",children:[y.jsx("div",{className:"not-found-icon",children:""}),y.jsx("h2",{children:"Pedido no encontrado"}),y.jsxs("p",{children:["Verificando el pedido con ID: ",y.jsx("code",{children:x}),". Si existe, aparecer en breve."]}),y.jsx(sn,{to:"/",className:"btn btn-primary",children:"Volver al men"})]})})})},iO=()=>{const[i]=ro();return q.useEffect(()=>{const e=i.get("collection_id"),n=i.get("collection_status"),a=i.get("payment_id"),o=i.get("status"),u=i.get("external_reference"),d=i.get("payment_type"),m=i.get("merchant_order_id"),g=i.get("preference_id"),p=i.get("site_id"),b=i.get("processing_mode"),w=i.get("merchant_account_id");console.log(" MercadoPago webhook parameters received:",{collection_id:e,collection_status:n,payment_id:a,status:o,external_reference:u,payment_type:d,merchant_order_id:m,preference_id:g,site_id:p,processing_mode:b,merchant_account_id:w}),console.log(" WebhookHandler: Current URL:",window.location.href),console.log(" WebhookHandler: All search params:",Object.fromEntries(i.entries()));const x=u,P="/restaurant_template",z=`&payment_id=${a||"none"}&status=${o||"none"}&collection_status=${n||"none"}&source=webhook`;o==="approved"||n==="approved"?(console.log(" WebhookHandler: Redirecting to SUCCESS page"),window.location.href=`${P}/payment/success?order=${x}${z}`):o==="pending"||n==="pending"?(console.log(" WebhookHandler: Redirecting to PENDING page"),window.location.href=`${P}/payment/pending?order=${x}${z}`):o==="rejected"||o==="cancelled"||n==="rejected"?(console.log(" WebhookHandler: Redirecting to FAILURE page"),window.location.href=`${P}/payment/failure?order=${x}${z}`):(console.log(" WebhookHandler: Unclear status, redirecting to DEBUG page"),window.location.href=`${P}/payment/debug?order=${x}${z}`)},[i]),y.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[y.jsx("div",{style:{fontSize:"2rem"},children:y.jsx(i1,{})}),y.jsx("p",{children:"Procesando resultado del pago..."}),y.jsx("p",{style:{color:"#666",fontSize:"0.9rem"},children:"Sers redirigido automticamente"})]})},aO=()=>{var u,d;const[i]=ro(),[e,n]=q.useState({}),[a,o]=q.useState(null);return q.useEffect(()=>{(async()=>{const g=Object.fromEntries(i.entries()),p=i.get("order")||i.get("external_reference"),b={url:window.location.href,pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,allParams:g,orderId:p,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,referrer:document.referrer};if(n(b),p)try{await It.initialize();const w=It.getDatabase(),x=pn(w,"orders",p),P=await Xn(x);P.exists()&&o({id:P.id,...P.data()})}catch(w){console.error("Error loading order:",w)}})()},[i]),y.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto",fontFamily:"monospace",fontSize:"0.9rem"},children:[y.jsx("h1",{children:" MercadoPago Payment Debug Info"}),y.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"6px",marginBottom:"2rem"},children:[y.jsx("h2",{children:"URL Information"}),y.jsx("pre",{children:JSON.stringify(e,null,2)})]}),a&&y.jsxs("div",{style:{background:"#e8f5e8",padding:"1rem",borderRadius:"6px",marginBottom:"2rem"},children:[y.jsx("h2",{children:"Order Data from Firebase"}),y.jsx("pre",{children:JSON.stringify(a,null,2)})]}),y.jsxs("div",{style:{background:"#fff3cd",padding:"1rem",borderRadius:"6px",marginBottom:"2rem"},children:[y.jsx("h2",{children:"Recommended Action"}),((u=e.allParams)==null?void 0:u.status)==="approved"||((d=e.allParams)==null?void 0:d.collection_status)==="approved"?y.jsxs("p",{style:{color:"#155724"},children:[" ",y.jsx("strong",{children:"Payment appears to be SUCCESSFUL"})," - should redirect to success page"]}):(a==null?void 0:a.paymentStatus)==="paid"?y.jsxs("p",{style:{color:"#155724"},children:[" ",y.jsx("strong",{children:"Payment is SUCCESSFUL in Firebase"})," - should redirect to success page"]}):y.jsx("p",{style:{color:"#721c24"},children:" Payment appears to have failed or is pending"})]}),y.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[y.jsx("button",{onClick:()=>window.location.href="/restaurant_template/payment/success?order="+e.orderId,style:{background:"#28a745",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px"},children:"Go to Success Page"}),y.jsx("button",{onClick:()=>window.location.href="/restaurant_template/payment/failure?order="+e.orderId,style:{background:"#dc3545",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px"},children:"Go to Failure Page"}),y.jsx("button",{onClick:()=>window.location.href="/restaurant_template/",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px"},children:"Go to Menu"})]})]})},sO=()=>y.jsx(cT,{basename:"/shop_template",children:y.jsxs(zS,{children:[y.jsx(ni,{path:"/",element:y.jsx(J6,{})}),y.jsx(ni,{path:"/payment/success",element:y.jsx(eO,{})}),y.jsx(ni,{path:"/payment/pending",element:y.jsx(tO,{})}),y.jsx(ni,{path:"/payment/failure",element:y.jsx(rO,{})}),y.jsx(ni,{path:"/payment/debug",element:y.jsx(aO,{})}),y.jsx(ni,{path:"/webhook/mercadopago",element:y.jsx(iO,{})}),y.jsx(ni,{path:"/estado-pedido",element:y.jsx(D0,{})}),y.jsx(ni,{path:"/order-status",element:y.jsx(D0,{})})]})});K2.createRoot(document.getElementById("root")).render(y.jsx(q.StrictMode,{children:y.jsx($6,{children:y.jsx(sO,{})})}));
