(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function FE(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var o=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return i[a]}})}),n}var Th={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function GE(){if(qv)return gl;qv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:d,ref:o!==void 0?o:null,props:u}}return gl.Fragment=e,gl.jsx=n,gl.jsxs=n,gl}var Fv;function QE(){return Fv||(Fv=1,Th.exports=GE()),Th.exports}var g=QE(),Ah={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function $E(){if(Gv)return ke;Gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,V={};function U(_,j,$){this.props=_,this.context=j,this.refs=V,this.updater=$||D}U.prototype.isReactComponent={},U.prototype.setState=function(_,j){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,j,"setState")},U.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function F(){}F.prototype=U.prototype;function Y(_,j,$){this.props=_,this.context=j,this.refs=V,this.updater=$||D}var ne=Y.prototype=new F;ne.constructor=Y,B(ne,U.prototype),ne.isPureReactComponent=!0;var re=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function N(_,j,$,W,ae,ce){return $=ce.ref,{$$typeof:i,type:_,key:j,ref:$!==void 0?$:null,props:ce}}function O(_,j){return N(_.type,j,void 0,void 0,void 0,_.props)}function R(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function E(_){var j={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function($){return j[$]})}var M=/\/+/g;function L(_,j){return typeof _=="object"&&_!==null&&_.key!=null?E(""+_.key):j.toString(36)}function C(){}function Z(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(C,C):(_.status="pending",_.then(function(j){_.status==="pending"&&(_.status="fulfilled",_.value=j)},function(j){_.status==="pending"&&(_.status="rejected",_.reason=j)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function me(_,j,$,W,ae){var ce=typeof _;(ce==="undefined"||ce==="boolean")&&(_=null);var le=!1;if(_===null)le=!0;else switch(ce){case"bigint":case"string":case"number":le=!0;break;case"object":switch(_.$$typeof){case i:case e:le=!0;break;case b:return le=_._init,me(le(_._payload),j,$,W,ae)}}if(le)return ae=ae(_),le=W===""?"."+L(_,0):W,re(ae)?($="",le!=null&&($=le.replace(M,"$&/")+"/"),me(ae,j,$,"",function(Oe){return Oe})):ae!=null&&(R(ae)&&(ae=O(ae,$+(ae.key==null||_&&_.key===ae.key?"":(""+ae.key).replace(M,"$&/")+"/")+le)),j.push(ae)),1;le=0;var ye=W===""?".":W+":";if(re(_))for(var Se=0;Se<_.length;Se++)W=_[Se],ce=ye+L(W,Se),le+=me(W,j,$,ce,ae);else if(Se=x(_),typeof Se=="function")for(_=Se.call(_),Se=0;!(W=_.next()).done;)W=W.value,ce=ye+L(W,Se++),le+=me(W,j,$,ce,ae);else if(ce==="object"){if(typeof _.then=="function")return me(Z(_),j,$,W,ae);throw j=String(_),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return le}function Q(_,j,$){if(_==null)return _;var W=[],ae=0;return me(_,W,"","",function(ce){return j.call($,ce,ae++)}),W}function w(_){if(_._status===-1){var j=_._result;j=j(),j.then(function($){(_._status===0||_._status===-1)&&(_._status=1,_._result=$)},function($){(_._status===0||_._status===-1)&&(_._status=2,_._result=$)}),_._status===-1&&(_._status=0,_._result=j)}if(_._status===1)return _._result.default;throw _._result}var ge=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function G(){}return ke.Children={map:Q,forEach:function(_,j,$){Q(_,function(){j.apply(this,arguments)},$)},count:function(_){var j=0;return Q(_,function(){j++}),j},toArray:function(_){return Q(_,function(j){return j})||[]},only:function(_){if(!R(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ke.Component=U,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=Y,ke.StrictMode=a,ke.Suspense=y,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ke.__COMPILER_RUNTIME={__proto__:null,c:function(_){return P.H.useMemoCache(_)}},ke.cache=function(_){return function(){return _.apply(null,arguments)}},ke.cloneElement=function(_,j,$){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var W=B({},_.props),ae=_.key,ce=void 0;if(j!=null)for(le in j.ref!==void 0&&(ce=void 0),j.key!==void 0&&(ae=""+j.key),j)!H.call(j,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&j.ref===void 0||(W[le]=j[le]);var le=arguments.length-2;if(le===1)W.children=$;else if(1<le){for(var ye=Array(le),Se=0;Se<le;Se++)ye[Se]=arguments[Se+2];W.children=ye}return N(_.type,ae,void 0,void 0,ce,W)},ke.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},ke.createElement=function(_,j,$){var W,ae={},ce=null;if(j!=null)for(W in j.key!==void 0&&(ce=""+j.key),j)H.call(j,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ae[W]=j[W]);var le=arguments.length-2;if(le===1)ae.children=$;else if(1<le){for(var ye=Array(le),Se=0;Se<le;Se++)ye[Se]=arguments[Se+2];ae.children=ye}if(_&&_.defaultProps)for(W in le=_.defaultProps,le)ae[W]===void 0&&(ae[W]=le[W]);return N(_,ce,void 0,void 0,null,ae)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(_){return{$$typeof:h,render:_}},ke.isValidElement=R,ke.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:w}},ke.memo=function(_,j){return{$$typeof:p,type:_,compare:j===void 0?null:j}},ke.startTransition=function(_){var j=P.T,$={};P.T=$;try{var W=_(),ae=P.S;ae!==null&&ae($,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(G,ge)}catch(ce){ge(ce)}finally{P.T=j}},ke.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ke.use=function(_){return P.H.use(_)},ke.useActionState=function(_,j,$){return P.H.useActionState(_,j,$)},ke.useCallback=function(_,j){return P.H.useCallback(_,j)},ke.useContext=function(_){return P.H.useContext(_)},ke.useDebugValue=function(){},ke.useDeferredValue=function(_,j){return P.H.useDeferredValue(_,j)},ke.useEffect=function(_,j,$){var W=P.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(_,j)},ke.useId=function(){return P.H.useId()},ke.useImperativeHandle=function(_,j,$){return P.H.useImperativeHandle(_,j,$)},ke.useInsertionEffect=function(_,j){return P.H.useInsertionEffect(_,j)},ke.useLayoutEffect=function(_,j){return P.H.useLayoutEffect(_,j)},ke.useMemo=function(_,j){return P.H.useMemo(_,j)},ke.useOptimistic=function(_,j){return P.H.useOptimistic(_,j)},ke.useReducer=function(_,j,$){return P.H.useReducer(_,j,$)},ke.useRef=function(_){return P.H.useRef(_)},ke.useState=function(_){return P.H.useState(_)},ke.useSyncExternalStore=function(_,j,$){return P.H.useSyncExternalStore(_,j,$)},ke.useTransition=function(){return P.H.useTransition()},ke.version="19.1.0",ke}var Qv;function Or(){return Qv||(Qv=1,Ah.exports=$E()),Ah.exports}var z=Or();const za=L_(z);var Rh={exports:{}},yl={},xh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function KE(){return $v||($v=1,function(i){function e(Q,w){var ge=Q.length;Q.push(w);e:for(;0<ge;){var G=ge-1>>>1,_=Q[G];if(0<o(_,w))Q[G]=w,Q[ge]=_,ge=G;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var w=Q[0],ge=Q.pop();if(ge!==w){Q[0]=ge;e:for(var G=0,_=Q.length,j=_>>>1;G<j;){var $=2*(G+1)-1,W=Q[$],ae=$+1,ce=Q[ae];if(0>o(W,ge))ae<_&&0>o(ce,W)?(Q[G]=ce,Q[ae]=ge,G=ae):(Q[G]=W,Q[$]=ge,G=$);else if(ae<_&&0>o(ce,ge))Q[G]=ce,Q[ae]=ge,G=ae;else break e}}return w}function o(Q,w){var ge=Q.sortIndex-w.sortIndex;return ge!==0?ge:Q.id-w.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var y=[],p=[],b=1,S=null,x=3,D=!1,B=!1,V=!1,U=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function re(Q){for(var w=n(p);w!==null;){if(w.callback===null)a(p);else if(w.startTime<=Q)a(p),w.sortIndex=w.expirationTime,e(y,w);else break;w=n(p)}}function P(Q){if(V=!1,re(Q),!B)if(n(y)!==null)B=!0,H||(H=!0,L());else{var w=n(p);w!==null&&me(P,w.startTime-Q)}}var H=!1,N=-1,O=5,R=-1;function E(){return U?!0:!(i.unstable_now()-R<O)}function M(){if(U=!1,H){var Q=i.unstable_now();R=Q;var w=!0;try{e:{B=!1,V&&(V=!1,Y(N),N=-1),D=!0;var ge=x;try{t:{for(re(Q),S=n(y);S!==null&&!(S.expirationTime>Q&&E());){var G=S.callback;if(typeof G=="function"){S.callback=null,x=S.priorityLevel;var _=G(S.expirationTime<=Q);if(Q=i.unstable_now(),typeof _=="function"){S.callback=_,re(Q),w=!0;break t}S===n(y)&&a(y),re(Q)}else a(y);S=n(y)}if(S!==null)w=!0;else{var j=n(p);j!==null&&me(P,j.startTime-Q),w=!1}}break e}finally{S=null,x=ge,D=!1}w=void 0}}finally{w?L():H=!1}}}var L;if(typeof ne=="function")L=function(){ne(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Z=C.port2;C.port1.onmessage=M,L=function(){Z.postMessage(null)}}else L=function(){F(M,0)};function me(Q,w){N=F(function(){Q(i.unstable_now())},w)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var w=3;break;default:w=x}var ge=x;x=w;try{return Q()}finally{x=ge}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(Q,w){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=x;x=Q;try{return w()}finally{x=ge}},i.unstable_scheduleCallback=function(Q,w,ge){var G=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?G+ge:G):ge=G,Q){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=ge+_,Q={id:b++,callback:w,priorityLevel:Q,startTime:ge,expirationTime:_,sortIndex:-1},ge>G?(Q.sortIndex=ge,e(p,Q),n(y)===null&&Q===n(p)&&(V?(Y(N),N=-1):V=!0,me(P,ge-G))):(Q.sortIndex=_,e(y,Q),B||D||(B=!0,H||(H=!0,L()))),Q},i.unstable_shouldYield=E,i.unstable_wrapCallback=function(Q){var w=x;return function(){var ge=x;x=w;try{return Q.apply(this,arguments)}finally{x=ge}}}}(Ch)),Ch}var Kv;function YE(){return Kv||(Kv=1,xh.exports=KE()),xh.exports}var Nh={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function XE(){if(Yv)return dn;Yv=1;var i=Or();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:b}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dn.createPortal=function(y,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,b)},dn.flushSync=function(y){var p=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=p,a.p=b,a.d.f()}},dn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},dn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},dn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var b=p.as,S=h(b,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:D}):b==="script"&&a.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},dn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=h(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},dn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,S=h(b,p.crossOrigin);a.d.L(y,b,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},dn.preloadModule=function(y,p){if(typeof y=="string")if(p){var b=h(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},dn.requestFormReset=function(y){a.d.r(y)},dn.unstable_batchedUpdates=function(y,p){return y(p)},dn.useFormState=function(y,p,b){return d.H.useFormState(y,p,b)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var Xv;function WE(){if(Xv)return Nh.exports;Xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nh.exports=XE(),Nh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function ZE(){if(Wv)return yl;Wv=1;var i=YE(),e=Or(),n=WE();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(a(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return h(f),t;if(m===l)return h(f),r;m=m.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=m;else{for(var A=!1,I=f.child;I;){if(I===s){A=!0,s=f,l=m;break}if(I===l){A=!0,l=f,s=m;break}I=I.sibling}if(!A){for(I=m.child;I;){if(I===s){A=!0,s=m,l=f;break}if(I===l){A=!0,l=m,s=f;break}I=I.sibling}if(!A)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Z(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case U:return"Profiler";case V:return"StrictMode";case P:return"Suspense";case H:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case Y:return(t._context.displayName||"Context")+".Consumer";case re:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Z(t.type)||"Memo";case O:r=t._payload,t=t._init;try{return Z(t(r))}catch{}}return null}var me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},G=[],_=-1;function j(t){return{current:t}}function $(t){0>_||(t.current=G[_],G[_]=null,_--)}function W(t,r){_++,G[_]=t.current,t.current=r}var ae=j(null),ce=j(null),le=j(null),ye=j(null);function Se(t,r){switch(W(le,r),W(ce,t),W(ae,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?yv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=yv(r),t=vv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ae),W(ae,t)}function Oe(){$(ae),$(ce),$(le)}function Pe(t){t.memoizedState!==null&&W(ye,t);var r=ae.current,s=vv(r,t.type);r!==s&&(W(ce,t),W(ae,s))}function ze(t){ce.current===t&&($(ae),$(ce)),ye.current===t&&($(ye),fl._currentValue=ge)}var He=Object.prototype.hasOwnProperty,Ve=i.unstable_scheduleCallback,je=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,ht=i.unstable_requestPaint,xe=i.unstable_now,mt=i.unstable_getCurrentPriorityLevel,pt=i.unstable_ImmediatePriority,gt=i.unstable_UserBlockingPriority,Rt=i.unstable_NormalPriority,Wn=i.unstable_LowPriority,Zn=i.unstable_IdlePriority,di=i.log,or=i.unstable_setDisableYieldValue,yt=null,Ue=null;function Lt(t){if(typeof di=="function"&&or(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(yt,t)}catch{}}var cn=Math.clz32?Math.clz32:ea,ru=Math.log,Rf=Math.LN2;function ea(t){return t>>>=0,t===0?32:31-(ru(t)/Rf|0)|0}var ta=256,na=4194304;function Jn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xa(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var I=l&134217727;return I!==0?(l=I&~m,l!==0?f=Jn(l):(A&=I,A!==0?f=Jn(A):s||(s=I&~t,s!==0&&(f=Jn(s))))):(I=l&~m,I!==0?f=Jn(I):A!==0?f=Jn(A):s||(s=l&~t,s!==0&&(f=Jn(s)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,s=r&-r,m>=s||m===32&&(s&4194048)!==0)?r:f}function ra(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function co(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var t=ta;return ta<<=1,(ta&4194048)===0&&(ta=256),t}function ho(){var t=na;return na<<=1,(na&62914560)===0&&(na=4194304),t}function jr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Mr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mo(t,r,s,l,f,m){var A=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var I=t.entanglements,q=t.expirationTimes,te=t.hiddenUpdates;for(s=A&~s;0<s;){var ue=31-cn(s),de=1<<ue;I[ue]=0,q[ue]=-1;var ie=te[ue];if(ie!==null)for(te[ue]=null,ue=0;ue<ie.length;ue++){var se=ie[ue];se!==null&&(se.lane&=-536870913)}s&=~de}l!==0&&lr(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(A&~r))}function lr(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-cn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function po(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-cn(s),f=1<<l;f&r|t[l]&r&&(t[l]|=r),s&=~f}}function hi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mi(){var t=w.p;return t!==0?t:(t=window.event,t===void 0?32:Vv(t.type))}function iu(t,r){var s=w.p;try{return w.p=t,r()}finally{w.p=s}}var vt=Math.random().toString(36).slice(2),zt="__reactFiber$"+vt,Dt="__reactProps$"+vt,Ln="__reactContainer$"+vt,go="__reactEvents$"+vt,xf="__reactListeners$"+vt,pi="__reactHandles$"+vt,au="__reactResources$"+vt,ia="__reactMarker$"+vt;function gi(t){delete t[zt],delete t[Dt],delete t[go],delete t[xf],delete t[pi]}function Pr(t){var r=t[zt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Ln]||s[zt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Sv(t);t!==null;){if(s=t[zt])return s;t=Sv(t)}return r}t=s,s=t.parentNode}return null}function ur(t){if(t=t[zt]||t[Ln]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function cr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function vn(t){var r=t[au];return r||(r=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[ia]=!0}var yo=new Set,Za={};function er(t,r){kr(t,r),kr(t+"Capture",r)}function kr(t,r){for(Za[t]=r,t=0;t<r.length;t++)yo.add(r[t])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},aa={};function lu(t){return He.call(aa,t)?!0:He.call(ou,t)?!1:su.test(t)?aa[t]=!0:(ou[t]=!0,!1)}function yi(t,r,s){if(lu(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function fr(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function en(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var sa,uu;function Vr(t){if(sa===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);sa=r&&r[1]||"",uu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+t+uu}var Ja=!1;function es(t,r){if(!t||Ja)return"";Ja=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(se){var ie=se}Reflect.construct(t,[],de)}else{try{de.call()}catch(se){ie=se}t.call(de.prototype)}}else{try{throw Error()}catch(se){ie=se}(de=t())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(se){if(se&&ie&&typeof se.stack=="string")return[se.stack,ie.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),A=m[0],I=m[1];if(A&&I){var q=A.split(`
`),te=I.split(`
`);for(f=l=0;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;for(;f<te.length&&!te[f].includes("DetermineComponentFrameRoot");)f++;if(l===q.length||f===te.length)for(l=q.length-1,f=te.length-1;1<=l&&0<=f&&q[l]!==te[f];)f--;for(;1<=l&&0<=f;l--,f--)if(q[l]!==te[f]){if(l!==1||f!==1)do if(l--,f--,0>f||q[l]!==te[f]){var ue=`
`+q[l].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=l&&0<=f);break}}}finally{Ja=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Vr(s):""}function vo(t){switch(t.tag){case 26:case 27:case 5:return Vr(t.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return es(t.type,!1);case 11:return es(t.type.render,!1);case 1:return es(t.type,!0);case 31:return Vr("Activity");default:return""}}function ts(t){try{var r="";do r+=vo(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function _n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _o(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cf(t){var r=_o(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(A){l=""+A,m.call(this,A)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ns(t){t._valueTracker||(t._valueTracker=Cf(t))}function bo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=_o(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nf=/[\n"\\]/g;function jt(t){return t.replace(Nf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Cn(t,r,s,l,f,m,A,I){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),r!=null?A==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+_n(r)):t.value!==""+_n(r)&&(t.value=""+_n(r)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),r!=null?vi(t,A,_n(r)):s!=null?vi(t,A,_n(s)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?t.name=""+_n(I):t.removeAttribute("name")}function la(t,r,s,l,f,m,A,I){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;s=s!=null?""+_n(s):"",r=r!=null?""+_n(r):s,I||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=I?t.checked:!!l,t.defaultChecked=!!l,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function vi(t,r,s){r==="number"&&oa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Lr(t,r,s,l){if(t=t.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=r.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+_n(s),r=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function st(t,r,s){if(r!=null&&(r=""+_n(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+_n(s):""}function ua(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(me(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=_n(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function zn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||ca.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Eo(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&cu(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&cu(t,m,r[m])}function So(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),If=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(t){return If.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var zr=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ur=null,Br=null;function wo(t){var r=ur(t);if(r&&(t=r.stateNode)){var s=t[Dt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Cn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+jt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var f=l[Dt]||null;if(!f)throw Error(a(90));Cn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&bo(l)}break e;case"textarea":st(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Lr(t,!!s.multiple,r,!1)}}}var dr=!1;function fu(t,r,s){if(dr)return t(r,s);dr=!0;try{var l=t(r);return l}finally{if(dr=!1,(Ur!==null||Br!==null)&&(ic(),Ur&&(r=Ur,t=Br,Br=Ur=null,wo(r),t)))for(r=0;r<t.length;r++)wo(t[r])}}function fa(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Dt]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(tr)try{var da={};Object.defineProperty(da,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Bn=!1}var hr=null,_i=null,Hr=null;function To(){if(Hr)return Hr;var t,r=_i,s=r.length,l,f="value"in hr?hr.value:hr.textContent,m=f.length;for(t=0;t<s&&r[t]===f[t];t++);var A=s-t;for(l=1;l<=A&&r[s-l]===f[m-l];l++);return Hr=f.slice(t,1<l?1-l:void 0)}function mr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function pr(){return!0}function Ao(){return!1}function Gt(t){function r(s,l,f,m,A){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=A,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(s=t[I],this[I]=s?s(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pr:Ao,this.isPropagationStopped=Ao,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),r}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Gt(nt),ha=b({},nt,{view:0,detail:0}),du=Gt(ha),as,ss,gr,ma=b({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gr&&(gr&&t.type==="mousemove"?(as=t.screenX-gr.screenX,ss=t.screenY-gr.screenY):ss=as=0,gr=t),as)},movementY:function(t){return"movementY"in t?t.movementY:ss}}),Hn=Gt(ma),hu=b({},ma,{dataTransfer:0}),Df=Gt(hu),pa=b({},ha,{relatedTarget:0}),os=Gt(pa),Ro=b({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=Gt(Ro),mu=b({},nt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),us=Gt(mu),jf=b({},nt,{data:0}),xo=Gt(jf),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=gu[t])?!!r[t]:!1}function ya(){return Co}var yu=b({},ha,{key:function(t){if(t.key){var r=ga[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(t){return t.type==="keypress"?mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cs=Gt(yu),vu=b({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),No=Gt(vu),qr=b({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),_u=Gt(qr),bu=b({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=Gt(bu),Su=b({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=Gt(Su),bn=b({},nt,{newState:0,oldState:0}),wu=Gt(bn),Tu=[9,13,27,32],yr=tr&&"CompositionEvent"in window,c=null;tr&&"documentMode"in document&&(c=document.documentMode);var v=tr&&"TextEvent"in window&&!c,T=tr&&(!yr||c&&8<c&&11>=c),k=" ",J=!1;function oe(t,r){switch(t){case"keyup":return Tu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ke=!1;function Ut(t,r){switch(t){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(J=!0,k);case"textInput":return t=r.data,t===k&&J?null:t;default:return null}}function Ye(t,r){if(Ke)return t==="compositionend"||!yr&&oe(t,r)?(t=To(),Hr=_i=hr=null,Ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return T&&r.locale!=="ko"?null:r.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Qt[t.type]:r==="textarea"}function Fr(t,r,s,l){Ur?Br?Br.push(l):Br=[l]:Ur=l,r=cc(r,"onChange"),0<r.length&&(s=new is("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var tn=null,vr=null;function Oo(t){dv(t,0)}function Au(t){var r=cr(t);if(bo(r))return t}function jp(t,r){if(t==="change")return r}var Mp=!1;if(tr){var Mf;if(tr){var Pf="oninput"in document;if(!Pf){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Pf=typeof Pp.oninput=="function"}Mf=Pf}else Mf=!1;Mp=Mf&&(!document.documentMode||9<document.documentMode)}function kp(){tn&&(tn.detachEvent("onpropertychange",Vp),vr=tn=null)}function Vp(t){if(t.propertyName==="value"&&Au(vr)){var r=[];Fr(r,vr,t,Un(t)),fu(Oo,r)}}function bb(t,r,s){t==="focusin"?(kp(),tn=r,vr=s,tn.attachEvent("onpropertychange",Vp)):t==="focusout"&&kp()}function Eb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(vr)}function Sb(t,r){if(t==="click")return Au(r)}function wb(t,r){if(t==="input"||t==="change")return Au(r)}function Tb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Nn=typeof Object.is=="function"?Object.is:Tb;function Io(t,r){if(Nn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!He.call(r,f)||!Nn(t[f],r[f]))return!1}return!0}function Lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zp(t,r){var s=Lp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Lp(s)}}function Up(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Up(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=oa(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=oa(t.document)}return r}function kf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Ab=tr&&"documentMode"in document&&11>=document.documentMode,ds=null,Vf=null,Do=null,Lf=!1;function Hp(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lf||ds==null||ds!==oa(l)||(l=ds,"selectionStart"in l&&kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Do&&Io(Do,l)||(Do=l,l=cc(Vf,"onSelect"),0<l.length&&(r=new is("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=ds)))}function va(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var hs={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},zf={},qp={};tr&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function _a(t){if(zf[t])return zf[t];if(!hs[t])return t;var r=hs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in qp)return zf[t]=r[s];return t}var Fp=_a("animationend"),Gp=_a("animationiteration"),Qp=_a("animationstart"),Rb=_a("transitionrun"),xb=_a("transitionstart"),Cb=_a("transitioncancel"),$p=_a("transitionend"),Kp=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function nr(t,r){Kp.set(t,r),er(r,[t])}var Yp=new WeakMap;function qn(t,r){if(typeof t=="object"&&t!==null){var s=Yp.get(t);return s!==void 0?s:(r={value:t,source:r,stack:ts(r)},Yp.set(t,r),r)}return{value:t,source:r,stack:ts(r)}}var Fn=[],ms=0,Bf=0;function Ru(){for(var t=ms,r=Bf=ms=0;r<t;){var s=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var m=Fn[r];if(Fn[r++]=null,l!==null&&f!==null){var A=l.pending;A===null?f.next=f:(f.next=A.next,A.next=f),l.pending=f}m!==0&&Xp(s,f,m)}}function xu(t,r,s,l){Fn[ms++]=t,Fn[ms++]=r,Fn[ms++]=s,Fn[ms++]=l,Bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hf(t,r,s,l){return xu(t,r,s,l),Cu(t)}function ps(t,r){return xu(t,null,null,r),Cu(t)}function Xp(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-cn(s),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=s|536870912),m):null}function Cu(t){if(50<rl)throw rl=0,Kd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var gs={};function Nb(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,r,s,l){return new Nb(t,r,s,l)}function qf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gr(t,r){var s=t.alternate;return s===null?(s=On(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Wp(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Nu(t,r,s,l,f,m){var A=0;if(l=t,typeof t=="function")qf(t)&&(A=1);else if(typeof t=="string")A=IE(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=On(31,s,r,f),t.elementType=R,t.lanes=m,t;case B:return ba(s.children,f,m,r);case V:A=8,f|=24;break;case U:return t=On(12,s,r,f|2),t.elementType=U,t.lanes=m,t;case P:return t=On(13,s,r,f),t.elementType=P,t.lanes=m,t;case H:return t=On(19,s,r,f),t.elementType=H,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case ne:A=10;break e;case Y:A=9;break e;case re:A=11;break e;case N:A=14;break e;case O:A=16,l=null;break e}A=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=On(A,s,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function ba(t,r,s,l){return t=On(7,t,l,r),t.lanes=s,t}function Ff(t,r,s){return t=On(6,t,null,r),t.lanes=s,t}function Gf(t,r,s){return r=On(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ys=[],vs=0,Ou=null,Iu=0,Gn=[],Qn=0,Ea=null,Qr=1,$r="";function Sa(t,r){ys[vs++]=Iu,ys[vs++]=Ou,Ou=t,Iu=r}function Zp(t,r,s){Gn[Qn++]=Qr,Gn[Qn++]=$r,Gn[Qn++]=Ea,Ea=t;var l=Qr;t=$r;var f=32-cn(l)-1;l&=~(1<<f),s+=1;var m=32-cn(r)+f;if(30<m){var A=f-f%5;m=(l&(1<<A)-1).toString(32),l>>=A,f-=A,Qr=1<<32-cn(r)+f|s<<f|l,$r=m+t}else Qr=1<<m|s<<f|l,$r=t}function Qf(t){t.return!==null&&(Sa(t,1),Zp(t,1,0))}function $f(t){for(;t===Ou;)Ou=ys[--vs],ys[vs]=null,Iu=ys[--vs],ys[vs]=null;for(;t===Ea;)Ea=Gn[--Qn],Gn[Qn]=null,$r=Gn[--Qn],Gn[Qn]=null,Qr=Gn[--Qn],Gn[Qn]=null}var En=null,wt=null,tt=!1,wa=null,_r=!1,Kf=Error(a(519));function Ta(t){var r=Error(a(418,""));throw Po(qn(r,t)),Kf}function Jp(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[zt]=t,r[Dt]=l,s){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<al.length;s++)Fe(al[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),la(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ns(r);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),ua(r,l.value,l.defaultValue,l.children),ns(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||gv(r.textContent,s)?(l.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),l.onScroll!=null&&Fe("scroll",r),l.onScrollEnd!=null&&Fe("scrollend",r),l.onClick!=null&&(r.onclick=fc),r=!0):r=!1,r||Ta(t)}function eg(t){for(En=t.return;En;)switch(En.tag){case 5:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:En=En.return}}function jo(t){if(t!==En)return!1;if(!tt)return eg(t),tt=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||ch(t.type,t.memoizedProps)),s=!s),s&&wt&&Ta(t),eg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){wt=ir(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}wt=null}}else r===27?(r=wt,Pi(t.type)?(t=mh,mh=null,wt=t):wt=r):wt=En?ir(t.stateNode.nextSibling):null;return!0}function Mo(){wt=En=null,tt=!1}function tg(){var t=wa;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),wa=null),t}function Po(t){wa===null?wa=[t]:wa.push(t)}var Yf=j(null),Aa=null,Kr=null;function bi(t,r,s){W(Yf,r._currentValue),r._currentValue=s}function Yr(t){t._currentValue=Yf.current,$(Yf)}function Xf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Wf(t,r,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var A=f.child;m=m.firstContext;e:for(;m!==null;){var I=m;m=f;for(var q=0;q<r.length;q++)if(I.context===r[q]){m.lanes|=s,I=m.alternate,I!==null&&(I.lanes|=s),Xf(m.return,s,t),l||(A=null);break e}m=I.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(a(341));A.lanes|=s,m=A.alternate,m!==null&&(m.lanes|=s),Xf(A,s,t),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===t){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function ko(t,r,s,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var I=f.type;Nn(f.pendingProps.value,A.value)||(t!==null?t.push(I):t=[I])}}else if(f===ye.current){if(A=f.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(fl):t=[fl])}f=f.return}t!==null&&Wf(r,t,s,l),r.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ra(t){Aa=t,Kr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return ng(Aa,t)}function ju(t,r){return Aa===null&&Ra(t),ng(t,r)}function ng(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Kr===null){if(t===null)throw Error(a(308));Kr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Kr=Kr.next=r;return s}var Ob=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},Ib=i.unstable_scheduleCallback,Db=i.unstable_NormalPriority,Ht={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new Ob,data:new Map,refCount:0}}function Vo(t){t.refCount--,t.refCount===0&&Ib(Db,function(){t.controller.abort()})}var Lo=null,Jf=0,_s=0,bs=null;function jb(t,r){if(Lo===null){var s=Lo=[];Jf=0,_s=th(),bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jf++,r.then(rg,rg),r}function rg(){if(--Jf===0&&Lo!==null){bs!==null&&(bs.status="fulfilled");var t=Lo;Lo=null,_s=0,bs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Mb(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var ig=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&jb(t,r),ig!==null&&ig(t,r)};var xa=j(null);function ed(){var t=xa.current;return t!==null?t:ft.pooledCache}function Mu(t,r){r===null?W(xa,xa.current):W(xa,r.pool)}function ag(){var t=ed();return t===null?null:{parent:Ht._currentValue,pool:t}}var zo=Error(a(460)),sg=Error(a(474)),Pu=Error(a(542)),td={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ku(){}function lg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(ku,ku),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,cg(t),t;default:if(typeof r.status=="string")r.then(ku,ku);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,cg(t),t}throw Uo=r,zo}}var Uo=null;function ug(){if(Uo===null)throw Error(a(459));var t=Uo;return Uo=null,t}function cg(t){if(t===zo||t===Pu)throw Error(a(483))}var Ei=!1;function nd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Cu(t),Xp(t,null,s),r}return xu(t,l,r,s),Cu(t)}function Bo(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,po(t,s)}}function id(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=A:m=m.next=A,s=s.next}while(s!==null);m===null?f=m=r:m=m.next=r}else f=m=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var ad=!1;function Ho(){if(ad){var t=bs;if(t!==null)throw t}}function qo(t,r,s,l){ad=!1;var f=t.updateQueue;Ei=!1;var m=f.firstBaseUpdate,A=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var q=I,te=q.next;q.next=null,A===null?m=te:A.next=te,A=q;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==A&&(I===null?ue.firstBaseUpdate=te:I.next=te,ue.lastBaseUpdate=q))}if(m!==null){var de=f.baseState;A=0,ue=te=q=null,I=m;do{var ie=I.lane&-536870913,se=ie!==I.lane;if(se?(Xe&ie)===ie:(l&ie)===ie){ie!==0&&ie===_s&&(ad=!0),ue!==null&&(ue=ue.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ne=t,Re=I;ie=r;var ut=s;switch(Re.tag){case 1:if(Ne=Re.payload,typeof Ne=="function"){de=Ne.call(ut,de,ie);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Re.payload,ie=typeof Ne=="function"?Ne.call(ut,de,ie):Ne,ie==null)break e;de=b({},de,ie);break e;case 2:Ei=!0}}ie=I.callback,ie!==null&&(t.flags|=64,se&&(t.flags|=8192),se=f.callbacks,se===null?f.callbacks=[ie]:se.push(ie))}else se={lane:ie,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(te=ue=se,q=de):ue=ue.next=se,A|=ie;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;se=I,I=se.next,se.next=null,f.lastBaseUpdate=se,f.shared.pending=null}}while(!0);ue===null&&(q=de),f.baseState=q,f.firstBaseUpdate=te,f.lastBaseUpdate=ue,m===null&&(f.shared.lanes=0),Ii|=A,t.lanes=A,t.memoizedState=de}}function fg(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function dg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)fg(s[t],r)}var Es=j(null),Vu=j(0);function hg(t,r){t=ni,W(Vu,t),W(Es,r),ni=t|r.baseLanes}function sd(){W(Vu,ni),W(Es,Es.current)}function od(){ni=Vu.current,$(Es),$(Vu)}var Ti=0,Le=null,ot=null,Mt=null,Lu=!1,Ss=!1,Ca=!1,zu=0,Fo=0,ws=null,Pb=0;function Ct(){throw Error(a(321))}function ld(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Nn(t[s],r[s]))return!1;return!0}function ud(t,r,s,l,f,m){return Ti=m,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?Xg:Wg,Ca=!1,m=s(l,f),Ca=!1,Ss&&(m=pg(r,s,l,f)),mg(t),m}function mg(t){Q.H=Gu;var r=ot!==null&&ot.next!==null;if(Ti=0,Mt=ot=Le=null,Lu=!1,Fo=0,ws=null,r)throw Error(a(300));t===null||$t||(t=t.dependencies,t!==null&&Du(t)&&($t=!0))}function pg(t,r,s,l){Le=t;var f=0;do{if(Ss&&(ws=null),Fo=0,Ss=!1,25<=f)throw Error(a(301));if(f+=1,Mt=ot=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=Hb,m=r(s,l)}while(Ss);return m}function kb(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?Go(r):r,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Le.flags|=1024),r}function cd(){var t=zu!==0;return zu=0,t}function fd(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function dd(t){if(Lu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Lu=!1}Ti=0,Mt=ot=Le=null,Ss=!1,Fo=zu=0,ws=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Le.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Pt(){if(ot===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var r=Mt===null?Le.memoizedState:Mt.next;if(r!==null)Mt=r,ot=t;else{if(t===null)throw Le.alternate===null?Error(a(467)):Error(a(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Mt===null?Le.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(t){var r=Fo;return Fo+=1,ws===null&&(ws=[]),t=lg(ws,t,r),r=Le,(Mt===null?r.memoizedState:Mt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Xg:Wg),t}function Uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Go(t);if(t.$$typeof===ne)return fn(t)}throw Error(a(438,String(t)))}function md(t){var r=null,s=Le.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=hd(),Le.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=E;return r.index++,s}function Xr(t,r){return typeof r=="function"?r(t):r}function Bu(t){var r=Pt();return pd(r,ot,t)}function pd(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var A=f.next;f.next=m.next,m.next=A}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var I=A=null,q=null,te=r,ue=!1;do{var de=te.lane&-536870913;if(de!==te.lane?(Xe&de)===de:(Ti&de)===de){var ie=te.revertLane;if(ie===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),de===_s&&(ue=!0);else if((Ti&ie)===ie){te=te.next,ie===_s&&(ue=!0);continue}else de={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(I=q=de,A=m):q=q.next=de,Le.lanes|=ie,Ii|=ie;de=te.action,Ca&&s(m,de),m=te.hasEagerState?te.eagerState:s(m,de)}else ie={lane:de,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(I=q=ie,A=m):q=q.next=ie,Le.lanes|=de,Ii|=de;te=te.next}while(te!==null&&te!==r);if(q===null?A=m:q.next=I,!Nn(m,t.memoizedState)&&($t=!0,ue&&(s=bs,s!==null)))throw s;t.memoizedState=m,t.baseState=A,t.baseQueue=q,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gd(t){var r=Pt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,m=r.memoizedState;if(f!==null){s.pending=null;var A=f=f.next;do m=t(m,A.action),A=A.next;while(A!==f);Nn(m,r.memoizedState)||($t=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),s.lastRenderedState=m}return[m,l]}function gg(t,r,s){var l=Le,f=Pt(),m=tt;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=r();var A=!Nn((ot||f).memoizedState,s);A&&(f.memoizedState=s,$t=!0),f=f.queue;var I=_g.bind(null,l,f,t);if(Qo(2048,8,I,[t]),f.getSnapshot!==r||A||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Ts(9,Hu(),vg.bind(null,l,f,s,r),null),ft===null)throw Error(a(349));m||(Ti&124)!==0||yg(l,r,s)}return s}function yg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Le.updateQueue,r===null?(r=hd(),Le.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function vg(t,r,s,l){r.value=s,r.getSnapshot=l,bg(r)&&Eg(t)}function _g(t,r,s){return s(function(){bg(r)&&Eg(t)})}function bg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Nn(t,s)}catch{return!0}}function Eg(t){var r=ps(t,2);r!==null&&Pn(r,t,2)}function yd(t){var r=Tn();if(typeof t=="function"){var s=t;if(t=s(),Ca){Lt(!0);try{s()}finally{Lt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:t},r}function Sg(t,r,s,l){return t.baseState=s,pd(t,ot,typeof l=="function"?l:Xr)}function Vb(t,r,s,l,f){if(Fu(t))throw Error(a(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){m.listeners.push(A)}};Q.T!==null?s(!0):m.isTransition=!1,l(m),s=r.pending,s===null?(m.next=r.pending=m,wg(r,m)):(m.next=s.next,r.pending=s.next=m)}}function wg(t,r){var s=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=Q.T,A={};Q.T=A;try{var I=s(f,l),q=Q.S;q!==null&&q(A,I),Tg(t,r,I)}catch(te){vd(t,r,te)}finally{Q.T=m}}else try{m=s(f,l),Tg(t,r,m)}catch(te){vd(t,r,te)}}function Tg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ag(t,r,l)},function(l){return vd(t,r,l)}):Ag(t,r,s)}function Ag(t,r,s){r.status="fulfilled",r.value=s,Rg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,wg(t,s)))}function vd(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Rg(r),r=r.next;while(r!==l)}t.action=null}function Rg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function xg(t,r){return r}function Cg(t,r){if(tt){var s=ft.formState;if(s!==null){e:{var l=Le;if(tt){if(wt){t:{for(var f=wt,m=_r;f.nodeType!==8;){if(!m){f=null;break t}if(f=ir(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){wt=ir(f.nextSibling),l=f.data==="F!";break e}}Ta(l)}l=!1}l&&(r=s[0])}}return s=Tn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:r},s.queue=l,s=$g.bind(null,Le,l),l.dispatch=s,l=yd(!1),m=wd.bind(null,Le,!1,l.queue),l=Tn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,s=Vb.bind(null,Le,f,m,s),f.dispatch=s,l.memoizedState=t,[r,s,!1]}function Ng(t){var r=Pt();return Og(r,ot,t)}function Og(t,r,s){if(r=pd(t,r,xg)[0],t=Bu(Xr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Go(r)}catch(A){throw A===zo?Pu:A}else l=r;r=Pt();var f=r.queue,m=f.dispatch;return s!==r.memoizedState&&(Le.flags|=2048,Ts(9,Hu(),Lb.bind(null,f,s),null)),[l,m,t]}function Lb(t,r){t.action=r}function Ig(t){var r=Pt(),s=ot;if(s!==null)return Og(r,s,t);Pt(),r=r.memoizedState,s=Pt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Ts(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Le.updateQueue,r===null&&(r=hd(),Le.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function Hu(){return{destroy:void 0,resource:void 0}}function Dg(){return Pt().memoizedState}function qu(t,r,s,l){var f=Tn();l=l===void 0?null:l,Le.flags|=t,f.memoizedState=Ts(1|r,Hu(),s,l)}function Qo(t,r,s,l){var f=Pt();l=l===void 0?null:l;var m=f.memoizedState.inst;ot!==null&&l!==null&&ld(l,ot.memoizedState.deps)?f.memoizedState=Ts(r,m,s,l):(Le.flags|=t,f.memoizedState=Ts(1|r,m,s,l))}function jg(t,r){qu(8390656,8,t,r)}function Mg(t,r){Qo(2048,8,t,r)}function Pg(t,r){return Qo(4,2,t,r)}function kg(t,r){return Qo(4,4,t,r)}function Vg(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Lg(t,r,s){s=s!=null?s.concat([t]):null,Qo(4,4,Vg.bind(null,r,t),s)}function _d(){}function zg(t,r){var s=Pt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&ld(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Ug(t,r){var s=Pt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&ld(r,l[1]))return l[0];if(l=t(),Ca){Lt(!0);try{t()}finally{Lt(!1)}}return s.memoizedState=[l,r],l}function bd(t,r,s){return s===void 0||(Ti&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=qy(),Le.lanes|=t,Ii|=t,s)}function Bg(t,r,s,l){return Nn(s,r)?s:Es.current!==null?(t=bd(t,s,l),Nn(t,r)||($t=!0),t):(Ti&42)===0?($t=!0,t.memoizedState=s):(t=qy(),Le.lanes|=t,Ii|=t,r)}function Hg(t,r,s,l,f){var m=w.p;w.p=m!==0&&8>m?m:8;var A=Q.T,I={};Q.T=I,wd(t,!1,r,s);try{var q=f(),te=Q.S;if(te!==null&&te(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ue=Mb(q,l);$o(t,r,ue,Mn(t))}else $o(t,r,l,Mn(t))}catch(de){$o(t,r,{then:function(){},status:"rejected",reason:de},Mn())}finally{w.p=m,Q.T=A}}function zb(){}function Ed(t,r,s,l){if(t.tag!==5)throw Error(a(476));var f=qg(t).queue;Hg(t,f,r,ge,s===null?zb:function(){return Fg(t),s(l)})}function qg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:ge},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Fg(t){var r=qg(t).next.queue;$o(t,r,{},Mn())}function Sd(){return fn(fl)}function Gg(){return Pt().memoizedState}function Qg(){return Pt().memoizedState}function Ub(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Mn();t=Si(s);var l=wi(r,t,s);l!==null&&(Pn(l,r,s),Bo(l,r,s)),r={cache:Zf()},t.payload=r;return}r=r.return}}function Bb(t,r,s){var l=Mn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Kg(r,s):(s=Hf(t,r,s,l),s!==null&&(Pn(s,t,l),Yg(s,r,l)))}function $g(t,r,s){var l=Mn();$o(t,r,s,l)}function $o(t,r,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Kg(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var A=r.lastRenderedState,I=m(A,s);if(f.hasEagerState=!0,f.eagerState=I,Nn(I,A))return xu(t,r,f,0),ft===null&&Ru(),!1}catch{}finally{}if(s=Hf(t,r,f,l),s!==null)return Pn(s,t,l),Yg(s,r,l),!0}return!1}function wd(t,r,s,l){if(l={lane:2,revertLane:th(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(r)throw Error(a(479))}else r=Hf(t,s,l,2),r!==null&&Pn(r,t,2)}function Fu(t){var r=t.alternate;return t===Le||r!==null&&r===Le}function Kg(t,r){Ss=Lu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Yg(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,po(t,s)}}var Gu={readContext:fn,use:Uu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},Xg={readContext:fn,use:Uu,useCallback:function(t,r){return Tn().memoizedState=[t,r===void 0?null:r],t},useContext:fn,useEffect:jg,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,qu(4194308,4,Vg.bind(null,r,t),s)},useLayoutEffect:function(t,r){return qu(4194308,4,t,r)},useInsertionEffect:function(t,r){qu(4,2,t,r)},useMemo:function(t,r){var s=Tn();r=r===void 0?null:r;var l=t();if(Ca){Lt(!0);try{t()}finally{Lt(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=Tn();if(s!==void 0){var f=s(r);if(Ca){Lt(!0);try{s(r)}finally{Lt(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Bb.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var r=Tn();return t={current:t},r.memoizedState=t},useState:function(t){t=yd(t);var r=t.queue,s=$g.bind(null,Le,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:_d,useDeferredValue:function(t,r){var s=Tn();return bd(s,t,r)},useTransition:function(){var t=yd(!1);return t=Hg.bind(null,Le,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Le,f=Tn();if(tt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ft===null)throw Error(a(349));(Xe&124)!==0||yg(l,r,s)}f.memoizedState=s;var m={value:s,getSnapshot:r};return f.queue=m,jg(_g.bind(null,l,m,t),[t]),l.flags|=2048,Ts(9,Hu(),vg.bind(null,l,m,s,r),null),s},useId:function(){var t=Tn(),r=ft.identifierPrefix;if(tt){var s=$r,l=Qr;s=(l&~(1<<32-cn(l)-1)).toString(32)+s,r="«"+r+"R"+s,s=zu++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=Pb++,r="«"+r+"r"+s.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Sd,useFormState:Cg,useActionState:Cg,useOptimistic:function(t){var r=Tn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=wd.bind(null,Le,!0,s),s.dispatch=r,[t,r]},useMemoCache:md,useCacheRefresh:function(){return Tn().memoizedState=Ub.bind(null,Le)}},Wg={readContext:fn,use:Uu,useCallback:zg,useContext:fn,useEffect:Mg,useImperativeHandle:Lg,useInsertionEffect:Pg,useLayoutEffect:kg,useMemo:Ug,useReducer:Bu,useRef:Dg,useState:function(){return Bu(Xr)},useDebugValue:_d,useDeferredValue:function(t,r){var s=Pt();return Bg(s,ot.memoizedState,t,r)},useTransition:function(){var t=Bu(Xr)[0],r=Pt().memoizedState;return[typeof t=="boolean"?t:Go(t),r]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Sd,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,r){var s=Pt();return Sg(s,ot,t,r)},useMemoCache:md,useCacheRefresh:Qg},Hb={readContext:fn,use:Uu,useCallback:zg,useContext:fn,useEffect:Mg,useImperativeHandle:Lg,useInsertionEffect:Pg,useLayoutEffect:kg,useMemo:Ug,useReducer:gd,useRef:Dg,useState:function(){return gd(Xr)},useDebugValue:_d,useDeferredValue:function(t,r){var s=Pt();return ot===null?bd(s,t,r):Bg(s,ot.memoizedState,t,r)},useTransition:function(){var t=gd(Xr)[0],r=Pt().memoizedState;return[typeof t=="boolean"?t:Go(t),r]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Sd,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,r){var s=Pt();return ot!==null?Sg(s,ot,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:md,useCacheRefresh:Qg},As=null,Ko=0;function Qu(t){var r=Ko;return Ko+=1,As===null&&(As=[]),lg(As,t,r)}function Yo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function $u(t,r){throw r.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Zg(t){var r=t._init;return r(t._payload)}function Jg(t){function r(X,K){if(t){var ee=X.deletions;ee===null?(X.deletions=[K],X.flags|=16):ee.push(K)}}function s(X,K){if(!t)return null;for(;K!==null;)r(X,K),K=K.sibling;return null}function l(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function f(X,K){return X=Gr(X,K),X.index=0,X.sibling=null,X}function m(X,K,ee){return X.index=ee,t?(ee=X.alternate,ee!==null?(ee=ee.index,ee<K?(X.flags|=67108866,K):ee):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function A(X){return t&&X.alternate===null&&(X.flags|=67108866),X}function I(X,K,ee,fe){return K===null||K.tag!==6?(K=Ff(ee,X.mode,fe),K.return=X,K):(K=f(K,ee),K.return=X,K)}function q(X,K,ee,fe){var Ee=ee.type;return Ee===B?ue(X,K,ee.props.children,fe,ee.key):K!==null&&(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===O&&Zg(Ee)===K.type)?(K=f(K,ee.props),Yo(K,ee),K.return=X,K):(K=Nu(ee.type,ee.key,ee.props,null,X.mode,fe),Yo(K,ee),K.return=X,K)}function te(X,K,ee,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=Gf(ee,X.mode,fe),K.return=X,K):(K=f(K,ee.children||[]),K.return=X,K)}function ue(X,K,ee,fe,Ee){return K===null||K.tag!==7?(K=ba(ee,X.mode,fe,Ee),K.return=X,K):(K=f(K,ee),K.return=X,K)}function de(X,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Ff(""+K,X.mode,ee),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return ee=Nu(K.type,K.key,K.props,null,X.mode,ee),Yo(ee,K),ee.return=X,ee;case D:return K=Gf(K,X.mode,ee),K.return=X,K;case O:var fe=K._init;return K=fe(K._payload),de(X,K,ee)}if(me(K)||L(K))return K=ba(K,X.mode,ee,null),K.return=X,K;if(typeof K.then=="function")return de(X,Qu(K),ee);if(K.$$typeof===ne)return de(X,ju(X,K),ee);$u(X,K)}return null}function ie(X,K,ee,fe){var Ee=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ee!==null?null:I(X,K,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return ee.key===Ee?q(X,K,ee,fe):null;case D:return ee.key===Ee?te(X,K,ee,fe):null;case O:return Ee=ee._init,ee=Ee(ee._payload),ie(X,K,ee,fe)}if(me(ee)||L(ee))return Ee!==null?null:ue(X,K,ee,fe,null);if(typeof ee.then=="function")return ie(X,K,Qu(ee),fe);if(ee.$$typeof===ne)return ie(X,K,ju(X,ee),fe);$u(X,ee)}return null}function se(X,K,ee,fe,Ee){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(ee)||null,I(K,X,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return X=X.get(fe.key===null?ee:fe.key)||null,q(K,X,fe,Ee);case D:return X=X.get(fe.key===null?ee:fe.key)||null,te(K,X,fe,Ee);case O:var Be=fe._init;return fe=Be(fe._payload),se(X,K,ee,fe,Ee)}if(me(fe)||L(fe))return X=X.get(ee)||null,ue(K,X,fe,Ee,null);if(typeof fe.then=="function")return se(X,K,ee,Qu(fe),Ee);if(fe.$$typeof===ne)return se(X,K,ee,ju(K,fe),Ee);$u(K,fe)}return null}function Ne(X,K,ee,fe){for(var Ee=null,Be=null,Te=K,Ce=K=0,Yt=null;Te!==null&&Ce<ee.length;Ce++){Te.index>Ce?(Yt=Te,Te=null):Yt=Te.sibling;var Je=ie(X,Te,ee[Ce],fe);if(Je===null){Te===null&&(Te=Yt);break}t&&Te&&Je.alternate===null&&r(X,Te),K=m(Je,K,Ce),Be===null?Ee=Je:Be.sibling=Je,Be=Je,Te=Yt}if(Ce===ee.length)return s(X,Te),tt&&Sa(X,Ce),Ee;if(Te===null){for(;Ce<ee.length;Ce++)Te=de(X,ee[Ce],fe),Te!==null&&(K=m(Te,K,Ce),Be===null?Ee=Te:Be.sibling=Te,Be=Te);return tt&&Sa(X,Ce),Ee}for(Te=l(Te);Ce<ee.length;Ce++)Yt=se(Te,X,Ce,ee[Ce],fe),Yt!==null&&(t&&Yt.alternate!==null&&Te.delete(Yt.key===null?Ce:Yt.key),K=m(Yt,K,Ce),Be===null?Ee=Yt:Be.sibling=Yt,Be=Yt);return t&&Te.forEach(function(Ui){return r(X,Ui)}),tt&&Sa(X,Ce),Ee}function Re(X,K,ee,fe){if(ee==null)throw Error(a(151));for(var Ee=null,Be=null,Te=K,Ce=K=0,Yt=null,Je=ee.next();Te!==null&&!Je.done;Ce++,Je=ee.next()){Te.index>Ce?(Yt=Te,Te=null):Yt=Te.sibling;var Ui=ie(X,Te,Je.value,fe);if(Ui===null){Te===null&&(Te=Yt);break}t&&Te&&Ui.alternate===null&&r(X,Te),K=m(Ui,K,Ce),Be===null?Ee=Ui:Be.sibling=Ui,Be=Ui,Te=Yt}if(Je.done)return s(X,Te),tt&&Sa(X,Ce),Ee;if(Te===null){for(;!Je.done;Ce++,Je=ee.next())Je=de(X,Je.value,fe),Je!==null&&(K=m(Je,K,Ce),Be===null?Ee=Je:Be.sibling=Je,Be=Je);return tt&&Sa(X,Ce),Ee}for(Te=l(Te);!Je.done;Ce++,Je=ee.next())Je=se(Te,X,Ce,Je.value,fe),Je!==null&&(t&&Je.alternate!==null&&Te.delete(Je.key===null?Ce:Je.key),K=m(Je,K,Ce),Be===null?Ee=Je:Be.sibling=Je,Be=Je);return t&&Te.forEach(function(qE){return r(X,qE)}),tt&&Sa(X,Ce),Ee}function ut(X,K,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===B&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:e:{for(var Ee=ee.key;K!==null;){if(K.key===Ee){if(Ee=ee.type,Ee===B){if(K.tag===7){s(X,K.sibling),fe=f(K,ee.props.children),fe.return=X,X=fe;break e}}else if(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===O&&Zg(Ee)===K.type){s(X,K.sibling),fe=f(K,ee.props),Yo(fe,ee),fe.return=X,X=fe;break e}s(X,K);break}else r(X,K);K=K.sibling}ee.type===B?(fe=ba(ee.props.children,X.mode,fe,ee.key),fe.return=X,X=fe):(fe=Nu(ee.type,ee.key,ee.props,null,X.mode,fe),Yo(fe,ee),fe.return=X,X=fe)}return A(X);case D:e:{for(Ee=ee.key;K!==null;){if(K.key===Ee)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){s(X,K.sibling),fe=f(K,ee.children||[]),fe.return=X,X=fe;break e}else{s(X,K);break}else r(X,K);K=K.sibling}fe=Gf(ee,X.mode,fe),fe.return=X,X=fe}return A(X);case O:return Ee=ee._init,ee=Ee(ee._payload),ut(X,K,ee,fe)}if(me(ee))return Ne(X,K,ee,fe);if(L(ee)){if(Ee=L(ee),typeof Ee!="function")throw Error(a(150));return ee=Ee.call(ee),Re(X,K,ee,fe)}if(typeof ee.then=="function")return ut(X,K,Qu(ee),fe);if(ee.$$typeof===ne)return ut(X,K,ju(X,ee),fe);$u(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,K!==null&&K.tag===6?(s(X,K.sibling),fe=f(K,ee),fe.return=X,X=fe):(s(X,K),fe=Ff(ee,X.mode,fe),fe.return=X,X=fe),A(X)):s(X,K)}return function(X,K,ee,fe){try{Ko=0;var Ee=ut(X,K,ee,fe);return As=null,Ee}catch(Te){if(Te===zo||Te===Pu)throw Te;var Be=On(29,Te,null,X.mode);return Be.lanes=fe,Be.return=X,Be}finally{}}}var Rs=Jg(!0),ey=Jg(!1),$n=j(null),br=null;function Ai(t){var r=t.alternate;W(qt,qt.current&1),W($n,t),br===null&&(r===null||Es.current!==null||r.memoizedState!==null)&&(br=t)}function ty(t){if(t.tag===22){if(W(qt,qt.current),W($n,t),br===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(br=t)}}else Ri()}function Ri(){W(qt,qt.current),W($n,$n.current)}function Wr(t){$($n),br===t&&(br=null),$(qt)}var qt=j(0);function Ku(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||hh(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Td(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:b({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ad={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Mn(),f=Si(l);f.payload=r,s!=null&&(f.callback=s),r=wi(t,f,l),r!==null&&(Pn(r,t,l),Bo(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Mn(),f=Si(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=wi(t,f,l),r!==null&&(Pn(r,t,l),Bo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Mn(),l=Si(s);l.tag=2,r!=null&&(l.callback=r),r=wi(t,l,s),r!==null&&(Pn(r,t,s),Bo(r,t,s))}};function ny(t,r,s,l,f,m,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,A):r.prototype&&r.prototype.isPureReactComponent?!Io(s,l)||!Io(f,m):!0}function ry(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Ad.enqueueReplaceState(r,r.state,null)}function Na(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=b({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function iy(t){Yu(t)}function ay(t){console.error(t)}function sy(t){Yu(t)}function Xu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function oy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rd(t,r,s){return s=Si(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(t,r)},s}function ly(t){return t=Si(t),t.tag=3,t}function uy(t,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){oy(r,s,l)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){oy(r,s,l),typeof f!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var I=l.stack;this.componentDidCatch(l.value,{componentStack:I!==null?I:""})})}function qb(t,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&ko(r,s,f,!0),s=$n.current,s!==null){switch(s.tag){case 13:return br===null?Xd():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===td?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Zd(t,l,f)),!1;case 22:return s.flags|=65536,l===td?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Zd(t,l,f)),!1}throw Error(a(435,s.tag))}return Zd(t,l,f),Xd(),!1}if(tt)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Kf&&(t=Error(a(422),{cause:l}),Po(qn(t,s)))):(l!==Kf&&(r=Error(a(423),{cause:l}),Po(qn(r,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=qn(l,s),f=Rd(t.stateNode,l,f),id(t,f),Tt!==4&&(Tt=2)),!1;var m=Error(a(520),{cause:l});if(m=qn(m,s),nl===null?nl=[m]:nl.push(m),Tt!==4&&(Tt=2),r===null)return!0;l=qn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Rd(s.stateNode,l,t),id(s,t),!1;case 1:if(r=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Di===null||!Di.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=ly(f),uy(f,t,s,l),id(s,f),!1}s=s.return}while(s!==null);return!1}var cy=Error(a(461)),$t=!1;function nn(t,r,s,l){r.child=t===null?ey(r,null,s,l):Rs(r,t.child,s,l)}function fy(t,r,s,l,f){s=s.render;var m=r.ref;if("ref"in l){var A={};for(var I in l)I!=="ref"&&(A[I]=l[I])}else A=l;return Ra(r),l=ud(t,r,s,A,m,f),I=cd(),t!==null&&!$t?(fd(t,r,f),Zr(t,r,f)):(tt&&I&&Qf(r),r.flags|=1,nn(t,r,l,f),r.child)}function dy(t,r,s,l,f){if(t===null){var m=s.type;return typeof m=="function"&&!qf(m)&&m.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=m,hy(t,r,m,l,f)):(t=Nu(s.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Md(t,f)){var A=m.memoizedProps;if(s=s.compare,s=s!==null?s:Io,s(A,l)&&t.ref===r.ref)return Zr(t,r,f)}return r.flags|=1,t=Gr(m,l),t.ref=r.ref,t.return=r,r.child=t}function hy(t,r,s,l,f){if(t!==null){var m=t.memoizedProps;if(Io(m,l)&&t.ref===r.ref)if($t=!1,r.pendingProps=l=m,Md(t,f))(t.flags&131072)!==0&&($t=!0);else return r.lanes=t.lanes,Zr(t,r,f)}return xd(t,r,s,l,f)}function my(t,r,s){var l=r.pendingProps,f=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|s:s,t!==null){for(f=r.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return py(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(r,m!==null?m.cachePool:null),m!==null?hg(r,m):sd(),ty(r);else return r.lanes=r.childLanes=536870912,py(t,r,m!==null?m.baseLanes|s:s,s)}else m!==null?(Mu(r,m.cachePool),hg(r,m),Ri(),r.memoizedState=null):(t!==null&&Mu(r,null),sd(),Ri());return nn(t,r,f,s),r.child}function py(t,r,s,l){var f=ed();return f=f===null?null:{parent:Ht._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},t!==null&&Mu(r,null),sd(),ty(r),t!==null&&ko(t,r,l,!0),null}function Wu(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function xd(t,r,s,l,f){return Ra(r),s=ud(t,r,s,l,void 0,f),l=cd(),t!==null&&!$t?(fd(t,r,f),Zr(t,r,f)):(tt&&l&&Qf(r),r.flags|=1,nn(t,r,s,f),r.child)}function gy(t,r,s,l,f,m){return Ra(r),r.updateQueue=null,s=pg(r,l,s,f),mg(t),l=cd(),t!==null&&!$t?(fd(t,r,m),Zr(t,r,m)):(tt&&l&&Qf(r),r.flags|=1,nn(t,r,s,m),r.child)}function yy(t,r,s,l,f){if(Ra(r),r.stateNode===null){var m=gs,A=s.contextType;typeof A=="object"&&A!==null&&(m=fn(A)),m=new s(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ad,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},nd(r),A=s.contextType,m.context=typeof A=="object"&&A!==null?fn(A):gs,m.state=r.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(Td(r,s,A,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(A=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),A!==m.state&&Ad.enqueueReplaceState(m,m.state,null),qo(r,l,m,f),Ho(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var I=r.memoizedProps,q=Na(s,I);m.props=q;var te=m.context,ue=s.contextType;A=gs,typeof ue=="object"&&ue!==null&&(A=fn(ue));var de=s.getDerivedStateFromProps;ue=typeof de=="function"||typeof m.getSnapshotBeforeUpdate=="function",I=r.pendingProps!==I,ue||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(I||te!==A)&&ry(r,m,l,A),Ei=!1;var ie=r.memoizedState;m.state=ie,qo(r,l,m,f),Ho(),te=r.memoizedState,I||ie!==te||Ei?(typeof de=="function"&&(Td(r,s,de,l),te=r.memoizedState),(q=Ei||ny(r,s,q,l,ie,te,A))?(ue||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=te),m.props=l,m.state=te,m.context=A,l=q):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,rd(t,r),A=r.memoizedProps,ue=Na(s,A),m.props=ue,de=r.pendingProps,ie=m.context,te=s.contextType,q=gs,typeof te=="object"&&te!==null&&(q=fn(te)),I=s.getDerivedStateFromProps,(te=typeof I=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A!==de||ie!==q)&&ry(r,m,l,q),Ei=!1,ie=r.memoizedState,m.state=ie,qo(r,l,m,f),Ho();var se=r.memoizedState;A!==de||ie!==se||Ei||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof I=="function"&&(Td(r,s,I,l),se=r.memoizedState),(ue=Ei||ny(r,s,ue,l,ie,se,q)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(te||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,se,q),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,se,q)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||A===t.memoizedProps&&ie===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ie===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=se),m.props=l,m.state=se,m.context=q,l=ue):(typeof m.componentDidUpdate!="function"||A===t.memoizedProps&&ie===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ie===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,Wu(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=Rs(r,t.child,null,f),r.child=Rs(r,null,s,f)):nn(t,r,s,f),r.memoizedState=m.state,t=r.child):t=Zr(t,r,f),t}function vy(t,r,s,l){return Mo(),r.flags|=256,nn(t,r,s,l),r.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:ag()}}function Od(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Kn),t}function _y(t,r,s){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,A;if((A=m)||(A=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),A&&(f=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,t===null){if(tt){if(f?Ai(r):Ri(),tt){var I=wt,q;if(q=I){e:{for(q=I,I=_r;q.nodeType!==8;){if(!I){I=null;break e}if(q=ir(q.nextSibling),q===null){I=null;break e}}I=q}I!==null?(r.memoizedState={dehydrated:I,treeContext:Ea!==null?{id:Qr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},q=On(18,null,null,0),q.stateNode=I,q.return=r,r.child=q,En=r,wt=null,q=!0):q=!1}q||Ta(r)}if(I=r.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return hh(I)?r.lanes=32:r.lanes=536870912,null;Wr(r)}return I=l.children,l=l.fallback,f?(Ri(),f=r.mode,I=Zu({mode:"hidden",children:I},f),l=ba(l,f,s,null),I.return=r,l.return=r,I.sibling=l,r.child=I,f=r.child,f.memoizedState=Nd(s),f.childLanes=Od(t,A,s),r.memoizedState=Cd,l):(Ai(r),Id(r,I))}if(q=t.memoizedState,q!==null&&(I=q.dehydrated,I!==null)){if(m)r.flags&256?(Ai(r),r.flags&=-257,r=Dd(t,r,s)):r.memoizedState!==null?(Ri(),r.child=t.child,r.flags|=128,r=null):(Ri(),f=l.fallback,I=r.mode,l=Zu({mode:"visible",children:l.children},I),f=ba(f,I,s,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Rs(r,t.child,null,s),l=r.child,l.memoizedState=Nd(s),l.childLanes=Od(t,A,s),r.memoizedState=Cd,r=f);else if(Ai(r),hh(I)){if(A=I.nextSibling&&I.nextSibling.dataset,A)var te=A.dgst;A=te,l=Error(a(419)),l.stack="",l.digest=A,Po({value:l,source:null,stack:null}),r=Dd(t,r,s)}else if($t||ko(t,r,s,!1),A=(s&t.childLanes)!==0,$t||A){if(A=ft,A!==null&&(l=s&-s,l=(l&42)!==0?1:hi(l),l=(l&(A.suspendedLanes|s))!==0?0:l,l!==0&&l!==q.retryLane))throw q.retryLane=l,ps(t,l),Pn(A,t,l),cy;I.data==="$?"||Xd(),r=Dd(t,r,s)}else I.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=q.treeContext,wt=ir(I.nextSibling),En=r,tt=!0,wa=null,_r=!1,t!==null&&(Gn[Qn++]=Qr,Gn[Qn++]=$r,Gn[Qn++]=Ea,Qr=t.id,$r=t.overflow,Ea=r),r=Id(r,l.children),r.flags|=4096);return r}return f?(Ri(),f=l.fallback,I=r.mode,q=t.child,te=q.sibling,l=Gr(q,{mode:"hidden",children:l.children}),l.subtreeFlags=q.subtreeFlags&65011712,te!==null?f=Gr(te,f):(f=ba(f,I,s,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,I=t.child.memoizedState,I===null?I=Nd(s):(q=I.cachePool,q!==null?(te=Ht._currentValue,q=q.parent!==te?{parent:te,pool:te}:q):q=ag(),I={baseLanes:I.baseLanes|s,cachePool:q}),f.memoizedState=I,f.childLanes=Od(t,A,s),r.memoizedState=Cd,l):(Ai(r),s=t.child,t=s.sibling,s=Gr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(A=r.deletions,A===null?(r.deletions=[t],r.flags|=16):A.push(t)),r.child=s,r.memoizedState=null,s)}function Id(t,r){return r=Zu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Zu(t,r){return t=On(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Dd(t,r,s){return Rs(r,t.child,null,s),t=Id(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function by(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Xf(t.return,r,s)}function jd(t,r,s,l,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=f)}function Ey(t,r,s){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(nn(t,r,l.children,s),l=qt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,s,r);else if(t.tag===19)by(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(qt,l),f){case"forwards":for(s=r.child,f=null;s!==null;)t=s.alternate,t!==null&&Ku(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),jd(r,!1,f,s,m);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ku(t)===null){r.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}jd(r,!0,s,null,m);break;case"together":jd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Ii|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(ko(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=Gr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Gr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Md(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function Fb(t,r,s){switch(r.tag){case 3:Se(r,r.stateNode.containerInfo),bi(r,Ht,t.memoizedState.cache),Mo();break;case 27:case 5:Pe(r);break;case 4:Se(r,r.stateNode.containerInfo);break;case 10:bi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ai(r),r.flags|=128,null):(s&r.child.childLanes)!==0?_y(t,r,s):(Ai(r),t=Zr(t,r,s),t!==null?t.sibling:null);Ai(r);break;case 19:var f=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(ko(t,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return Ey(t,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(qt,qt.current),l)break;return null;case 22:case 23:return r.lanes=0,my(t,r,s);case 24:bi(r,Ht,t.memoizedState.cache)}return Zr(t,r,s)}function Sy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)$t=!0;else{if(!Md(t,s)&&(r.flags&128)===0)return $t=!1,Fb(t,r,s);$t=(t.flags&131072)!==0}else $t=!1,tt&&(r.flags&1048576)!==0&&Zp(r,Iu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")qf(l)?(t=Na(l,t),r.tag=1,r=yy(null,r,l,t,s)):(r.tag=0,r=xd(null,r,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===re){r.tag=11,r=fy(null,r,l,t,s);break e}else if(f===N){r.tag=14,r=dy(null,r,l,t,s);break e}}throw r=Z(l)||l,Error(a(306,r,""))}}return r;case 0:return xd(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=Na(l,r.pendingProps),yy(t,r,l,f,s);case 3:e:{if(Se(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,rd(t,r),qo(r,l,null,s);var A=r.memoizedState;if(l=A.cache,bi(r,Ht,l),l!==m.cache&&Wf(r,[Ht],s,!0),Ho(),l=A.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=vy(t,r,l,s);break e}else if(l!==f){f=qn(Error(a(424)),r),Po(f),r=vy(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=ir(t.firstChild),En=r,tt=!0,wa=null,_r=!0,s=ey(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Mo(),l===f){r=Zr(t,r,s);break e}nn(t,r,l,s)}r=r.child}return r;case 26:return Wu(t,r),t===null?(s=Rv(r.type,null,r.pendingProps,null))?r.memoizedState=s:tt||(s=r.type,t=r.pendingProps,l=dc(le.current).createElement(s),l[zt]=r,l[Dt]=t,an(l,s,t),xt(l),r.stateNode=l):r.memoizedState=Rv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Pe(r),t===null&&tt&&(l=r.stateNode=wv(r.type,r.pendingProps,le.current),En=r,_r=!0,f=wt,Pi(r.type)?(mh=f,wt=ir(l.firstChild)):wt=f),nn(t,r,r.pendingProps.children,s),Wu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&tt&&((f=l=wt)&&(l=vE(l,r.type,r.pendingProps,_r),l!==null?(r.stateNode=l,En=r,wt=ir(l.firstChild),_r=!1,f=!0):f=!1),f||Ta(r)),Pe(r),f=r.type,m=r.pendingProps,A=t!==null?t.memoizedProps:null,l=m.children,ch(f,m)?l=null:A!==null&&ch(f,A)&&(r.flags|=32),r.memoizedState!==null&&(f=ud(t,r,kb,null,null,s),fl._currentValue=f),Wu(t,r),nn(t,r,l,s),r.child;case 6:return t===null&&tt&&((t=s=wt)&&(s=_E(s,r.pendingProps,_r),s!==null?(r.stateNode=s,En=r,wt=null,t=!0):t=!1),t||Ta(r)),null;case 13:return _y(t,r,s);case 4:return Se(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Rs(r,null,l,s):nn(t,r,l,s),r.child;case 11:return fy(t,r,r.type,r.pendingProps,s);case 7:return nn(t,r,r.pendingProps,s),r.child;case 8:return nn(t,r,r.pendingProps.children,s),r.child;case 12:return nn(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,bi(r,r.type,l.value),nn(t,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ra(r),f=fn(f),l=l(f),r.flags|=1,nn(t,r,l,s),r.child;case 14:return dy(t,r,r.type,r.pendingProps,s);case 15:return hy(t,r,r.type,r.pendingProps,s);case 19:return Ey(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=Zu(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Gr(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return my(t,r,s);case 24:return Ra(r),l=fn(Ht),t===null?(f=ed(),f===null&&(f=ft,m=Zf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),r.memoizedState={parent:l,cache:f},nd(r),bi(r,Ht,f)):((t.lanes&s)!==0&&(rd(t,r),qo(r,null,null,s),Ho()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),bi(r,Ht,l)):(l=m.cache,bi(r,Ht,l),l!==f.cache&&Wf(r,[Ht],s,!0))),nn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Jr(t){t.flags|=4}function wy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Iv(r)){if(r=$n.current,r!==null&&((Xe&4194048)===Xe?br!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||r!==br))throw Uo=td,sg;t.flags|=8192}}function Ju(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ho():536870912,t.lanes|=r,Os|=r)}function Xo(t,r){if(!tt)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function Gb(t,r,s){var l=r.pendingProps;switch($f(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return bt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yr(Ht),Oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(jo(r)?Jr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,tg())),bt(r),null;case 26:return s=r.memoizedState,t===null?(Jr(r),s!==null?(bt(r),wy(r,s)):(bt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Jr(r),bt(r),wy(r,s)):(bt(r),r.flags&=-16777217):(t.memoizedProps!==l&&Jr(r),bt(r),r.flags&=-16777217),null;case 27:ze(r),s=le.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Jr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return bt(r),null}t=ae.current,jo(r)?Jp(r):(t=wv(f,l,s),r.stateNode=t,Jr(r))}return bt(r),null;case 5:if(ze(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Jr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return bt(r),null}if(t=ae.current,jo(r))Jp(r);else{switch(f=dc(le.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[zt]=r,t[Dt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(an(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Jr(r)}}return bt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Jr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=le.current,jo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,f=En,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[zt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||gv(t.nodeValue,s)),t||Ta(r)}else t=dc(t).createTextNode(l),t[zt]=r,r.stateNode=t}return bt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=jo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[zt]=r}else Mo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),f=!1}else f=tg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Wr(r),r):(Wr(r),null)}if(Wr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),Ju(r,r.updateQueue),bt(r),null;case 4:return Oe(),t===null&&ah(r.stateNode.containerInfo),bt(r),null;case 10:return Yr(r.type),bt(r),null;case 19:if($(qt),f=r.memoizedState,f===null)return bt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Xo(f,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Ku(t),m!==null){for(r.flags|=128,Xo(f,!1),t=m.updateQueue,r.updateQueue=t,Ju(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Wp(s,t),s=s.sibling;return W(qt,qt.current&1|2),r.child}t=t.sibling}f.tail!==null&&xe()>nc&&(r.flags|=128,l=!0,Xo(f,!1),r.lanes=4194304)}else{if(!l)if(t=Ku(m),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ju(r,t),Xo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!tt)return bt(r),null}else 2*xe()-f.renderingStartTime>nc&&s!==536870912&&(r.flags|=128,l=!0,Xo(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(t=f.last,t!==null?t.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=xe(),r.sibling=null,t=qt.current,W(qt,l?t&1|2:t&1),r):(bt(r),null);case 22:case 23:return Wr(r),od(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),s=r.updateQueue,s!==null&&Ju(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&$(xa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Yr(Ht),bt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function Qb(t,r){switch($f(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Yr(Ht),Oe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ze(r),null;case 13:if(Wr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Mo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return $(qt),null;case 4:return Oe(),null;case 10:return Yr(r.type),null;case 22:case 23:return Wr(r),od(),t!==null&&$(xa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Yr(Ht),null;case 25:return null;default:return null}}function Ty(t,r){switch($f(r),r.tag){case 3:Yr(Ht),Oe();break;case 26:case 27:case 5:ze(r);break;case 4:Oe();break;case 13:Wr(r);break;case 19:$(qt);break;case 10:Yr(r.type);break;case 22:case 23:Wr(r),od(),t!==null&&$(xa);break;case 24:Yr(Ht)}}function Wo(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var m=s.create,A=s.inst;l=m(),A.destroy=l}s=s.next}while(s!==f)}}catch(I){ct(r,r.return,I)}}function xi(t,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var A=l.inst,I=A.destroy;if(I!==void 0){A.destroy=void 0,f=r;var q=s,te=I;try{te()}catch(ue){ct(f,q,ue)}}}l=l.next}while(l!==m)}}catch(ue){ct(r,r.return,ue)}}function Ay(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{dg(r,s)}catch(l){ct(t,t.return,l)}}}function Ry(t,r,s){s.props=Na(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ct(t,r,l)}}function Zo(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){ct(t,r,f)}}function Er(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){ct(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ct(t,r,f)}else s.current=null}function xy(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){ct(t,t.return,f)}}function Pd(t,r,s){try{var l=t.stateNode;hE(l,t.type,s,r),l[Dt]=r}catch(f){ct(t,t.return,f)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=fc));else if(l!==4&&(l===27&&Pi(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Vd(t,r,s),t=t.sibling;t!==null;)Vd(t,r,s),t=t.sibling}function ec(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&Pi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ec(t,r,s),t=t.sibling;t!==null;)ec(t,r,s),t=t.sibling}function Ny(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,l,s),r[zt]=t,r[Dt]=s}catch(m){ct(t,t.return,m)}}var ei=!1,Nt=!1,Ld=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function $b(t,r){if(t=t.containerInfo,lh=vc,t=Bp(t),kf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var A=0,I=-1,q=-1,te=0,ue=0,de=t,ie=null;t:for(;;){for(var se;de!==s||f!==0&&de.nodeType!==3||(I=A+f),de!==m||l!==0&&de.nodeType!==3||(q=A+l),de.nodeType===3&&(A+=de.nodeValue.length),(se=de.firstChild)!==null;)ie=de,de=se;for(;;){if(de===t)break t;if(ie===s&&++te===f&&(I=A),ie===m&&++ue===l&&(q=A),(se=de.nextSibling)!==null)break;de=ie,ie=de.parentNode}de=se}s=I===-1||q===-1?null:{start:I,end:q}}else s=null}s=s||{start:0,end:0}}else s=null;for(uh={focusedElem:t,selectionRange:s},vc=!1,Kt=r;Kt!==null;)if(r=Kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Kt=t;else for(;Kt!==null;){switch(r=Kt,m=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=r,f=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var Ne=Na(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ne,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){ct(s,s.return,Re)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)dh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Kt=t;break}Kt=r.return}}function Iy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ci(t,s),l&4&&Wo(5,s);break;case 1:if(Ci(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(A){ct(s,s.return,A)}else{var f=Na(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(A){ct(s,s.return,A)}}l&64&&Ay(s),l&512&&Zo(s,s.return);break;case 3:if(Ci(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{dg(t,r)}catch(A){ct(s,s.return,A)}}break;case 27:r===null&&l&4&&Ny(s);case 26:case 5:Ci(t,s),r===null&&l&4&&xy(s),l&512&&Zo(s,s.return);break;case 12:Ci(t,s);break;case 13:Ci(t,s),l&4&&My(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=nE.bind(null,s),bE(t,s))));break;case 22:if(l=s.memoizedState!==null||ei,!l){r=r!==null&&r.memoizedState!==null||Nt,f=ei;var m=Nt;ei=l,(Nt=r)&&!m?Ni(t,s,(s.subtreeFlags&8772)!==0):Ci(t,s),ei=f,Nt=m}break;case 30:break;default:Ci(t,s)}}function Dy(t){var r=t.alternate;r!==null&&(t.alternate=null,Dy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&gi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,An=!1;function ti(t,r,s){for(s=s.child;s!==null;)jy(t,r,s),s=s.sibling}function jy(t,r,s){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(yt,s)}catch{}switch(s.tag){case 26:Nt||Er(s,r),ti(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||Er(s,r);var l=_t,f=An;Pi(s.type)&&(_t=s.stateNode,An=!1),ti(t,r,s),ol(s.stateNode),_t=l,An=f;break;case 5:Nt||Er(s,r);case 6:if(l=_t,f=An,_t=null,ti(t,r,s),_t=l,An=f,_t!==null)if(An)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(m){ct(s,r,m)}else try{_t.removeChild(s.stateNode)}catch(m){ct(s,r,m)}break;case 18:_t!==null&&(An?(t=_t,Ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),pl(t)):Ev(_t,s.stateNode));break;case 4:l=_t,f=An,_t=s.stateNode.containerInfo,An=!0,ti(t,r,s),_t=l,An=f;break;case 0:case 11:case 14:case 15:Nt||xi(2,s,r),Nt||xi(4,s,r),ti(t,r,s);break;case 1:Nt||(Er(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ry(s,r,l)),ti(t,r,s);break;case 21:ti(t,r,s);break;case 22:Nt=(l=Nt)||s.memoizedState!==null,ti(t,r,s),Nt=l;break;default:ti(t,r,s)}}function My(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pl(t)}catch(s){ct(r,r.return,s)}}function Kb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Oy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Oy),r;default:throw Error(a(435,t.tag))}}function zd(t,r){var s=Kb(t);r.forEach(function(l){var f=rE.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function In(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],m=t,A=r,I=A;e:for(;I!==null;){switch(I.tag){case 27:if(Pi(I.type)){_t=I.stateNode,An=!1;break e}break;case 5:_t=I.stateNode,An=!1;break e;case 3:case 4:_t=I.stateNode.containerInfo,An=!0;break e}I=I.return}if(_t===null)throw Error(a(160));jy(m,A,f),_t=null,An=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Py(r,t),r=r.sibling}var rr=null;function Py(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(r,t),Dn(t),l&4&&(xi(3,t,t.return),Wo(3,t),xi(5,t,t.return));break;case 1:In(r,t),Dn(t),l&512&&(Nt||s===null||Er(s,s.return)),l&64&&ei&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=rr;if(In(r,t),Dn(t),l&512&&(Nt||s===null||Er(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ia]||m[zt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),an(m,l,s),m[zt]=t,xt(m),l=m;break e;case"link":var A=Nv("link","href",f).get(l+(s.href||""));if(A){for(var I=0;I<A.length;I++)if(m=A[I],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(I,1);break t}}m=f.createElement(l),an(m,l,s),f.head.appendChild(m);break;case"meta":if(A=Nv("meta","content",f).get(l+(s.content||""))){for(I=0;I<A.length;I++)if(m=A[I],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(I,1);break t}}m=f.createElement(l),an(m,l,s),f.head.appendChild(m);break;default:throw Error(a(468,l))}m[zt]=t,xt(m),l=m}t.stateNode=l}else Ov(f,t.type,t.stateNode);else t.stateNode=Cv(f,l,t.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?Ov(f,t.type,t.stateNode):Cv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,s.memoizedProps)}break;case 27:In(r,t),Dn(t),l&512&&(Nt||s===null||Er(s,s.return)),s!==null&&l&4&&Pd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(In(r,t),Dn(t),l&512&&(Nt||s===null||Er(s,s.return)),t.flags&32){f=t.stateNode;try{zn(f,"")}catch(se){ct(t,t.return,se)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Pd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(Ld=!0);break;case 6:if(In(r,t),Dn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(se){ct(t,t.return,se)}}break;case 3:if(pc=null,f=rr,rr=hc(r.containerInfo),In(r,t),rr=f,Dn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{pl(r.containerInfo)}catch(se){ct(t,t.return,se)}Ld&&(Ld=!1,ky(t));break;case 4:l=rr,rr=hc(t.stateNode.containerInfo),In(r,t),Dn(t),rr=l;break;case 12:In(r,t),Dn(t);break;case 13:In(r,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gd=xe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zd(t,l)));break;case 22:f=t.memoizedState!==null;var q=s!==null&&s.memoizedState!==null,te=ei,ue=Nt;if(ei=te||f,Nt=ue||q,In(r,t),Nt=ue,ei=te,Dn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||q||ei||Nt||Oa(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){q=s=r;try{if(m=q.stateNode,f)A=m.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{I=q.stateNode;var de=q.memoizedProps.style,ie=de!=null&&de.hasOwnProperty("display")?de.display:null;I.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(se){ct(q,q.return,se)}}}else if(r.tag===6){if(s===null){q=r;try{q.stateNode.nodeValue=f?"":q.memoizedProps}catch(se){ct(q,q.return,se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,zd(t,s))));break;case 19:In(r,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zd(t,l)));break;case 30:break;case 21:break;default:In(r,t),Dn(t)}}function Dn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(Cy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=kd(t);ec(t,m,f);break;case 5:var A=s.stateNode;s.flags&32&&(zn(A,""),s.flags&=-33);var I=kd(t);ec(t,I,A);break;case 3:case 4:var q=s.stateNode.containerInfo,te=kd(t);Vd(t,te,q);break;default:throw Error(a(161))}}catch(ue){ct(t,t.return,ue)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ky(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ci(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Iy(t,r.alternate,r),r=r.sibling}function Oa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:xi(4,r,r.return),Oa(r);break;case 1:Er(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Ry(r,r.return,s),Oa(r);break;case 27:ol(r.stateNode);case 26:case 5:Er(r,r.return),Oa(r);break;case 22:r.memoizedState===null&&Oa(r);break;case 30:Oa(r);break;default:Oa(r)}t=t.sibling}}function Ni(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,A=m.flags;switch(m.tag){case 0:case 11:case 15:Ni(f,m,s),Wo(4,m);break;case 1:if(Ni(f,m,s),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(te){ct(l,l.return,te)}if(l=m,f=l.updateQueue,f!==null){var I=l.stateNode;try{var q=f.shared.hiddenCallbacks;if(q!==null)for(f.shared.hiddenCallbacks=null,f=0;f<q.length;f++)fg(q[f],I)}catch(te){ct(l,l.return,te)}}s&&A&64&&Ay(m),Zo(m,m.return);break;case 27:Ny(m);case 26:case 5:Ni(f,m,s),s&&l===null&&A&4&&xy(m),Zo(m,m.return);break;case 12:Ni(f,m,s);break;case 13:Ni(f,m,s),s&&A&4&&My(f,m);break;case 22:m.memoizedState===null&&Ni(f,m,s),Zo(m,m.return);break;case 30:break;default:Ni(f,m,s)}r=r.sibling}}function Ud(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Vo(s))}function Bd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Vo(t))}function Sr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vy(t,r,s,l),r=r.sibling}function Vy(t,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Sr(t,r,s,l),f&2048&&Wo(9,r);break;case 1:Sr(t,r,s,l);break;case 3:Sr(t,r,s,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Vo(t)));break;case 12:if(f&2048){Sr(t,r,s,l),t=r.stateNode;try{var m=r.memoizedProps,A=m.id,I=m.onPostCommit;typeof I=="function"&&I(A,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){ct(r,r.return,q)}}else Sr(t,r,s,l);break;case 13:Sr(t,r,s,l);break;case 23:break;case 22:m=r.stateNode,A=r.alternate,r.memoizedState!==null?m._visibility&2?Sr(t,r,s,l):Jo(t,r):m._visibility&2?Sr(t,r,s,l):(m._visibility|=2,xs(t,r,s,l,(r.subtreeFlags&10256)!==0)),f&2048&&Ud(A,r);break;case 24:Sr(t,r,s,l),f&2048&&Bd(r.alternate,r);break;default:Sr(t,r,s,l)}}function xs(t,r,s,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=t,A=r,I=s,q=l,te=A.flags;switch(A.tag){case 0:case 11:case 15:xs(m,A,I,q,f),Wo(8,A);break;case 23:break;case 22:var ue=A.stateNode;A.memoizedState!==null?ue._visibility&2?xs(m,A,I,q,f):Jo(m,A):(ue._visibility|=2,xs(m,A,I,q,f)),f&&te&2048&&Ud(A.alternate,A);break;case 24:xs(m,A,I,q,f),f&&te&2048&&Bd(A.alternate,A);break;default:xs(m,A,I,q,f)}r=r.sibling}}function Jo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,f=l.flags;switch(l.tag){case 22:Jo(s,l),f&2048&&Ud(l.alternate,l);break;case 24:Jo(s,l),f&2048&&Bd(l.alternate,l);break;default:Jo(s,l)}r=r.sibling}}var el=8192;function Cs(t){if(t.subtreeFlags&el)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 26:Cs(t),t.flags&el&&t.memoizedState!==null&&jE(rr,t.memoizedState,t.memoizedProps);break;case 5:Cs(t);break;case 3:case 4:var r=rr;rr=hc(t.stateNode.containerInfo),Cs(t),rr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=el,el=16777216,Cs(t),el=r):Cs(t));break;default:Cs(t)}}function zy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Kt=l,By(l,t)}zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&xi(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,tc(t)):tl(t);break;default:tl(t)}}function tc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Kt=l,By(l,t)}zy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:xi(8,r,r.return),tc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,tc(r));break;default:tc(r)}t=t.sibling}}function By(t,r){for(;Kt!==null;){var s=Kt;switch(s.tag){case 0:case 11:case 15:xi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Kt=l;else e:for(s=t;Kt!==null;){l=Kt;var f=l.sibling,m=l.return;if(Dy(l),l===s){Kt=null;break e}if(f!==null){f.return=m,Kt=f;break e}Kt=m}}}var Yb={getCacheForType:function(t){var r=fn(Ht),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},Xb=typeof WeakMap=="function"?WeakMap:Map,rt=0,ft=null,qe=null,Xe=0,it=0,jn=null,Oi=!1,Ns=!1,Hd=!1,ni=0,Tt=0,Ii=0,Ia=0,qd=0,Kn=0,Os=0,nl=null,Rn=null,Fd=!1,Gd=0,nc=1/0,rc=null,Di=null,rn=0,ji=null,Is=null,Ds=0,Qd=0,$d=null,Hy=null,rl=0,Kd=null;function Mn(){if((rt&2)!==0&&Xe!==0)return Xe&-Xe;if(Q.T!==null){var t=_s;return t!==0?t:th()}return mi()}function qy(){Kn===0&&(Kn=(Xe&536870912)===0||tt?fo():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Kn}function Pn(t,r,s){(t===ft&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(js(t,0),Mi(t,Xe,Kn,!1)),Mr(t,s),((rt&2)===0||t!==ft)&&(t===ft&&((rt&2)===0&&(Ia|=s),Tt===4&&Mi(t,Xe,Kn,!1)),wr(t))}function Fy(t,r,s){if((rt&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||ra(t,r),f=l?Jb(t,r):Wd(t,r,!0),m=l;do{if(f===0){Ns&&!l&&Mi(t,r,0,!1);break}else{if(s=t.current.alternate,m&&!Wb(s)){f=Wd(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var I=t;f=nl;var q=I.current.memoizedState.isDehydrated;if(q&&(js(I,A).flags|=256),A=Wd(I,A,!1),A!==2){if(Hd&&!q){I.errorRecoveryDisabledLanes|=m,Ia|=m,f=4;break e}m=Rn,Rn=f,m!==null&&(Rn===null?Rn=m:Rn.push.apply(Rn,m))}f=A}if(m=!1,f!==2)continue}}if(f===1){js(t,0),Mi(t,r,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Mi(l,r,Kn,!Oi);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=Gd+300-xe(),10<f)){if(Mi(l,r,Kn,!Oi),Xa(l,0,!0)!==0)break e;l.timeoutHandle=_v(Gy.bind(null,l,s,Rn,rc,Fd,r,Kn,Ia,Os,Oi,m,2,-0,0),f);break e}Gy(l,s,Rn,rc,Fd,r,Kn,Ia,Os,Oi,m,0,-0,0)}}break}while(!0);wr(t)}function Gy(t,r,s,l,f,m,A,I,q,te,ue,de,ie,se){if(t.timeoutHandle=-1,de=r.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:DE},Ly(r),de=ME(),de!==null)){t.cancelPendingCommit=de(Zy.bind(null,t,r,m,s,l,f,A,I,q,ue,1,ie,se)),Mi(t,m,A,!te);return}Zy(t,r,m,s,l,f,A,I,q)}function Wb(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],m=f.getSnapshot;f=f.value;try{if(!Nn(m(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mi(t,r,s,l){r&=~qd,r&=~Ia,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-cn(f),A=1<<m;l[m]=-1,f&=~A}s!==0&&lr(t,s,r)}function ic(){return(rt&6)===0?(il(0),!1):!0}function Yd(){if(qe!==null){if(it===0)var t=qe.return;else t=qe,Kr=Aa=null,dd(t),As=null,Ko=0,t=qe;for(;t!==null;)Ty(t.alternate,t),t=t.return;qe=null}}function js(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,pE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Yd(),ft=t,qe=s=Gr(t.current,null),Xe=r,it=0,jn=null,Oi=!1,Ns=ra(t,r),Hd=!1,Os=Kn=qd=Ia=Ii=Tt=0,Rn=nl=null,Fd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-cn(l),m=1<<f;r|=t[f],l&=~m}return ni=r,Ru(),s}function Qy(t,r){Le=null,Q.H=Gu,r===zo||r===Pu?(r=ug(),it=3):r===sg?(r=ug(),it=4):it=r===cy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,qe===null&&(Tt=1,Xu(t,qn(r,t.current)))}function $y(){var t=Q.H;return Q.H=Gu,t===null?Gu:t}function Ky(){var t=Q.A;return Q.A=Yb,t}function Xd(){Tt=4,Oi||(Xe&4194048)!==Xe&&$n.current!==null||(Ns=!0),(Ii&134217727)===0&&(Ia&134217727)===0||ft===null||Mi(ft,Xe,Kn,!1)}function Wd(t,r,s){var l=rt;rt|=2;var f=$y(),m=Ky();(ft!==t||Xe!==r)&&(rc=null,js(t,r)),r=!1;var A=Tt;e:do try{if(it!==0&&qe!==null){var I=qe,q=jn;switch(it){case 8:Yd(),A=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var te=it;if(it=0,jn=null,Ms(t,I,q,te),s&&Ns){A=0;break e}break;default:te=it,it=0,jn=null,Ms(t,I,q,te)}}Zb(),A=Tt;break}catch(ue){Qy(t,ue)}while(!0);return r&&t.shellSuspendCounter++,Kr=Aa=null,rt=l,Q.H=f,Q.A=m,qe===null&&(ft=null,Xe=0,Ru()),A}function Zb(){for(;qe!==null;)Yy(qe)}function Jb(t,r){var s=rt;rt|=2;var l=$y(),f=Ky();ft!==t||Xe!==r?(rc=null,nc=xe()+500,js(t,r)):Ns=ra(t,r);e:do try{if(it!==0&&qe!==null){r=qe;var m=jn;t:switch(it){case 1:it=0,jn=null,Ms(t,r,m,1);break;case 2:case 9:if(og(m)){it=0,jn=null,Xy(r);break}r=function(){it!==2&&it!==9||ft!==t||(it=7),wr(t)},m.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:og(m)?(it=0,jn=null,Xy(r)):(it=0,jn=null,Ms(t,r,m,7));break;case 5:var A=null;switch(qe.tag){case 26:A=qe.memoizedState;case 5:case 27:var I=qe;if(!A||Iv(A)){it=0,jn=null;var q=I.sibling;if(q!==null)qe=q;else{var te=I.return;te!==null?(qe=te,ac(te)):qe=null}break t}}it=0,jn=null,Ms(t,r,m,5);break;case 6:it=0,jn=null,Ms(t,r,m,6);break;case 8:Yd(),Tt=6;break e;default:throw Error(a(462))}}eE();break}catch(ue){Qy(t,ue)}while(!0);return Kr=Aa=null,Q.H=l,Q.A=f,rt=s,qe!==null?0:(ft=null,Xe=0,Ru(),Tt)}function eE(){for(;qe!==null&&!Ge();)Yy(qe)}function Yy(t){var r=Sy(t.alternate,t,ni);t.memoizedProps=t.pendingProps,r===null?ac(t):qe=r}function Xy(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=gy(s,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=gy(s,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:dd(r);default:Ty(s,r),r=qe=Wp(r,ni),r=Sy(s,r,ni)}t.memoizedProps=t.pendingProps,r===null?ac(t):qe=r}function Ms(t,r,s,l){Kr=Aa=null,dd(r),As=null,Ko=0;var f=r.return;try{if(qb(t,f,r,s,Xe)){Tt=1,Xu(t,qn(s,t.current)),qe=null;return}}catch(m){if(f!==null)throw qe=f,m;Tt=1,Xu(t,qn(s,t.current)),qe=null;return}r.flags&32768?(tt||l===1?t=!0:Ns||(Xe&536870912)!==0?t=!1:(Oi=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wy(r,t)):ac(r)}function ac(t){var r=t;do{if((r.flags&32768)!==0){Wy(r,Oi);return}t=r.return;var s=Gb(r.alternate,r,ni);if(s!==null){qe=s;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=t}while(r!==null);Tt===0&&(Tt=5)}function Wy(t,r){do{var s=Qb(t.alternate,t);if(s!==null){s.flags&=32767,qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){qe=t;return}qe=t=s}while(t!==null);Tt=6,qe=null}function Zy(t,r,s,l,f,m,A,I,q){t.cancelPendingCommit=null;do sc();while(rn!==0);if((rt&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(m=r.lanes|r.childLanes,m|=Bf,mo(t,s,m,A,I,q),t===ft&&(qe=ft=null,Xe=0),Is=r,ji=t,Ds=s,Qd=m,$d=f,Hy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iE(Rt,function(){return rv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=w.p,w.p=2,A=rt,rt|=4;try{$b(t,r,s)}finally{rt=A,w.p=f,Q.T=l}}rn=1,Jy(),ev(),tv()}}function Jy(){if(rn===1){rn=0;var t=ji,r=Is,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=w.p;w.p=2;var f=rt;rt|=4;try{Py(r,t);var m=uh,A=Bp(t.containerInfo),I=m.focusedElem,q=m.selectionRange;if(A!==I&&I&&I.ownerDocument&&Up(I.ownerDocument.documentElement,I)){if(q!==null&&kf(I)){var te=q.start,ue=q.end;if(ue===void 0&&(ue=te),"selectionStart"in I)I.selectionStart=te,I.selectionEnd=Math.min(ue,I.value.length);else{var de=I.ownerDocument||document,ie=de&&de.defaultView||window;if(ie.getSelection){var se=ie.getSelection(),Ne=I.textContent.length,Re=Math.min(q.start,Ne),ut=q.end===void 0?Re:Math.min(q.end,Ne);!se.extend&&Re>ut&&(A=ut,ut=Re,Re=A);var X=zp(I,Re),K=zp(I,ut);if(X&&K&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==K.node||se.focusOffset!==K.offset)){var ee=de.createRange();ee.setStart(X.node,X.offset),se.removeAllRanges(),Re>ut?(se.addRange(ee),se.extend(K.node,K.offset)):(ee.setEnd(K.node,K.offset),se.addRange(ee))}}}}for(de=[],se=I;se=se.parentNode;)se.nodeType===1&&de.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<de.length;I++){var fe=de[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}vc=!!lh,uh=lh=null}finally{rt=f,w.p=l,Q.T=s}}t.current=r,rn=2}}function ev(){if(rn===2){rn=0;var t=ji,r=Is,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=w.p;w.p=2;var f=rt;rt|=4;try{Iy(t,r.alternate,r)}finally{rt=f,w.p=l,Q.T=s}}rn=3}}function tv(){if(rn===4||rn===3){rn=0,ht();var t=ji,r=Is,s=Ds,l=Hy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?rn=5:(rn=0,Is=ji=null,nv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Di=null),Wa(s),r=r.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(yt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=w.p,w.p=2,Q.T=null;try{for(var m=t.onRecoverableError,A=0;A<l.length;A++){var I=l[A];m(I.value,{componentStack:I.stack})}}finally{Q.T=r,w.p=f}}(Ds&3)!==0&&sc(),wr(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===Kd?rl++:(rl=0,Kd=t):rl=0,il(0)}}function nv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Vo(r)))}function sc(t){return Jy(),ev(),tv(),rv()}function rv(){if(rn!==5)return!1;var t=ji,r=Qd;Qd=0;var s=Wa(Ds),l=Q.T,f=w.p;try{w.p=32>s?32:s,Q.T=null,s=$d,$d=null;var m=ji,A=Ds;if(rn=0,Is=ji=null,Ds=0,(rt&6)!==0)throw Error(a(331));var I=rt;if(rt|=4,Uy(m.current),Vy(m,m.current,A,s),rt=I,il(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(yt,m)}catch{}return!0}finally{w.p=f,Q.T=l,nv(t,r)}}function iv(t,r,s){r=qn(s,r),r=Rd(t.stateNode,r,2),t=wi(t,r,2),t!==null&&(Mr(t,2),wr(t))}function ct(t,r,s){if(t.tag===3)iv(t,t,s);else for(;r!==null;){if(r.tag===3){iv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Di===null||!Di.has(l))){t=qn(s,t),s=ly(2),l=wi(r,s,2),l!==null&&(uy(s,l,r,t),Mr(l,2),wr(l));break}}r=r.return}}function Zd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new Xb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(Hd=!0,f.add(s),t=tE.bind(null,t,r,s),r.then(t,t))}function tE(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ft===t&&(Xe&s)===s&&(Tt===4||Tt===3&&(Xe&62914560)===Xe&&300>xe()-Gd?(rt&2)===0&&js(t,0):qd|=s,Os===Xe&&(Os=0)),wr(t)}function av(t,r){r===0&&(r=ho()),t=ps(t,r),t!==null&&(Mr(t,r),wr(t))}function nE(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),av(t,s)}function rE(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),av(t,s)}function iE(t,r){return Ve(t,r)}var oc=null,Ps=null,Jd=!1,lc=!1,eh=!1,Da=0;function wr(t){t!==Ps&&t.next===null&&(Ps===null?oc=Ps=t:Ps=Ps.next=t),lc=!0,Jd||(Jd=!0,sE())}function il(t,r){if(!eh&&lc){eh=!0;do for(var s=!1,l=oc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var A=l.suspendedLanes,I=l.pingedLanes;m=(1<<31-cn(42|t)+1)-1,m&=f&~(A&~I),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,uv(l,m))}else m=Xe,m=Xa(l,l===ft?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ra(l,m)||(s=!0,uv(l,m));l=l.next}while(s);eh=!1}}function aE(){sv()}function sv(){lc=Jd=!1;var t=0;Da!==0&&(mE()&&(t=Da),Da=0);for(var r=xe(),s=null,l=oc;l!==null;){var f=l.next,m=ov(l,r);m===0?(l.next=null,s===null?oc=f:s.next=f,f===null&&(Ps=s)):(s=l,(t!==0||(m&3)!==0)&&(lc=!0)),l=f}il(t)}function ov(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var A=31-cn(m),I=1<<A,q=f[A];q===-1?((I&s)===0||(I&l)!==0)&&(f[A]=co(I,r)):q<=r&&(t.expiredLanes|=I),m&=~I}if(r=ft,s=Xe,s=Xa(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&je(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ra(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&je(l),Wa(s)){case 2:case 8:s=gt;break;case 32:s=Rt;break;case 268435456:s=Zn;break;default:s=Rt}return l=lv.bind(null,t),s=Ve(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&je(l),t.callbackPriority=2,t.callbackNode=null,2}function lv(t,r){if(rn!==0&&rn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(sc()&&t.callbackNode!==s)return null;var l=Xe;return l=Xa(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Fy(t,l,r),ov(t,xe()),t.callbackNode!=null&&t.callbackNode===s?lv.bind(null,t):null)}function uv(t,r){if(sc())return null;Fy(t,r,!0)}function sE(){gE(function(){(rt&6)!==0?Ve(pt,aE):sv()})}function th(){return Da===0&&(Da=fo()),Da}function cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rs(""+t)}function fv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function oE(t,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var m=cv((f[Dt]||null).action),A=l.submitter;A&&(r=(r=A[Dt]||null)?cv(r.formAction):A.getAttribute("formAction"),r!==null&&(m=r,A=null));var I=new is("action","action",null,l,f);t.push({event:I,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Da!==0){var q=A?fv(f,A):new FormData(f);Ed(s,{pending:!0,data:q,method:f.method,action:m},null,q)}}else typeof m=="function"&&(I.preventDefault(),q=A?fv(f,A):new FormData(f),Ed(s,{pending:!0,data:q,method:f.method,action:m},m,q))},currentTarget:f}]})}}for(var nh=0;nh<Uf.length;nh++){var rh=Uf[nh],lE=rh.toLowerCase(),uE=rh[0].toUpperCase()+rh.slice(1);nr(lE,"on"+uE)}nr(Fp,"onAnimationEnd"),nr(Gp,"onAnimationIteration"),nr(Qp,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(Rb,"onTransitionRun"),nr(xb,"onTransitionStart"),nr(Cb,"onTransitionCancel"),nr($p,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function dv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var A=l.length-1;0<=A;A--){var I=l[A],q=I.instance,te=I.currentTarget;if(I=I.listener,q!==m&&f.isPropagationStopped())break e;m=I,f.currentTarget=te;try{m(f)}catch(ue){Yu(ue)}f.currentTarget=null,m=q}else for(A=0;A<l.length;A++){if(I=l[A],q=I.instance,te=I.currentTarget,I=I.listener,q!==m&&f.isPropagationStopped())break e;m=I,f.currentTarget=te;try{m(f)}catch(ue){Yu(ue)}f.currentTarget=null,m=q}}}}function Fe(t,r){var s=r[go];s===void 0&&(s=r[go]=new Set);var l=t+"__bubble";s.has(l)||(hv(r,t,2,!1),s.add(l))}function ih(t,r,s){var l=0;r&&(l|=4),hv(s,t,l,r)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ah(t){if(!t[uc]){t[uc]=!0,yo.forEach(function(s){s!=="selectionchange"&&(cE.has(s)||ih(s,!1,t),ih(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[uc]||(r[uc]=!0,ih("selectionchange",!1,r))}}function hv(t,r,s,l){switch(Vv(r)){case 2:var f=VE;break;case 8:f=LE;break;default:f=_h}s=f.bind(null,r,s,t),f=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,s,{capture:!0,passive:f}):t.addEventListener(r,s,!0):f!==void 0?t.addEventListener(r,s,{passive:f}):t.addEventListener(r,s,!1)}function sh(t,r,s,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var A=l.tag;if(A===3||A===4){var I=l.stateNode.containerInfo;if(I===f)break;if(A===4)for(A=l.return;A!==null;){var q=A.tag;if((q===3||q===4)&&A.stateNode.containerInfo===f)return;A=A.return}for(;I!==null;){if(A=Pr(I),A===null)return;if(q=A.tag,q===5||q===6||q===26||q===27){l=m=A;continue e}I=I.parentNode}}l=l.return}fu(function(){var te=m,ue=Un(s),de=[];e:{var ie=Kp.get(t);if(ie!==void 0){var se=is,Ne=t;switch(t){case"keypress":if(mr(s)===0)break e;case"keydown":case"keyup":se=cs;break;case"focusin":Ne="focus",se=os;break;case"focusout":Ne="blur",se=os;break;case"beforeblur":case"afterblur":se=os;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=_u;break;case Fp:case Gp:case Qp:se=ls;break;case $p:se=Eu;break;case"scroll":case"scrollend":se=du;break;case"wheel":se=fs;break;case"copy":case"cut":case"paste":se=us;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=No;break;case"toggle":case"beforetoggle":se=wu}var Re=(r&4)!==0,ut=!Re&&(t==="scroll"||t==="scrollend"),X=Re?ie!==null?ie+"Capture":null:ie;Re=[];for(var K=te,ee;K!==null;){var fe=K;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||X===null||(fe=fa(K,X),fe!=null&&Re.push(sl(K,fe,ee))),ut)break;K=K.return}0<Re.length&&(ie=new se(ie,Ne,null,s,ue),de.push({event:ie,listeners:Re}))}}if((r&7)===0){e:{if(ie=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",ie&&s!==zr&&(Ne=s.relatedTarget||s.fromElement)&&(Pr(Ne)||Ne[Ln]))break e;if((se||ie)&&(ie=ue.window===ue?ue:(ie=ue.ownerDocument)?ie.defaultView||ie.parentWindow:window,se?(Ne=s.relatedTarget||s.toElement,se=te,Ne=Ne?Pr(Ne):null,Ne!==null&&(ut=u(Ne),Re=Ne.tag,Ne!==ut||Re!==5&&Re!==27&&Re!==6)&&(Ne=null)):(se=null,Ne=te),se!==Ne)){if(Re=Hn,fe="onMouseLeave",X="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(Re=No,fe="onPointerLeave",X="onPointerEnter",K="pointer"),ut=se==null?ie:cr(se),ee=Ne==null?ie:cr(Ne),ie=new Re(fe,K+"leave",se,s,ue),ie.target=ut,ie.relatedTarget=ee,fe=null,Pr(ue)===te&&(Re=new Re(X,K+"enter",Ne,s,ue),Re.target=ee,Re.relatedTarget=ut,fe=Re),ut=fe,se&&Ne)t:{for(Re=se,X=Ne,K=0,ee=Re;ee;ee=ks(ee))K++;for(ee=0,fe=X;fe;fe=ks(fe))ee++;for(;0<K-ee;)Re=ks(Re),K--;for(;0<ee-K;)X=ks(X),ee--;for(;K--;){if(Re===X||X!==null&&Re===X.alternate)break t;Re=ks(Re),X=ks(X)}Re=null}else Re=null;se!==null&&mv(de,ie,se,Re,!1),Ne!==null&&ut!==null&&mv(de,ut,Ne,Re,!0)}}e:{if(ie=te?cr(te):window,se=ie.nodeName&&ie.nodeName.toLowerCase(),se==="select"||se==="input"&&ie.type==="file")var Ee=jp;else if(Bt(ie))if(Mp)Ee=wb;else{Ee=Eb;var Be=bb}else se=ie.nodeName,!se||se.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&So(te.elementType)&&(Ee=jp):Ee=Sb;if(Ee&&(Ee=Ee(t,te))){Fr(de,Ee,s,ue);break e}Be&&Be(t,ie,te),t==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&vi(ie,"number",ie.value)}switch(Be=te?cr(te):window,t){case"focusin":(Bt(Be)||Be.contentEditable==="true")&&(ds=Be,Vf=te,Do=null);break;case"focusout":Do=Vf=ds=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Hp(de,s,ue);break;case"selectionchange":if(Ab)break;case"keydown":case"keyup":Hp(de,s,ue)}var Te;if(yr)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ke?oe(t,s)&&(Ce="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ce="onCompositionStart");Ce&&(T&&s.locale!=="ko"&&(Ke||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ke&&(Te=To()):(hr=ue,_i="value"in hr?hr.value:hr.textContent,Ke=!0)),Be=cc(te,Ce),0<Be.length&&(Ce=new xo(Ce,t,null,s,ue),de.push({event:Ce,listeners:Be}),Te?Ce.data=Te:(Te=ve(s),Te!==null&&(Ce.data=Te)))),(Te=v?Ut(t,s):Ye(t,s))&&(Ce=cc(te,"onBeforeInput"),0<Ce.length&&(Be=new xo("onBeforeInput","beforeinput",null,s,ue),de.push({event:Be,listeners:Ce}),Be.data=Te)),oE(de,t,te,s,ue)}dv(de,r)})}function sl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function cc(t,r){for(var s=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=fa(t,s),f!=null&&l.unshift(sl(t,f,m)),f=fa(t,r),f!=null&&l.push(sl(t,f,m))),t.tag===3)return l;t=t.return}return[]}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mv(t,r,s,l,f){for(var m=r._reactName,A=[];s!==null&&s!==l;){var I=s,q=I.alternate,te=I.stateNode;if(I=I.tag,q!==null&&q===l)break;I!==5&&I!==26&&I!==27||te===null||(q=te,f?(te=fa(s,m),te!=null&&A.unshift(sl(s,te,q))):f||(te=fa(s,m),te!=null&&A.push(sl(s,te,q)))),s=s.return}A.length!==0&&t.push({event:r,listeners:A})}var fE=/\r\n?/g,dE=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(fE,`
`).replace(dE,"")}function gv(t,r){return r=pv(r),pv(t)===r}function fc(){}function lt(t,r,s,l,f,m){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||zn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&zn(t,""+l);break;case"className":fr(t,"class",l);break;case"tabIndex":fr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(t,s,l);break;case"style":Eo(t,l,m);break;case"data":if(r!=="object"){fr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=rs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(r!=="input"&&lt(t,r,"name",f.name,f,null),lt(t,r,"formEncType",f.formEncType,f,null),lt(t,r,"formMethod",f.formMethod,f,null),lt(t,r,"formTarget",f.formTarget,f,null)):(lt(t,r,"encType",f.encType,f,null),lt(t,r,"method",f.method,f,null),lt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=rs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=fc);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=rs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),yi(t,"popover",l);break;case"xlinkActuate":en(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":en(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":en(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":en(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":en(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":en(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":en(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":en(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":en(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Of.get(s)||s,yi(t,s,l))}}function oh(t,r,s,l,f,m){switch(s){case"style":Eo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?zn(t,l):(typeof l=="number"||typeof l=="bigint")&&zn(t,""+l);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Za.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),m=t[Dt]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):yi(t,s,l)}}}function an(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var l=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var A=s[m];if(A!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:lt(t,r,m,A,s,null)}}f&&lt(t,r,"srcSet",s.srcSet,s,null),l&&lt(t,r,"src",s.src,s,null);return;case"input":Fe("invalid",t);var I=m=A=f=null,q=null,te=null;for(l in s)if(s.hasOwnProperty(l)){var ue=s[l];if(ue!=null)switch(l){case"name":f=ue;break;case"type":A=ue;break;case"checked":q=ue;break;case"defaultChecked":te=ue;break;case"value":m=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,r));break;default:lt(t,r,l,ue,s,null)}}la(t,m,I,q,te,A,f,!1),ns(t);return;case"select":Fe("invalid",t),l=A=m=null;for(f in s)if(s.hasOwnProperty(f)&&(I=s[f],I!=null))switch(f){case"value":m=I;break;case"defaultValue":A=I;break;case"multiple":l=I;default:lt(t,r,f,I,s,null)}r=m,s=A,t.multiple=!!l,r!=null?Lr(t,!!l,r,!1):s!=null&&Lr(t,!!l,s,!0);return;case"textarea":Fe("invalid",t),m=f=l=null;for(A in s)if(s.hasOwnProperty(A)&&(I=s[A],I!=null))switch(A){case"value":l=I;break;case"defaultValue":f=I;break;case"children":m=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:lt(t,r,A,I,s,null)}ua(t,l,f,m),ns(t);return;case"option":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(t,r,q,l,s,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(l=0;l<al.length;l++)Fe(al[l],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in s)if(s.hasOwnProperty(te)&&(l=s[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:lt(t,r,te,l,s,null)}return;default:if(So(r)){for(ue in s)s.hasOwnProperty(ue)&&(l=s[ue],l!==void 0&&oh(t,r,ue,l,s,void 0));return}}for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null&&lt(t,r,I,l,s,null))}function hE(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,A=null,I=null,q=null,te=null,ue=null;for(se in s){var de=s[se];if(s.hasOwnProperty(se)&&de!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":q=de;default:l.hasOwnProperty(se)||lt(t,r,se,null,l,de)}}for(var ie in l){var se=l[ie];if(de=s[ie],l.hasOwnProperty(ie)&&(se!=null||de!=null))switch(ie){case"type":m=se;break;case"name":f=se;break;case"checked":te=se;break;case"defaultChecked":ue=se;break;case"value":A=se;break;case"defaultValue":I=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,r));break;default:se!==de&&lt(t,r,ie,se,l,de)}}Cn(t,A,I,q,te,ue,m,f);return;case"select":se=A=I=ie=null;for(m in s)if(q=s[m],s.hasOwnProperty(m)&&q!=null)switch(m){case"value":break;case"multiple":se=q;default:l.hasOwnProperty(m)||lt(t,r,m,null,l,q)}for(f in l)if(m=l[f],q=s[f],l.hasOwnProperty(f)&&(m!=null||q!=null))switch(f){case"value":ie=m;break;case"defaultValue":I=m;break;case"multiple":A=m;default:m!==q&&lt(t,r,f,m,l,q)}r=I,s=A,l=se,ie!=null?Lr(t,!!s,ie,!1):!!l!=!!s&&(r!=null?Lr(t,!!s,r,!0):Lr(t,!!s,s?[]:"",!1));return;case"textarea":se=ie=null;for(I in s)if(f=s[I],s.hasOwnProperty(I)&&f!=null&&!l.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:lt(t,r,I,null,l,f)}for(A in l)if(f=l[A],m=s[A],l.hasOwnProperty(A)&&(f!=null||m!=null))switch(A){case"value":ie=f;break;case"defaultValue":se=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&lt(t,r,A,f,l,m)}st(t,ie,se);return;case"option":for(var Ne in s)if(ie=s[Ne],s.hasOwnProperty(Ne)&&ie!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":t.selected=!1;break;default:lt(t,r,Ne,null,l,ie)}for(q in l)if(ie=l[q],se=s[q],l.hasOwnProperty(q)&&ie!==se&&(ie!=null||se!=null))switch(q){case"selected":t.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:lt(t,r,q,ie,l,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in s)ie=s[Re],s.hasOwnProperty(Re)&&ie!=null&&!l.hasOwnProperty(Re)&&lt(t,r,Re,null,l,ie);for(te in l)if(ie=l[te],se=s[te],l.hasOwnProperty(te)&&ie!==se&&(ie!=null||se!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,r));break;default:lt(t,r,te,ie,l,se)}return;default:if(So(r)){for(var ut in s)ie=s[ut],s.hasOwnProperty(ut)&&ie!==void 0&&!l.hasOwnProperty(ut)&&oh(t,r,ut,void 0,l,ie);for(ue in l)ie=l[ue],se=s[ue],!l.hasOwnProperty(ue)||ie===se||ie===void 0&&se===void 0||oh(t,r,ue,ie,l,se);return}}for(var X in s)ie=s[X],s.hasOwnProperty(X)&&ie!=null&&!l.hasOwnProperty(X)&&lt(t,r,X,null,l,ie);for(de in l)ie=l[de],se=s[de],!l.hasOwnProperty(de)||ie===se||ie==null&&se==null||lt(t,r,de,ie,l,se)}var lh=null,uh=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function yv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function ch(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fh=null;function mE(){var t=window.event;return t&&t.type==="popstate"?t===fh?!1:(fh=t,!0):(fh=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(t){return bv.resolve(null).then(t).catch(yE)}:_v;function yE(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function Ev(t,r){var s=r,l=0,f=0;do{var m=s.nextSibling;if(t.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<l&&8>l){s=l;var A=t.ownerDocument;if(s&1&&ol(A.documentElement),s&2&&ol(A.body),s&4)for(s=A.head,ol(s),A=s.firstChild;A;){var I=A.nextSibling,q=A.nodeName;A[ia]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&A.rel.toLowerCase()==="stylesheet"||s.removeChild(A),A=I}}if(f===0){t.removeChild(m),pl(r);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=m}while(s);pl(r)}function dh(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dh(s),gi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function vE(t,r,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ia])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ir(t.nextSibling),t===null)break}return null}function _E(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ir(t.nextSibling),t===null))return null;return t}function hh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function bE(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ir(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var mh=null;function Sv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function wv(t,r,s){switch(r=dc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ol(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gi(t)}var Yn=new Map,Tv=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ri=w.d;w.d={f:EE,r:SE,D:wE,C:TE,L:AE,m:RE,X:CE,S:xE,M:NE};function EE(){var t=ri.f(),r=ic();return t||r}function SE(t){var r=ur(t);r!==null&&r.tag===5&&r.type==="form"?Fg(r):ri.r(t)}var Vs=typeof document>"u"?null:document;function Av(t,r,s){var l=Vs;if(l&&typeof r=="string"&&r){var f=jt(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Tv.has(f)||(Tv.add(f),t={rel:t,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",t),xt(r),l.head.appendChild(r)))}}function wE(t){ri.D(t),Av("dns-prefetch",t,null)}function TE(t,r){ri.C(t,r),Av("preconnect",t,r)}function AE(t,r,s){ri.L(t,r,s);var l=Vs;if(l&&t&&r){var f='link[rel="preload"][as="'+jt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+jt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+jt(s.imageSizes)+'"]')):f+='[href="'+jt(t)+'"]';var m=f;switch(r){case"style":m=Ls(t);break;case"script":m=zs(t)}Yn.has(m)||(t=b({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Yn.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(ll(m))||r==="script"&&l.querySelector(ul(m))||(r=l.createElement("link"),an(r,"link",t),xt(r),l.head.appendChild(r)))}}function RE(t,r){ri.m(t,r);var s=Vs;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+jt(l)+'"][href="'+jt(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=zs(t)}if(!Yn.has(m)&&(t=b({rel:"modulepreload",href:t},r),Yn.set(m,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ul(m)))return}l=s.createElement("link"),an(l,"link",t),xt(l),s.head.appendChild(l)}}}function xE(t,r,s){ri.S(t,r,s);var l=Vs;if(l&&t){var f=vn(l).hoistableStyles,m=Ls(t);r=r||"default";var A=f.get(m);if(!A){var I={loading:0,preload:null};if(A=l.querySelector(ll(m)))I.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Yn.get(m))&&ph(t,s);var q=A=l.createElement("link");xt(q),an(q,"link",t),q._p=new Promise(function(te,ue){q.onload=te,q.onerror=ue}),q.addEventListener("load",function(){I.loading|=1}),q.addEventListener("error",function(){I.loading|=2}),I.loading|=4,mc(A,r,l)}A={type:"stylesheet",instance:A,count:1,state:I},f.set(m,A)}}}function CE(t,r){ri.X(t,r);var s=Vs;if(s&&t){var l=vn(s).hoistableScripts,f=zs(t),m=l.get(f);m||(m=s.querySelector(ul(f)),m||(t=b({src:t,async:!0},r),(r=Yn.get(f))&&gh(t,r),m=s.createElement("script"),xt(m),an(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function NE(t,r){ri.M(t,r);var s=Vs;if(s&&t){var l=vn(s).hoistableScripts,f=zs(t),m=l.get(f);m||(m=s.querySelector(ul(f)),m||(t=b({src:t,async:!0,type:"module"},r),(r=Yn.get(f))&&gh(t,r),m=s.createElement("script"),xt(m),an(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Rv(t,r,s,l){var f=(f=le.current)?hc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ls(s.href),s=vn(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ls(s.href);var m=vn(f).hoistableStyles,A=m.get(t);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,A),(m=f.querySelector(ll(t)))&&!m._p&&(A.instance=m,A.state.loading=5),Yn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Yn.set(t,s),m||OE(f,t,s,A.state))),r&&l===null)throw Error(a(528,""));return A}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zs(s),s=vn(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ls(t){return'href="'+jt(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function xv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function OE(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",s),xt(r),t.head.appendChild(r))}function zs(t){return'[src="'+jt(t)+'"]'}function ul(t){return"script[async]"+t}function Cv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+jt(s.href)+'"]');if(l)return r.instance=l,xt(l),l;var f=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),an(l,"style",f),mc(l,s.precedence,t),r.instance=l;case"stylesheet":f=Ls(s.href);var m=t.querySelector(ll(f));if(m)return r.state.loading|=4,r.instance=m,xt(m),m;l=xv(s),(f=Yn.get(f))&&ph(l,f),m=(t.ownerDocument||t).createElement("link"),xt(m);var A=m;return A._p=new Promise(function(I,q){A.onload=I,A.onerror=q}),an(m,"link",l),r.state.loading|=4,mc(m,s.precedence,t),r.instance=m;case"script":return m=zs(s.src),(f=t.querySelector(ul(m)))?(r.instance=f,xt(f),f):(l=s,(f=Yn.get(m))&&(l=b({},s),gh(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),an(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,mc(l,s.precedence,t));return r.instance}function mc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,A=0;A<l.length;A++){var I=l[A];if(I.dataset.precedence===r)m=I;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function ph(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function gh(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var pc=null;function Nv(t,r,s){if(pc===null){var l=new Map,f=pc=new Map;f.set(s,l)}else f=pc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[ia]||m[zt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var A=m.getAttribute(r)||"";A=t+A;var I=l.get(A);I?I.push(m):l.set(A,[m])}}return l}function Ov(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function IE(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cl=null;function DE(){}function jE(t,r,s){if(cl===null)throw Error(a(475));var l=cl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ls(s.href),m=t.querySelector(ll(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=gc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=m,xt(m);return}m=t.ownerDocument||t,s=xv(s),(f=Yn.get(f))&&ph(s,f),m=m.createElement("link"),xt(m);var A=m;A._p=new Promise(function(I,q){A.onload=I,A.onerror=q}),an(m,"link",s),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=gc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function ME(){if(cl===null)throw Error(a(475));var t=cl;return t.stylesheets&&t.count===0&&yh(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function gc(){if(this.count--,this.count===0){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function yh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,r.forEach(PE,t),yc=null,gc.call(t))}function PE(t,r){if(!(r.state.loading&4)){var s=yc.get(t);if(s)var l=s.get(null);else{s=new Map,yc.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var A=f[m];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),l=A)}l&&s.set(null,l)}f=r.instance,A=f.getAttribute("data-precedence"),m=s.get(A)||l,m===l&&s.set(null,f),s.set(A,f),this.count++,l=gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var fl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function kE(t,r,s,l,f,m,A,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Dv(t,r,s,l,f,m,A,I,q,te,ue,de){return t=new kE(t,r,s,A,I,q,te,de),r=1,m===!0&&(r|=24),m=On(3,null,null,r),t.current=m,m.stateNode=t,r=Zf(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:r},nd(m),t}function jv(t){return t?(t=gs,t):gs}function Mv(t,r,s,l,f,m){f=jv(f),l.context===null?l.context=f:l.pendingContext=f,l=Si(r),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=wi(t,l,r),s!==null&&(Pn(s,t,r),Bo(s,t,r))}function Pv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function vh(t,r){Pv(t,r),(t=t.alternate)&&Pv(t,r)}function kv(t){if(t.tag===13){var r=ps(t,67108864);r!==null&&Pn(r,t,67108864),vh(t,67108864)}}var vc=!0;function VE(t,r,s,l){var f=Q.T;Q.T=null;var m=w.p;try{w.p=2,_h(t,r,s,l)}finally{w.p=m,Q.T=f}}function LE(t,r,s,l){var f=Q.T;Q.T=null;var m=w.p;try{w.p=8,_h(t,r,s,l)}finally{w.p=m,Q.T=f}}function _h(t,r,s,l){if(vc){var f=bh(l);if(f===null)sh(t,r,l,_c,s),Lv(t,l);else if(UE(f,t,r,s,l))l.stopPropagation();else if(Lv(t,l),r&4&&-1<zE.indexOf(t)){for(;f!==null;){var m=ur(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var A=Jn(m.pendingLanes);if(A!==0){var I=m;for(I.pendingLanes|=2,I.entangledLanes|=2;A;){var q=1<<31-cn(A);I.entanglements[1]|=q,A&=~q}wr(m),(rt&6)===0&&(nc=xe()+500,il(0))}}break;case 13:I=ps(m,2),I!==null&&Pn(I,m,2),ic(),vh(m,2)}if(m=bh(l),m===null&&sh(t,r,l,_c,s),m===f)break;f=m}f!==null&&l.stopPropagation()}else sh(t,r,l,null,s)}}function bh(t){return t=Un(t),Eh(t)}var _c=null;function Eh(t){if(_c=null,t=Pr(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=d(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return _c=t,null}function Vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case pt:return 2;case gt:return 8;case Rt:case Wn:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var Sh=!1,ki=null,Vi=null,Li=null,dl=new Map,hl=new Map,zi=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lv(t,r){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(r.pointerId)}}function ml(t,r,s,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ur(r),r!==null&&kv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function UE(t,r,s,l,f){switch(r){case"focusin":return ki=ml(ki,t,r,s,l,f),!0;case"dragenter":return Vi=ml(Vi,t,r,s,l,f),!0;case"mouseover":return Li=ml(Li,t,r,s,l,f),!0;case"pointerover":var m=f.pointerId;return dl.set(m,ml(dl.get(m)||null,t,r,s,l,f)),!0;case"gotpointercapture":return m=f.pointerId,hl.set(m,ml(hl.get(m)||null,t,r,s,l,f)),!0}return!1}function zv(t){var r=Pr(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=d(s),r!==null){t.blockedOn=r,iu(t.priority,function(){if(s.tag===13){var l=Mn();l=hi(l);var f=ps(s,l);f!==null&&Pn(f,s,l),vh(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=bh(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);zr=l,s.target.dispatchEvent(l),zr=null}else return r=ur(s),r!==null&&kv(r),t.blockedOn=s,!1;r.shift()}return!0}function Uv(t,r,s){bc(t)&&s.delete(r)}function BE(){Sh=!1,ki!==null&&bc(ki)&&(ki=null),Vi!==null&&bc(Vi)&&(Vi=null),Li!==null&&bc(Li)&&(Li=null),dl.forEach(Uv),hl.forEach(Uv)}function Ec(t,r){t.blockedOn===r&&(t.blockedOn=null,Sh||(Sh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,BE)))}var Sc=null;function Bv(t){Sc!==t&&(Sc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sc===t&&(Sc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Eh(l||s)===null)continue;break}var m=ur(s);m!==null&&(t.splice(r,3),r-=3,Ed(m,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function pl(t){function r(q){return Ec(q,t)}ki!==null&&Ec(ki,t),Vi!==null&&Ec(Vi,t),Li!==null&&Ec(Li,t),dl.forEach(r),hl.forEach(r);for(var s=0;s<zi.length;s++){var l=zi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zi.length&&(s=zi[0],s.blockedOn===null);)zv(s),s.blockedOn===null&&zi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],m=s[l+1],A=f[Dt]||null;if(typeof m=="function")A||Bv(s);else if(A){var I=null;if(m&&m.hasAttribute("formAction")){if(f=m,A=m[Dt]||null)I=A.formAction;else if(Eh(f)!==null)continue}else I=A.action;typeof I=="function"?s[l+1]=I:(s.splice(l,3),l-=3),Bv(s)}}}function wh(t){this._internalRoot=t}wc.prototype.render=wh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Mn();Mv(s,l,t,r,null,null)},wc.prototype.unmount=wh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Mv(t.current,2,null,t,null,null),ic(),r[Ln]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var r=mi();t={blockedOn:null,target:t,priority:r};for(var s=0;s<zi.length&&r!==0&&r<zi[s].priority;s++);zi.splice(s,0,t),s===0&&zv(t)}};var Hv=e.version;if(Hv!=="19.1.0")throw Error(a(527,Hv,"19.1.0"));w.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var HE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{yt=Tc.inject(HE),Ue=Tc}catch{}}return yl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",f=iy,m=ay,A=sy,I=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(I=r.unstable_transitionCallbacks)),r=Dv(t,1,!1,null,null,s,l,f,m,A,I,null),t[Ln]=r.current,ah(t),new wh(r)},yl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,f="",m=iy,A=ay,I=sy,q=null,te=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(q=s.unstable_transitionCallbacks),s.formState!==void 0&&(te=s.formState)),r=Dv(t,1,!0,r,s??null,l,f,m,A,I,q,te),r.context=jv(null),s=r.current,l=Mn(),l=hi(l),f=Si(l),f.callback=null,wi(s,f,l),s=l,r.current.lanes=s,Mr(r,s),wr(r),t[Ln]=r.current,ah(t),new wc(r)},yl.version="19.1.0",yl}var Zv;function JE(){if(Zv)return Rh.exports;Zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rh.exports=ZE(),Rh.exports}var eS=JE(),vl={},Jv;function tS(){if(Jv)return vl;Jv=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.parse=d,vl.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,D){const B=new u,V=x.length;if(V<2)return B;const U=(D==null?void 0:D.decode)||b;let F=0;do{const Y=x.indexOf("=",F);if(Y===-1)break;const ne=x.indexOf(";",F),re=ne===-1?V:ne;if(Y>re){F=x.lastIndexOf(";",Y-1)+1;continue}const P=h(x,F,Y),H=y(x,Y,P),N=x.slice(P,H);if(B[N]===void 0){let O=h(x,Y+1,re),R=y(x,re,O);const E=U(x.slice(O,R));B[N]=E}F=re+1}while(F<V);return B}function h(x,D,B){do{const V=x.charCodeAt(D);if(V!==32&&V!==9)return D}while(++D<B);return B}function y(x,D,B){for(;D>B;){const V=x.charCodeAt(--D);if(V!==32&&V!==9)return D+1}return B}function p(x,D,B){const V=(B==null?void 0:B.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const U=V(D);if(!e.test(U))throw new TypeError(`argument val is invalid: ${D}`);let F=x+"="+U;if(!B)return F;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);F+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);F+="; Domain="+B.domain}if(B.path){if(!a.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);F+="; Path="+B.path}if(B.expires){if(!S(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);F+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(F+="; HttpOnly"),B.secure&&(F+="; Secure"),B.partitioned&&(F+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return F}function b(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function S(x){return o.call(x)==="[object Date]"}return vl}tS();var e0="popstate";function nS(i={}){function e(a,o){let{pathname:u,search:d,hash:h}=a.location;return tm("",{pathname:u,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Ml(o)}return iS(e,n,null,i)}function Et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ar(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substring(2,10)}function t0(i,e){return{usr:i.state,key:i.key,idx:e}}function tm(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||a||rS()}}function Ml({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function to(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function iS(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,h="POP",y=null,p=b();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function b(){return(d.state||{idx:null}).idx}function S(){h="POP";let U=b(),F=U==null?null:U-p;p=U,y&&y({action:h,location:V.location,delta:F})}function x(U,F){h="PUSH";let Y=tm(V.location,U,F);p=b()+1;let ne=t0(Y,p),re=V.createHref(Y);try{d.pushState(ne,"",re)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(re)}u&&y&&y({action:h,location:V.location,delta:1})}function D(U,F){h="REPLACE";let Y=tm(V.location,U,F);p=b();let ne=t0(Y,p),re=V.createHref(Y);d.replaceState(ne,"",re),u&&y&&y({action:h,location:V.location,delta:0})}function B(U){return aS(U)}let V={get action(){return h},get location(){return i(o,d)},listen(U){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(e0,S),y=U,()=>{o.removeEventListener(e0,S),y=null}},createHref(U){return e(o,U)},createURL:B,encodeLocation(U){let F=B(U);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:x,replace:D,go(U){return d.go(U)}};return V}function aS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Ml(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function z_(i,e,n="/"){return sS(i,e,n,!1)}function sS(i,e,n,a){let o=typeof e=="string"?to(e):e,u=oi(o.pathname||"/",n);if(u==null)return null;let d=U_(i);oS(d);let h=null;for(let y=0;h==null&&y<d.length;++y){let p=vS(u);h=gS(d[y],p,a)}return h}function U_(i,e=[],n=[],a=""){let o=(u,d,h)=>{let y={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};y.relativePath.startsWith("/")&&(Et(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length));let p=ai([a,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),U_(u.children,e,b,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:mS(p,u.index),routesMeta:b})};return i.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,d);else for(let y of B_(u.path))o(u,d,y)}),e}function B_(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=B_(a.join("/")),h=[];return h.push(...d.map(y=>y===""?u:[u,y].join("/"))),o&&h.push(...d),h.map(y=>i.startsWith("/")&&y===""?"/":y)}function oS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:pS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var lS=/^:[\w-]+$/,uS=3,cS=2,fS=1,dS=10,hS=-2,n0=i=>i==="*";function mS(i,e){let n=i.split("/"),a=n.length;return n.some(n0)&&(a+=hS),e&&(a+=cS),n.filter(o=>!n0(o)).reduce((o,u)=>o+(lS.test(u)?uS:u===""?fS:dS),a)}function pS(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function gS(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",d=[];for(let h=0;h<a.length;++h){let y=a[h],p=h===a.length-1,b=u==="/"?e:e.slice(u.length)||"/",S=Hc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},b),x=y.route;if(!S&&p&&n&&!a[a.length-1].route.index&&(S=Hc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:ai([u,S.pathname]),pathnameBase:SS(ai([u,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(u=ai([u,S.pathnameBase]))}return d}function Hc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=yS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((p,{paramName:b,isOptional:S},x)=>{if(b==="*"){let B=h[x]||"";d=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const D=h[x];return S&&!D?p[b]=void 0:p[b]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:i}}function yS(i,e=!1,n=!0){ar(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,y)=>(a.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function vS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function oi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function _S(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?to(i):i;return{pathname:n?n.startsWith("/")?n:bS(n,e):e,search:wS(a),hash:TS(o)}}function bS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Oh(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ES(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function H_(i){let e=ES(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function q_(i,e,n,a=!1){let o;typeof i=="string"?o=to(i):(o={...i},Et(!o.pathname||!o.pathname.includes("?"),Oh("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),Oh("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),Oh("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,h;if(d==null)h=n;else{let S=e.length-1;if(!a&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}h=S>=0?e[S]:"/"}let y=_S(o,h),p=d&&d!=="/"&&d.endsWith("/"),b=(u||d===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||b)&&(y.pathname+="/"),y}var ai=i=>i.join("/").replace(/\/\/+/g,"/"),SS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),wS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,TS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function AS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var F_=["POST","PUT","PATCH","DELETE"];new Set(F_);var RS=["GET",...F_];new Set(RS);var no=z.createContext(null);no.displayName="DataRouter";var rf=z.createContext(null);rf.displayName="DataRouterState";var G_=z.createContext({isTransitioning:!1});G_.displayName="ViewTransition";var xS=z.createContext(new Map);xS.displayName="Fetchers";var CS=z.createContext(null);CS.displayName="Await";var Ir=z.createContext(null);Ir.displayName="Navigation";var Gl=z.createContext(null);Gl.displayName="Location";var Dr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var Im=z.createContext(null);Im.displayName="RouteError";function NS(i,{relative:e}={}){Et(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(Ir),{hash:o,pathname:u,search:d}=Kl(i,{relative:e}),h=u;return n!=="/"&&(h=u==="/"?n:ai([n,u])),a.createHref({pathname:h,search:d,hash:o})}function Ql(){return z.useContext(Gl)!=null}function Xi(){return Et(Ql(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Gl).location}var Q_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $_(i){z.useContext(Ir).static||z.useLayoutEffect(i)}function $l(){let{isDataRoute:i}=z.useContext(Dr);return i?qS():OS()}function OS(){Et(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(no),{basename:e,navigator:n}=z.useContext(Ir),{matches:a}=z.useContext(Dr),{pathname:o}=Xi(),u=JSON.stringify(H_(a)),d=z.useRef(!1);return $_(()=>{d.current=!0}),z.useCallback((y,p={})=>{if(ar(d.current,Q_),!d.current)return;if(typeof y=="number"){n.go(y);return}let b=q_(y,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ai([e,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[e,n,u,o,i])}z.createContext(null);function IS(){let{matches:i}=z.useContext(Dr),e=i[i.length-1];return e?e.params:{}}function Kl(i,{relative:e}={}){let{matches:n}=z.useContext(Dr),{pathname:a}=Xi(),o=JSON.stringify(H_(n));return z.useMemo(()=>q_(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function DS(i,e){return K_(i,e)}function K_(i,e,n,a){var F;Et(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Ir),{matches:u}=z.useContext(Dr),d=u[u.length-1],h=d?d.params:{},y=d?d.pathname:"/",p=d?d.pathnameBase:"/",b=d&&d.route;{let Y=b&&b.path||"";Y_(y,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=Xi(),x;if(e){let Y=typeof e=="string"?to(e):e;Et(p==="/"||((F=Y.pathname)==null?void 0:F.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),x=Y}else x=S;let D=x.pathname||"/",B=D;if(p!=="/"){let Y=p.replace(/^\//,"").split("/");B="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let V=z_(i,{pathname:B});ar(b||V!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ar(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=VS(V&&V.map(Y=>Object.assign({},Y,{params:Object.assign({},h,Y.params),pathname:ai([p,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?p:ai([p,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,a);return e&&U?z.createElement(Gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},U):U}function jS(){let i=HS(),e=AS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var MS=z.createElement(jS,null),PS=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(Dr.Provider,{value:this.props.routeContext},z.createElement(Im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kS({routeContext:i,match:e,children:n}){let a=z.useContext(no);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Dr.Provider,{value:i},n)}function VS(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let y=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Et(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,h=-1;if(n)for(let y=0;y<o.length;y++){let p=o[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=y),p.route.id){let{loaderData:b,errors:S}=n,x=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||x){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((y,p,b)=>{let S,x=!1,D=null,B=null;n&&(S=u&&p.route.id?u[p.route.id]:void 0,D=p.route.errorElement||MS,d&&(h<0&&b===0?(Y_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,B=null):h===b&&(x=!0,B=p.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,b+1)),U=()=>{let F;return S?F=D:x?F=B:p.route.Component?F=z.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=y,z.createElement(kS,{match:p,routeContext:{outlet:y,matches:V,isDataRoute:n!=null},children:F})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?z.createElement(PS,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:U(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):U()},null)}function Dm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(i){let e=z.useContext(no);return Et(e,Dm(i)),e}function zS(i){let e=z.useContext(rf);return Et(e,Dm(i)),e}function US(i){let e=z.useContext(Dr);return Et(e,Dm(i)),e}function jm(i){let e=US(i),n=e.matches[e.matches.length-1];return Et(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function BS(){return jm("useRouteId")}function HS(){var a;let i=z.useContext(Im),e=zS("useRouteError"),n=jm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function qS(){let{router:i}=LS("useNavigate"),e=jm("useNavigate"),n=z.useRef(!1);return $_(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{ar(n.current,Q_),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var r0={};function Y_(i,e,n){!e&&!r0[i]&&(r0[i]=!0,ar(!1,n))}z.memo(FS);function FS({routes:i,future:e,state:n}){return K_(i,void 0,n,e)}function Tr(i){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GS({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Et(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=to(n));let{pathname:y="/",search:p="",hash:b="",state:S=null,key:x="default"}=n,D=z.useMemo(()=>{let B=oi(y,d);return B==null?null:{location:{pathname:B,search:p,hash:b,state:S,key:x},navigationType:a}},[d,y,p,b,S,x,a]);return ar(D!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:z.createElement(Ir.Provider,{value:h},z.createElement(Gl.Provider,{children:e,value:D}))}function QS({children:i,location:e}){return DS(nm(i),e)}function nm(i,e=[]){let n=[];return z.Children.forEach(i,(a,o)=>{if(!z.isValidElement(a))return;let u=[...e,o];if(a.type===z.Fragment){n.push.apply(n,nm(a.props.children,u));return}Et(a.type===Tr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=nm(a.props.children,u)),n.push(d)}),n}var jc="get",Mc="application/x-www-form-urlencoded";function af(i){return i!=null&&typeof i.tagName=="string"}function $S(i){return af(i)&&i.tagName.toLowerCase()==="button"}function KS(i){return af(i)&&i.tagName.toLowerCase()==="form"}function YS(i){return af(i)&&i.tagName.toLowerCase()==="input"}function XS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function WS(i,e){return i.button===0&&(!e||e==="_self")&&!XS(i)}function rm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let a=i[n];return e.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function ZS(i,e){let n=rm(i);return e&&e.forEach((a,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Rc=null;function JS(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ih(i){return i!=null&&!ew.has(i)?(ar(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mc}"`),null):i}function tw(i,e){let n,a,o,u,d;if(KS(i)){let h=i.getAttribute("action");a=h?oi(h,e):null,n=i.getAttribute("method")||jc,o=Ih(i.getAttribute("enctype"))||Mc,u=new FormData(i)}else if($S(i)||YS(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||h.getAttribute("action");if(a=y?oi(y,e):null,n=i.getAttribute("formmethod")||h.getAttribute("method")||jc,o=Ih(i.getAttribute("formenctype"))||Ih(h.getAttribute("enctype"))||Mc,u=new FormData(h,i),!JS()){let{name:p,type:b,value:S}=i;if(b==="image"){let x=p?`${p}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else p&&u.append(p,S)}}else{if(af(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jc,a=null,o=Mc,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}function Mm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function nw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function iw(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await nw(u,n);return d.links?d.links():[]}return[]}));return lw(a.flat(1).filter(rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function i0(i,e,n,a,o,u){let d=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,h=(y,p)=>{var b;return n[p].pathname!==y.pathname||((b=n[p].route.path)==null?void 0:b.endsWith("*"))&&n[p].params["*"]!==y.params["*"]};return u==="assets"?e.filter((y,p)=>d(y,p)||h(y,p)):u==="data"?e.filter((y,p)=>{var S;let b=a.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(d(y,p)||h(y,p))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function aw(i,e,{includeHydrateFallback:n}={}){return sw(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function sw(i){return[...new Set(i)]}function ow(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function lw(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(ow(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uw=new Set([100,101,204,205]);function cw(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&oi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function X_(){let i=z.useContext(no);return Mm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function fw(){let i=z.useContext(rf);return Mm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Pm=z.createContext(void 0);Pm.displayName="FrameworkContext";function W_(){let i=z.useContext(Pm);return Mm(i,"You must render this element inside a <HydratedRouter> element"),i}function dw(i,e){let n=z.useContext(Pm),[a,o]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:p,onMouseLeave:b,onTouchStart:S}=e,x=z.useRef(null);z.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let V=F=>{F.forEach(Y=>{d(Y.isIntersecting)})},U=new IntersectionObserver(V,{threshold:.5});return x.current&&U.observe(x.current),()=>{U.disconnect()}}},[i]),z.useEffect(()=>{if(a){let V=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(V)}}},[a]);let D=()=>{o(!0)},B=()=>{o(!1),d(!1)};return n?i!=="intent"?[u,x,{}]:[u,x,{onFocus:_l(h,D),onBlur:_l(y,B),onMouseEnter:_l(p,D),onMouseLeave:_l(b,B),onTouchStart:_l(S,D)}]:[!1,x,{}]}function _l(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function hw({page:i,...e}){let{router:n}=X_(),a=z.useMemo(()=>z_(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?z.createElement(pw,{page:i,matches:a,...e}):null}function mw(i){let{manifest:e,routeModules:n}=W_(),[a,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return iw(i,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,n]),a}function pw({page:i,matches:e,...n}){let a=Xi(),{manifest:o,routeModules:u}=W_(),{basename:d}=X_(),{loaderData:h,matches:y}=fw(),p=z.useMemo(()=>i0(i,e,y,o,a,"data"),[i,e,y,o,a]),b=z.useMemo(()=>i0(i,e,y,o,a,"assets"),[i,e,y,o,a]),S=z.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let B=new Set,V=!1;if(e.forEach(F=>{var ne;let Y=o.routes[F.route.id];!Y||!Y.hasLoader||(!p.some(re=>re.route.id===F.route.id)&&F.route.id in h&&((ne=u[F.route.id])!=null&&ne.shouldRevalidate)||Y.hasClientLoader?V=!0:B.add(F.route.id))}),B.size===0)return[];let U=cw(i,d);return V&&B.size>0&&U.searchParams.set("_routes",e.filter(F=>B.has(F.route.id)).map(F=>F.route.id).join(",")),[U.pathname+U.search]},[d,h,a,o,p,e,i,u]),x=z.useMemo(()=>aw(b,o),[b,o]),D=mw(b);return z.createElement(z.Fragment,null,S.map(B=>z.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),x.map(B=>z.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),D.map(({key:B,link:V})=>z.createElement("link",{key:B,...V})))}function gw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z_&&(window.__reactRouterVersion="7.6.2")}catch{}function yw({basename:i,children:e,window:n}){let a=z.useRef();a.current==null&&(a.current=nS({window:n,v5Compat:!0}));let o=a.current,[u,d]=z.useState({action:o.action,location:o.location}),h=z.useCallback(y=>{z.startTransition(()=>d(y))},[d]);return z.useLayoutEffect(()=>o.listen(h),[o,h]),z.createElement(GS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:h,target:y,to:p,preventScrollReset:b,viewTransition:S,...x},D){let{basename:B}=z.useContext(Ir),V=typeof p=="string"&&J_.test(p),U,F=!1;if(typeof p=="string"&&V&&(U=p,Z_))try{let R=new URL(window.location.href),E=p.startsWith("//")?new URL(R.protocol+p):new URL(p),M=oi(E.pathname,B);E.origin===R.origin&&M!=null?p=M+E.search+E.hash:F=!0}catch{ar(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=NS(p,{relative:o}),[ne,re,P]=dw(a,x),H=Ew(p,{replace:d,state:h,target:y,preventScrollReset:b,relative:o,viewTransition:S});function N(R){e&&e(R),R.defaultPrevented||H(R)}let O=z.createElement("a",{...x,...P,href:U||Y,onClick:F||u?e:N,ref:gw(D,re),target:y,"data-discover":!V&&n==="render"?"true":void 0});return ne&&!V?z.createElement(z.Fragment,null,O,z.createElement(hw,{page:Y})):O});Ft.displayName="Link";var vw=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:h,children:y,...p},b){let S=Kl(d,{relative:p.relative}),x=Xi(),D=z.useContext(rf),{navigator:B,basename:V}=z.useContext(Ir),U=D!=null&&Rw(S)&&h===!0,F=B.encodeLocation?B.encodeLocation(S).pathname:S.pathname,Y=x.pathname,ne=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),ne=ne?ne.toLowerCase():null,F=F.toLowerCase()),ne&&V&&(ne=oi(ne,V)||ne);const re=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let P=Y===F||!o&&Y.startsWith(F)&&Y.charAt(re)==="/",H=ne!=null&&(ne===F||!o&&ne.startsWith(F)&&ne.charAt(F.length)==="/"),N={isActive:P,isPending:H,isTransitioning:U},O=P?e:void 0,R;typeof a=="function"?R=a(N):R=[a,P?"active":null,H?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let E=typeof u=="function"?u(N):u;return z.createElement(Ft,{...p,"aria-current":O,className:R,ref:b,style:E,to:d,viewTransition:h},typeof y=="function"?y(N):y)});vw.displayName="NavLink";var _w=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=jc,action:h,onSubmit:y,relative:p,preventScrollReset:b,viewTransition:S,...x},D)=>{let B=Tw(),V=Aw(h,{relative:p}),U=d.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&J_.test(h),Y=ne=>{if(y&&y(ne),ne.defaultPrevented)return;ne.preventDefault();let re=ne.nativeEvent.submitter,P=(re==null?void 0:re.getAttribute("formmethod"))||d;B(re||ne.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:o,state:u,relative:p,preventScrollReset:b,viewTransition:S})};return z.createElement("form",{ref:D,method:U,action:V,onSubmit:a?y:Y,...x,"data-discover":!F&&i==="render"?"true":void 0})});_w.displayName="Form";function bw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(i){let e=z.useContext(no);return Et(e,bw(i)),e}function Ew(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let h=$l(),y=Xi(),p=Kl(i,{relative:u});return z.useCallback(b=>{if(WS(b,e)){b.preventDefault();let S=n!==void 0?n:Ml(y)===Ml(p);h(i,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[y,h,p,n,a,e,i,o,u,d])}function ro(i){ar(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(rm(i)),n=z.useRef(!1),a=Xi(),o=z.useMemo(()=>ZS(a.search,n.current?null:e.current),[a.search]),u=$l(),d=z.useCallback((h,y)=>{const p=rm(typeof h=="function"?h(o):h);n.current=!0,u("?"+p,y)},[u,o]);return[o,d]}var Sw=0,ww=()=>`__${String(++Sw)}__`;function Tw(){let{router:i}=e1("useSubmit"),{basename:e}=z.useContext(Ir),n=BS();return z.useCallback(async(a,o={})=>{let{action:u,method:d,encType:h,formData:y,body:p}=tw(a,e);if(o.navigate===!1){let b=o.fetcherKey||ww();await i.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||h,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Aw(i,{relative:e}={}){let{basename:n}=z.useContext(Ir),a=z.useContext(Dr);Et(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Kl(i||".",{relative:e})},d=Xi();if(i==null){u.search=d.search;let h=new URLSearchParams(u.search),y=h.getAll("index");if(y.some(b=>b==="")){h.delete("index"),y.filter(S=>S).forEach(S=>h.append("index",S));let b=h.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ai([n,u.pathname])),Ml(u)}function Rw(i,e={}){let n=z.useContext(G_);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=e1("useViewTransitionState"),o=Kl(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=oi(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=oi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Hc(o.pathname,d)!=null||Hc(o.pathname,u)!=null}[...uw];const xw="modulepreload",Cw=function(i){return"https://juanmaacampos.github.io/shop_template/"+i},a0={},Pl=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),y=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=d(n.map(p=>{if(p=Cw(p),p in a0)return;a0[p]=!0;const b=p.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${S}`))return;const x=document.createElement("link");if(x.rel=b?"stylesheet":xw,b||(x.as="script"),x.crossOrigin="",x.href=p,y&&x.setAttribute("nonce",y),document.head.appendChild(x),b)return new Promise((D,B)=>{x.addEventListener("load",D),x.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})};function Nw(i){const[e,n]=z.useState(null),[a,o]=z.useState(null),[u,d]=z.useState([]),[h,y]=z.useState(!0),[p,b]=z.useState(null);return z.useEffect(()=>{async function S(){try{y(!0),b(null);const[x,D]=await Promise.all([i.getBusinessInfo(),i.getFullMenu()]);n(x),o(x),d(D)}catch(x){b(x.message),console.error("Error loading menu:",x)}finally{y(!1)}}i&&S()},[i]),{business:e,restaurant:a,menu:u,loading:h,error:p}}function t1(){const i=()=>{try{const p=localStorage.getItem("cartItems");if(p)return JSON.parse(p)}catch{}return[]},[e,n]=z.useState(i);z.useEffect(()=>{try{localStorage.setItem("cartItems",JSON.stringify(e))}catch{}},[e]);const a=(p,b=1)=>{p.trackStock&&typeof p.stock=="number"?n(S=>{const x=S.find(V=>V.id===p.id),B=(x?x.quantity:0)+b;return B>p.stock?(alert(`Stock insuficiente. Solo quedan ${p.stock} unidades disponibles.`),S):x?S.map(V=>V.id===p.id?{...V,quantity:B}:V):[...S,{...p,quantity:b}]}):n(S=>S.find(D=>D.id===p.id)?S.map(D=>D.id===p.id?{...D,quantity:D.quantity+b}:D):[...S,{...p,quantity:b}])},o=p=>{n(b=>b.filter(S=>S.id!==p))},u=(p,b)=>{if(b<=0){o(p);return}n(S=>S.map(x=>x.id===p?x.trackStock&&typeof x.stock=="number"&&b>x.stock?(alert(`Stock insuficiente. Solo quedan ${x.stock} unidades disponibles.`),x):{...x,quantity:b}:x))},d=()=>{n([])},h=e.reduce((p,b)=>{const S=typeof b.price=="number"?b.price:parseFloat(b.price)||0,x=typeof b.quantity=="number"?b.quantity:parseInt(b.quantity)||0;return p+S*x},0),y=e.reduce((p,b)=>{const S=typeof b.quantity=="number"?b.quantity:parseInt(b.quantity)||0;return p+S},0);return{cart:e,addToCart:a,removeFromCart:o,updateQuantity:u,clearCart:d,cartTotal:h,cartCount:y,total:h,itemCount:y}}function Ow(i){const[e,n]=z.useState([]),[a,o]=z.useState(!0),[u,d]=z.useState(null);return z.useEffect(()=>{async function h(){try{o(!0),d(null);const y=await i.getFeaturedItems();n(y)}catch(y){d(y.message),console.error("Error loading featured items:",y)}finally{o(!1)}}i&&h()},[i]),{featuredItems:e,loading:a,error:u}}function Iw(i){const[e,n]=z.useState({});return z.useEffect(()=>{n(i==="store"?{businessName:"Tienda",menuName:"catálogo",menuNameCapitalized:"Catálogo",itemType:"producto",itemTypeCapitalized:"Producto",itemTypePlural:"productos",itemTypePluralCapitalized:"Productos",itemSingular:"producto",items:"productos",categoryType:"categoría",orderType:"orden de compra",orderTypeCapitalized:"Orden de Compra",addToCart:"Agregar al Carrito",viewCatalog:"Ver Catálogo",viewProducts:"Ver Productos",featuredProducts:"Productos Destacados",allProducts:"Todos los Productos",productDetails:"Detalles del Producto",orderSummary:"Resumen de Compra",placeOrder:"Realizar Pedido",serviceOptions:{delivery:"Envío a domicilio",pickup:"Retiro en tienda",shipping:"Envío postal"}}:{businessName:"Restaurante",menuName:"menú",menuNameCapitalized:"Menú",itemType:"plato",itemTypeCapitalized:"Plato",itemTypePlural:"platos",itemTypePluralCapitalized:"Platos",itemSingular:"plato",items:"platos",categoryType:"categoría",orderType:"pedido",orderTypeCapitalized:"Pedido",addToCart:"Agregar al Pedido",viewCatalog:"Ver Menú",viewProducts:"Ver Platos",featuredProducts:"Platos Destacados",allProducts:"Todos los Platos",productDetails:"Detalles del Plato",orderSummary:"Resumen del Pedido",placeOrder:"Realizar Pedido",serviceOptions:{dineIn:"Comer en el local",takeaway:"Para llevar",delivery:"Delivery"}})},[i]),e}function n1(i){var a;const e=Nw(i),n=Iw((a=e.business)==null?void 0:a.businessType);return{...e,terminology:n}}function r1(i,e={enabled:!0}){const[n,a]=z.useState(null),[o,u]=z.useState(null);z.useEffect(()=>{i&&e.enabled&&Pl(async()=>{const{createMenuSDK:b}=await Promise.resolve().then(()=>M6);return{createMenuSDK:b}},[]).then(({createMenuSDK:b})=>{const S=b(i.firebaseConfig,i.businessId);a(S),S.initialize().then(()=>{u(S.firebaseManager)}).catch(x=>{console.warn("⚠️ Failed to initialize SDK for firebaseManager:",x)})})},[i,e.enabled]);const d=n1(n),h=t1(),y=typeof h.cartTotal=="number"?h.cartTotal:0,p=typeof h.cartCount=="number"?h.cartCount:0;return{...d,...h,menuSDK:n,firebaseManager:o,total:y,itemCount:p,cartTotal:y,cartCount:p}}var s0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Dw=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],h=i[n++],y=((o&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const u=i[n++],d=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},a1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,h=d?i[o+1]:0,y=o+2<i.length,p=y?i[o+2]:0,b=u>>2,S=(u&3)<<4|h>>4;let x=(h&15)<<2|p>>6,D=p&63;y||(D=64,d||(x=64)),a.push(n[b],n[S],n[x],n[D])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(i1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Dw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],h=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||h==null||p==null||S==null)throw new jw;const x=u<<2|h>>4;if(a.push(x),p!==64){const D=h<<4&240|p>>2;if(a.push(D),S!==64){const B=p<<6&192|S;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mw=function(i){const e=i1(i);return a1.encodeByteArray(e,!0)},qc=function(i){return Mw(i).replace(/\./g,"")},Pw=function(i){try{return a1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=()=>kw().__FIREBASE_DEFAULTS__,Lw=()=>{if(typeof process>"u"||typeof s0>"u")return;const i=s0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Pw(i[1]);return e&&JSON.parse(e)},km=()=>{try{return Vw()||Lw()||zw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Uw=i=>{var e,n;return(n=(e=km())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Vm=i=>{const e=Uw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},s1=()=>{var i;return(i=km())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[qc(JSON.stringify(n)),qc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qw(){var i;const e=(i=km())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fw(){return!qw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="FirebaseError";class Wi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=$w,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l1.prototype.create)}}class l1{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?Kw(u,a):"Error",h=`${this.serviceName}: ${d} (${o}).`;return new Wi(o,h,a)}}function Kw(i,e){return i.replace(Yw,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Yw=/\{\$([^}]+)}/g;function im(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],d=e[o];if(o0(u)&&o0(d)){if(!im(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function o0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(i){return i&&i._delegate?i._delegate:i}class Ha{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Bw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zw(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);a===h&&d.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Ww(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ww(i){return i===Va?void 0:i}function Zw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ze||(Ze={}));const eT={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},tT=Ze.INFO,nT={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},rT=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=nT[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u1{constructor(e){this.name=e,this._logLevel=tT,this._logHandler=rT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const iT=(i,e)=>e.some(n=>i instanceof n);let l0,u0;function aT(){return l0||(l0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sT(){return u0||(u0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c1=new WeakMap,am=new WeakMap,f1=new WeakMap,Dh=new WeakMap,Lm=new WeakMap;function oT(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(qi(i.result)),o()},d=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&c1.set(n,i)}).catch(()=>{}),Lm.set(e,i),e}function lT(i){if(am.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});am.set(i,e)}let sm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return am.get(i);if(e==="objectStoreNames")return i.objectStoreNames||f1.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function uT(i){sm=i(sm)}function cT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(jh(this),e,...n);return f1.set(a,e.sort?e.sort():[e]),qi(a)}:sT().includes(i)?function(...e){return i.apply(jh(this),e),qi(c1.get(this))}:function(...e){return qi(i.apply(jh(this),e))}}function fT(i){return typeof i=="function"?cT(i):(i instanceof IDBTransaction&&lT(i),iT(i,aT())?new Proxy(i,sm):i)}function qi(i){if(i instanceof IDBRequest)return oT(i);if(Dh.has(i))return Dh.get(i);const e=fT(i);return e!==i&&(Dh.set(i,e),Lm.set(e,i)),e}const jh=i=>Lm.get(i);function dT(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),h=qi(d);return a&&d.addEventListener("upgradeneeded",y=>{a(qi(d.result),y.oldVersion,y.newVersion,qi(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),h.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const hT=["get","getKey","getAll","getAllKeys","count"],mT=["put","add","delete","clear"],Mh=new Map;function c0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Mh.get(e))return Mh.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=mT.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||hT.includes(n)))return;const u=async function(d,...h){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return a&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&y.done]))[0]};return Mh.set(e,u),u}uT(i=>({...i,get:(e,n,a)=>c0(e,n)||i.get(e,n,a),has:(e,n)=>!!c0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gT(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function gT(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const om="@firebase/app",f0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new u1("@firebase/app"),yT="@firebase/app-compat",vT="@firebase/analytics-compat",_T="@firebase/analytics",bT="@firebase/app-check-compat",ET="@firebase/app-check",ST="@firebase/auth",wT="@firebase/auth-compat",TT="@firebase/database",AT="@firebase/data-connect",RT="@firebase/database-compat",xT="@firebase/functions",CT="@firebase/functions-compat",NT="@firebase/installations",OT="@firebase/installations-compat",IT="@firebase/messaging",DT="@firebase/messaging-compat",jT="@firebase/performance",MT="@firebase/performance-compat",PT="@firebase/remote-config",kT="@firebase/remote-config-compat",VT="@firebase/storage",LT="@firebase/storage-compat",zT="@firebase/firestore",UT="@firebase/vertexai-preview",BT="@firebase/firestore-compat",HT="firebase",qT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc="[DEFAULT]",FT={[om]:"fire-core",[yT]:"fire-core-compat",[_T]:"fire-analytics",[vT]:"fire-analytics-compat",[ET]:"fire-app-check",[bT]:"fire-app-check-compat",[ST]:"fire-auth",[wT]:"fire-auth-compat",[TT]:"fire-rtdb",[AT]:"fire-data-connect",[RT]:"fire-rtdb-compat",[xT]:"fire-fn",[CT]:"fire-fn-compat",[NT]:"fire-iid",[OT]:"fire-iid-compat",[IT]:"fire-fcm",[DT]:"fire-fcm-compat",[jT]:"fire-perf",[MT]:"fire-perf-compat",[PT]:"fire-rc",[kT]:"fire-rc-compat",[VT]:"fire-gcs",[LT]:"fire-gcs-compat",[zT]:"fire-fst",[BT]:"fire-fst-compat",[UT]:"fire-vertex","fire-js":"fire-js",[HT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Map,lm=new Map,um=new Map;function d0(i,e){try{i.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Gs(i){const e=i.name;if(um.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,i);for(const n of qa.values())d0(n,i);for(const n of lm.values())d0(n,i);return!0}function sf(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function GT(i,e,n=Fc){sf(i,e).clearInstance(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new l1("app","Firebase",QT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=qT;function h1(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Fc,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(n||(n=s1()),!n)throw Fi.create("no-options");const u=qa.get(o);if(u){if(im(n,u.options)&&im(a,u.config))return u;throw Fi.create("duplicate-app",{appName:o})}const d=new Jw(o);for(const y of um.values())d.addComponent(y);const h=new $T(n,a,d);return qa.set(o,h),h}function zm(i=Fc){const e=qa.get(i);if(!e&&i===Fc&&s1())return h1();if(!e)throw Fi.create("no-app",{appName:i});return e}function KT(){return Array.from(qa.values())}async function h0(i){let e=!1;const n=i.name;qa.has(n)?(e=!0,qa.delete(n)):lm.has(n)&&i.decRefCount()<=0&&(lm.delete(n),e=!0),e&&(await Promise.all(i.container.getProviders().map(a=>a.delete())),i.isDeleted=!0)}function Ar(i,e,n){var a;let o=(a=FT[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(h.join(" "));return}Gs(new Ha(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebase-heartbeat-database",XT=1,kl="firebase-heartbeat-store";let Ph=null;function m1(){return Ph||(Ph=dT(YT,XT,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Fi.create("idb-open",{originalErrorMessage:i.message})})),Ph}async function WT(i){try{const n=(await m1()).transaction(kl),a=await n.objectStore(kl).get(p1(i));return await n.done,a}catch(e){if(e instanceof Wi)li.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function m0(i,e){try{const a=(await m1()).transaction(kl,"readwrite");await a.objectStore(kl).put(e,p1(i)),await a.done}catch(n){if(n instanceof Wi)li.warn(n.message);else{const a=Fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(a.message)}}}function p1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=1024,JT=30*24*60*60*1e3;class e4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n4(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=p0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=JT}),this._storage.overwrite(this._heartbeatsCache))}catch(a){li.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=p0(),{heartbeatsToSend:a,unsentEntries:o}=t4(this._heartbeatsCache.heartbeats),u=qc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return li.warn(n),""}}}function p0(){return new Date().toISOString().substring(0,10)}function t4(i,e=ZT){const n=[];let a=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),g0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),g0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class n4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function g0(i){return qc(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(i){Gs(new Ha("platform-logger",e=>new pT(e),"PRIVATE")),Gs(new Ha("heartbeat",e=>new e4(e),"PRIVATE")),Ar(om,f0,i),Ar(om,f0,"esm2017"),Ar("fire-js","")}r4("");var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ua,g1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,O){function R(){}R.prototype=O.prototype,N.D=O.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(E,M,L){for(var C=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)C[Z-2]=arguments[Z];return O.prototype[M].apply(E,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,O,R){R||(R=0);var E=Array(16);if(typeof O=="string")for(var M=0;16>M;++M)E[M]=O.charCodeAt(R++)|O.charCodeAt(R++)<<8|O.charCodeAt(R++)<<16|O.charCodeAt(R++)<<24;else for(M=0;16>M;++M)E[M]=O[R++]|O[R++]<<8|O[R++]<<16|O[R++]<<24;O=N.g[0],R=N.g[1],M=N.g[2];var L=N.g[3],C=O+(L^R&(M^L))+E[0]+3614090360&4294967295;O=R+(C<<7&4294967295|C>>>25),C=L+(M^O&(R^M))+E[1]+3905402710&4294967295,L=O+(C<<12&4294967295|C>>>20),C=M+(R^L&(O^R))+E[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(O^M&(L^O))+E[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=O+(L^R&(M^L))+E[4]+4118548399&4294967295,O=R+(C<<7&4294967295|C>>>25),C=L+(M^O&(R^M))+E[5]+1200080426&4294967295,L=O+(C<<12&4294967295|C>>>20),C=M+(R^L&(O^R))+E[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(O^M&(L^O))+E[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=O+(L^R&(M^L))+E[8]+1770035416&4294967295,O=R+(C<<7&4294967295|C>>>25),C=L+(M^O&(R^M))+E[9]+2336552879&4294967295,L=O+(C<<12&4294967295|C>>>20),C=M+(R^L&(O^R))+E[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(O^M&(L^O))+E[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=O+(L^R&(M^L))+E[12]+1804603682&4294967295,O=R+(C<<7&4294967295|C>>>25),C=L+(M^O&(R^M))+E[13]+4254626195&4294967295,L=O+(C<<12&4294967295|C>>>20),C=M+(R^L&(O^R))+E[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(O^M&(L^O))+E[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=O+(M^L&(R^M))+E[1]+4129170786&4294967295,O=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(O^R))+E[6]+3225465664&4294967295,L=O+(C<<9&4294967295|C>>>23),C=M+(O^R&(L^O))+E[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^O&(M^L))+E[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=O+(M^L&(R^M))+E[5]+3593408605&4294967295,O=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(O^R))+E[10]+38016083&4294967295,L=O+(C<<9&4294967295|C>>>23),C=M+(O^R&(L^O))+E[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^O&(M^L))+E[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=O+(M^L&(R^M))+E[9]+568446438&4294967295,O=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(O^R))+E[14]+3275163606&4294967295,L=O+(C<<9&4294967295|C>>>23),C=M+(O^R&(L^O))+E[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^O&(M^L))+E[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=O+(M^L&(R^M))+E[13]+2850285829&4294967295,O=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(O^R))+E[2]+4243563512&4294967295,L=O+(C<<9&4294967295|C>>>23),C=M+(O^R&(L^O))+E[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^O&(M^L))+E[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=O+(R^M^L)+E[5]+4294588738&4294967295,O=R+(C<<4&4294967295|C>>>28),C=L+(O^R^M)+E[8]+2272392833&4294967295,L=O+(C<<11&4294967295|C>>>21),C=M+(L^O^R)+E[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^O)+E[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=O+(R^M^L)+E[1]+2763975236&4294967295,O=R+(C<<4&4294967295|C>>>28),C=L+(O^R^M)+E[4]+1272893353&4294967295,L=O+(C<<11&4294967295|C>>>21),C=M+(L^O^R)+E[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^O)+E[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=O+(R^M^L)+E[13]+681279174&4294967295,O=R+(C<<4&4294967295|C>>>28),C=L+(O^R^M)+E[0]+3936430074&4294967295,L=O+(C<<11&4294967295|C>>>21),C=M+(L^O^R)+E[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^O)+E[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=O+(R^M^L)+E[9]+3654602809&4294967295,O=R+(C<<4&4294967295|C>>>28),C=L+(O^R^M)+E[12]+3873151461&4294967295,L=O+(C<<11&4294967295|C>>>21),C=M+(L^O^R)+E[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^O)+E[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=O+(M^(R|~L))+E[0]+4096336452&4294967295,O=R+(C<<6&4294967295|C>>>26),C=L+(R^(O|~M))+E[7]+1126891415&4294967295,L=O+(C<<10&4294967295|C>>>22),C=M+(O^(L|~R))+E[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~O))+E[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=O+(M^(R|~L))+E[12]+1700485571&4294967295,O=R+(C<<6&4294967295|C>>>26),C=L+(R^(O|~M))+E[3]+2399980690&4294967295,L=O+(C<<10&4294967295|C>>>22),C=M+(O^(L|~R))+E[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~O))+E[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=O+(M^(R|~L))+E[8]+1873313359&4294967295,O=R+(C<<6&4294967295|C>>>26),C=L+(R^(O|~M))+E[15]+4264355552&4294967295,L=O+(C<<10&4294967295|C>>>22),C=M+(O^(L|~R))+E[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~O))+E[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=O+(M^(R|~L))+E[4]+4149444226&4294967295,O=R+(C<<6&4294967295|C>>>26),C=L+(R^(O|~M))+E[11]+3174756917&4294967295,L=O+(C<<10&4294967295|C>>>22),C=M+(O^(L|~R))+E[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~O))+E[9]+3951481745&4294967295,N.g[0]=N.g[0]+O&4294967295,N.g[1]=N.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.u=function(N,O){O===void 0&&(O=N.length);for(var R=O-this.blockSize,E=this.B,M=this.h,L=0;L<O;){if(M==0)for(;L<=R;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<O;)if(E[M++]=N.charCodeAt(L++),M==this.blockSize){o(this,E),M=0;break}}else for(;L<O;)if(E[M++]=N[L++],M==this.blockSize){o(this,E),M=0;break}}this.h=M,this.o+=O},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var O=1;O<N.length-8;++O)N[O]=0;var R=8*this.o;for(O=N.length-8;O<N.length;++O)N[O]=R&255,R/=256;for(this.u(N),N=Array(16),O=R=0;4>O;++O)for(var E=0;32>E;E+=8)N[R++]=this.g[O]>>>E&255;return N};function u(N,O){var R=h;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=O(N)}function d(N,O){this.h=O;for(var R=[],E=!0,M=N.length-1;0<=M;M--){var L=N[M]|0;E&&L==O||(R[M]=L,E=!1)}this.g=R}var h={};function y(N){return-128<=N&&128>N?u(N,function(O){return new d([O|0],0>O?-1:0)}):new d([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return U(p(-N));for(var O=[],R=1,E=0;N>=R;E++)O[E]=N/R|0,R*=4294967296;return new d(O,0)}function b(N,O){if(N.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N.charAt(0)=="-")return U(b(N.substring(1),O));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(O,8)),E=S,M=0;M<N.length;M+=8){var L=Math.min(8,N.length-M),C=parseInt(N.substring(M,M+L),O);8>L?(L=p(Math.pow(O,L)),E=E.j(L).add(p(C))):(E=E.j(R),E=E.add(p(C)))}return E}var S=y(0),x=y(1),D=y(16777216);i=d.prototype,i.m=function(){if(V(this))return-U(this).m();for(var N=0,O=1,R=0;R<this.g.length;R++){var E=this.i(R);N+=(0<=E?E:4294967296+E)*O,O*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(B(this))return"0";if(V(this))return"-"+U(this).toString(N);for(var O=p(Math.pow(N,6)),R=this,E="";;){var M=re(R,O).g;R=F(R,M.j(O));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=M,B(R))return L+E;for(;6>L.length;)L="0"+L;E=L+E}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function B(N){if(N.h!=0)return!1;for(var O=0;O<N.g.length;O++)if(N.g[O]!=0)return!1;return!0}function V(N){return N.h==-1}i.l=function(N){return N=F(this,N),V(N)?-1:B(N)?0:1};function U(N){for(var O=N.g.length,R=[],E=0;E<O;E++)R[E]=~N.g[E];return new d(R,~N.h).add(x)}i.abs=function(){return V(this)?U(this):this},i.add=function(N){for(var O=Math.max(this.g.length,N.g.length),R=[],E=0,M=0;M<=O;M++){var L=E+(this.i(M)&65535)+(N.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);E=C>>>16,L&=65535,C&=65535,R[M]=C<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function F(N,O){return N.add(U(O))}i.j=function(N){if(B(this)||B(N))return S;if(V(this))return V(N)?U(this).j(U(N)):U(U(this).j(N));if(V(N))return U(this.j(U(N)));if(0>this.l(D)&&0>N.l(D))return p(this.m()*N.m());for(var O=this.g.length+N.g.length,R=[],E=0;E<2*O;E++)R[E]=0;for(E=0;E<this.g.length;E++)for(var M=0;M<N.g.length;M++){var L=this.i(E)>>>16,C=this.i(E)&65535,Z=N.i(M)>>>16,me=N.i(M)&65535;R[2*E+2*M]+=C*me,Y(R,2*E+2*M),R[2*E+2*M+1]+=L*me,Y(R,2*E+2*M+1),R[2*E+2*M+1]+=C*Z,Y(R,2*E+2*M+1),R[2*E+2*M+2]+=L*Z,Y(R,2*E+2*M+2)}for(E=0;E<O;E++)R[E]=R[2*E+1]<<16|R[2*E];for(E=O;E<2*O;E++)R[E]=0;return new d(R,0)};function Y(N,O){for(;(N[O]&65535)!=N[O];)N[O+1]+=N[O]>>>16,N[O]&=65535,O++}function ne(N,O){this.g=N,this.h=O}function re(N,O){if(B(O))throw Error("division by zero");if(B(N))return new ne(S,S);if(V(N))return O=re(U(N),O),new ne(U(O.g),U(O.h));if(V(O))return O=re(N,U(O)),new ne(U(O.g),O.h);if(30<N.g.length){if(V(N)||V(O))throw Error("slowDivide_ only works with positive integers.");for(var R=x,E=O;0>=E.l(N);)R=P(R),E=P(E);var M=H(R,1),L=H(E,1);for(E=H(E,2),R=H(R,2);!B(E);){var C=L.add(E);0>=C.l(N)&&(M=M.add(R),L=C),E=H(E,1),R=H(R,1)}return O=F(N,M.j(O)),new ne(M,O)}for(M=S;0<=N.l(O);){for(R=Math.max(1,Math.floor(N.m()/O.m())),E=Math.ceil(Math.log(R)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),L=p(R),C=L.j(O);V(C)||0<C.l(N);)R-=E,L=p(R),C=L.j(O);B(L)&&(L=x),M=M.add(L),N=F(N,C)}return new ne(M,N)}i.A=function(N){return re(this,N).h},i.and=function(N){for(var O=Math.max(this.g.length,N.g.length),R=[],E=0;E<O;E++)R[E]=this.i(E)&N.i(E);return new d(R,this.h&N.h)},i.or=function(N){for(var O=Math.max(this.g.length,N.g.length),R=[],E=0;E<O;E++)R[E]=this.i(E)|N.i(E);return new d(R,this.h|N.h)},i.xor=function(N){for(var O=Math.max(this.g.length,N.g.length),R=[],E=0;E<O;E++)R[E]=this.i(E)^N.i(E);return new d(R,this.h^N.h)};function P(N){for(var O=N.g.length+1,R=[],E=0;E<O;E++)R[E]=N.i(E)<<1|N.i(E-1)>>>31;return new d(R,N.h)}function H(N,O){var R=O>>5;O%=32;for(var E=N.g.length-R,M=[],L=0;L<E;L++)M[L]=0<O?N.i(L+R)>>>O|N.i(L+R+1)<<32-O:N.i(L+R);return new d(M,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,g1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=b,Ua=d}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y1,Al,v1,Pc,cm,_1,b1,E1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,T){return c==Array.prototype||c==Object.prototype||(c[v]=T.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var v=0;v<c.length;++v){var T=c[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=n(this);function o(c,v){if(v)e:{var T=a;c=c.split(".");for(var k=0;k<c.length-1;k++){var J=c[k];if(!(J in T))break e;T=T[J]}c=c[c.length-1],k=T[c],v=v(k),v!=k&&v!=null&&e(T,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var T=0,k=!1,J={next:function(){if(!k&&T<c.length){var oe=T++;return{value:v(oe,c[oe]),done:!1}}return k=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},h=this||self;function y(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function b(c,v,T){return c.call.apply(c.bind,arguments)}function S(c,v,T){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,k),c.apply(v,J)}}return function(){return c.apply(v,arguments)}}function x(c,v,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:S,x.apply(null,arguments)}function D(c,v){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function B(c,v){function T(){}T.prototype=v.prototype,c.aa=v.prototype,c.prototype=new T,c.prototype.constructor=c,c.Qb=function(k,J,oe){for(var ve=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ve[Ke-2]=arguments[Ke];return v.prototype[J].apply(k,ve)}}function V(c){const v=c.length;if(0<v){const T=Array(v);for(let k=0;k<v;k++)T[k]=c[k];return T}return[]}function U(c,v){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(y(k)){const J=c.length||0,oe=k.length||0;c.length=J+oe;for(let ve=0;ve<oe;ve++)c[J+ve]=k[ve]}else c.push(k)}}class F{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var P=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function H(c,v,T){for(const k in c)v.call(T,c[k],k,c)}function N(c,v){for(const T in c)v.call(void 0,c[T],T,c)}function O(c){const v={};for(const T in c)v[T]=c[T];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,v){let T,k;for(let J=1;J<arguments.length;J++){k=arguments[J];for(T in k)c[T]=k[T];for(let oe=0;oe<R.length;oe++)T=R[oe],Object.prototype.hasOwnProperty.call(k,T)&&(c[T]=k[T])}}function M(c){var v=1;c=c.split(":");const T=[];for(;0<v&&c.length;)T.push(c.shift()),v--;return c.length&&T.push(c.join(":")),T}function L(c){h.setTimeout(()=>{throw c},0)}function C(){var c=G;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Z{constructor(){this.h=this.g=null}add(v,T){const k=me.get();k.set(v,T),this.h?this.h.next=k:this.g=k,this.h=k}}var me=new F(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let w,ge=!1,G=new Z,_=()=>{const c=h.Promise.resolve(void 0);w=()=>{c.then(j)}};var j=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(T){L(T)}var v=me;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}ge=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return c}();function ce(c,v){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var T=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(P){e:{try{re(v.nodeName);var J=!0;break e}catch{}J=!1}J||(v=null)}}else T=="mouseover"?v=c.fromElement:T=="mouseout"&&(v=c.toElement);this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}B(ce,W);var le={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Oe(c,v,T,k,J){this.listener=c,this.proxy=null,this.src=v,this.type=T,this.capture=!!k,this.ha=J,this.key=++Se,this.da=this.fa=!1}function Pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c){this.src=c,this.g={},this.h=0}ze.prototype.add=function(c,v,T,k,J){var oe=c.toString();c=this.g[oe],c||(c=this.g[oe]=[],this.h++);var ve=Ve(c,v,k,J);return-1<ve?(v=c[ve],T||(v.fa=!1)):(v=new Oe(v,this.src,oe,!!k,J),v.fa=T,c.push(v)),v};function He(c,v){var T=v.type;if(T in c.g){var k=c.g[T],J=Array.prototype.indexOf.call(k,v,void 0),oe;(oe=0<=J)&&Array.prototype.splice.call(k,J,1),oe&&(Pe(v),c.g[T].length==0&&(delete c.g[T],c.h--))}}function Ve(c,v,T,k){for(var J=0;J<c.length;++J){var oe=c[J];if(!oe.da&&oe.listener==v&&oe.capture==!!T&&oe.ha==k)return J}return-1}var je="closure_lm_"+(1e6*Math.random()|0),Ge={};function ht(c,v,T,k,J){if(Array.isArray(v)){for(var oe=0;oe<v.length;oe++)ht(c,v[oe],T,k,J);return null}return T=or(T),c&&c[ye]?c.K(v,T,p(k)?!!k.capture:!1,J):xe(c,v,T,!1,k,J)}function xe(c,v,T,k,J,oe){if(!v)throw Error("Invalid event type");var ve=p(J)?!!J.capture:!!J,Ke=Zn(c);if(Ke||(c[je]=Ke=new ze(c)),T=Ke.add(v,T,k,ve,oe),T.proxy)return T;if(k=mt(),T.proxy=k,k.src=c,k.listener=T,c.addEventListener)ae||(J=ve),J===void 0&&(J=!1),c.addEventListener(v.toString(),k,J);else if(c.attachEvent)c.attachEvent(Rt(v.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function mt(){function c(T){return v.call(c.src,c.listener,T)}const v=Wn;return c}function pt(c,v,T,k,J){if(Array.isArray(v))for(var oe=0;oe<v.length;oe++)pt(c,v[oe],T,k,J);else k=p(k)?!!k.capture:!!k,T=or(T),c&&c[ye]?(c=c.i,v=String(v).toString(),v in c.g&&(oe=c.g[v],T=Ve(oe,T,k,J),-1<T&&(Pe(oe[T]),Array.prototype.splice.call(oe,T,1),oe.length==0&&(delete c.g[v],c.h--)))):c&&(c=Zn(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Ve(v,T,k,J)),(T=-1<c?v[c]:null)&&gt(T))}function gt(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[ye])He(v.i,c);else{var T=c.type,k=c.proxy;v.removeEventListener?v.removeEventListener(T,k,c.capture):v.detachEvent?v.detachEvent(Rt(T),k):v.addListener&&v.removeListener&&v.removeListener(k),(T=Zn(v))?(He(T,c),T.h==0&&(T.src=null,v[je]=null)):Pe(c)}}}function Rt(c){return c in Ge?Ge[c]:Ge[c]="on"+c}function Wn(c,v){if(c.da)c=!0;else{v=new ce(v,this);var T=c.listener,k=c.ha||c.src;c.fa&&gt(c),c=T.call(k,v)}return c}function Zn(c){return c=c[je],c instanceof ze?c:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(c){return typeof c=="function"?c:(c[di]||(c[di]=function(v){return c.handleEvent(v)}),c[di])}function yt(){$.call(this),this.i=new ze(this),this.M=this,this.F=null}B(yt,$),yt.prototype[ye]=!0,yt.prototype.removeEventListener=function(c,v,T,k){pt(this,c,v,T,k)};function Ue(c,v){var T,k=c.F;if(k)for(T=[];k;k=k.F)T.push(k);if(c=c.M,k=v.type||v,typeof v=="string")v=new W(v,c);else if(v instanceof W)v.target=v.target||c;else{var J=v;v=new W(k,c),E(v,J)}if(J=!0,T)for(var oe=T.length-1;0<=oe;oe--){var ve=v.g=T[oe];J=Lt(ve,k,!0,v)&&J}if(ve=v.g=c,J=Lt(ve,k,!0,v)&&J,J=Lt(ve,k,!1,v)&&J,T)for(oe=0;oe<T.length;oe++)ve=v.g=T[oe],J=Lt(ve,k,!1,v)&&J}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var T=c.g[v],k=0;k<T.length;k++)Pe(T[k]);delete c.g[v],c.h--}}this.F=null},yt.prototype.K=function(c,v,T,k){return this.i.add(String(c),v,!1,T,k)},yt.prototype.L=function(c,v,T,k){return this.i.add(String(c),v,!0,T,k)};function Lt(c,v,T,k){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var J=!0,oe=0;oe<v.length;++oe){var ve=v[oe];if(ve&&!ve.da&&ve.capture==T){var Ke=ve.listener,Ut=ve.ha||ve.src;ve.fa&&He(c.i,ve),J=Ke.call(Ut,k)!==!1&&J}}return J&&!k.defaultPrevented}function cn(c,v,T){if(typeof c=="function")T&&(c=x(c,T));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(c,v||0)}function ru(c){c.g=cn(()=>{c.g=null,c.i&&(c.i=!1,ru(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Rf extends ${constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(c){$.call(this),this.h=c,this.g={}}B(ea,$);var ta=[];function na(c){H(c.g,function(v,T){this.g.hasOwnProperty(T)&&gt(v)},c),c.g={}}ea.prototype.N=function(){ea.aa.N.call(this),na(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=h.JSON.stringify,Xa=h.JSON.parse,ra=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function co(){}co.prototype.h=null;function fo(c){return c.h||(c.h=c.i())}function ho(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){W.call(this,"d")}B(Mr,W);function mo(){W.call(this,"c")}B(mo,W);var lr={},po=null;function hi(){return po=po||new yt}lr.La="serverreachability";function Wa(c){W.call(this,lr.La,c)}B(Wa,W);function mi(c){const v=hi();Ue(v,new Wa(v))}lr.STAT_EVENT="statevent";function iu(c,v){W.call(this,lr.STAT_EVENT,c),this.stat=v}B(iu,W);function vt(c){const v=hi();Ue(v,new iu(v,c))}lr.Ma="timingevent";function zt(c,v){W.call(this,lr.Ma,c),this.size=v}B(zt,W);function Dt(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},v)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function go(c,v,T,k,J,oe){c.info(function(){if(c.g)if(oe)for(var ve="",Ke=oe.split("&"),Ut=0;Ut<Ke.length;Ut++){var Ye=Ke[Ut].split("=");if(1<Ye.length){var Qt=Ye[0];Ye=Ye[1];var Bt=Qt.split("_");ve=2<=Bt.length&&Bt[1]=="type"?ve+(Qt+"="+Ye+"&"):ve+(Qt+"=redacted&")}}else ve=null;else ve=oe;return"XMLHTTP REQ ("+k+") [attempt "+J+"]: "+v+`
`+T+`
`+ve})}function xf(c,v,T,k,J,oe,ve){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+J+"]: "+v+`
`+T+`
`+oe+" "+ve})}function pi(c,v,T,k){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+ia(c,T)+(k?" "+k:"")})}function au(c,v){c.info(function(){return"TIMEOUT: "+v})}Ln.prototype.info=function(){};function ia(c,v){if(!c.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(c=0;c<T.length;c++)if(Array.isArray(T[c])){var k=T[c];if(!(2>k.length)){var J=k[1];if(Array.isArray(J)&&!(1>J.length)){var oe=J[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var ve=1;ve<J.length;ve++)J[ve]=""}}}}return Jn(T)}catch{return v}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ur;function cr(){}B(cr,co),cr.prototype.g=function(){return new XMLHttpRequest},cr.prototype.i=function(){return{}},ur=new cr;function vn(c,v,T,k){this.j=c,this.i=v,this.l=T,this.R=k||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var yo={},Za={};function er(c,v,T){c.L=1,c.v=ua(Cn(v)),c.m=T,c.P=!0,kr(c,null)}function kr(c,v){c.F=Date.now(),aa(c),c.A=Cn(c.v);var T=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),wo(T.i,"t",k),c.C=0,T=c.j.J,c.h=new xt,c.g=Eu(c.j,T?v:null,!c.m),0<c.O&&(c.M=new Rf(x(c.Y,c,c.g),c.O)),v=c.U,T=c.g,k=c.ca;var J="readystatechange";Array.isArray(J)||(J&&(ta[0]=J.toString()),J=ta);for(var oe=0;oe<J.length;oe++){var ve=ht(T,J[oe],k||v.handleEvent,!1,v.h||v);if(!ve)break;v.g[ve.key]=ve}v=c.H?O(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),mi(),go(c.i,c.u,c.A,c.l,c.R,c.m)}vn.prototype.ca=function(c){c=c.target;const v=this.M;v&&Hn(c)==3?v.j():this.Y(c)},vn.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=Hn(this.g);var v=this.g.Ba();const Fr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Bt!=4||v==7||(v==8||0>=Fr?mi(3):mi(2)),yi(this);var T=this.g.Z();this.X=T;t:if(su(this)){var k=hu(this.g);c="";var J=k.length,oe=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),fr(this);var ve="";break t}this.h.i=new h.TextDecoder}for(v=0;v<J;v++)this.h.h=!0,c+=this.h.i.decode(k[v],{stream:!(oe&&v==J-1)});k.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=T==200,xf(this.i,this.u,this.A,this.l,this.R,Bt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ut=this.g;if((Ke=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ke)){var Ye=Ke;break t}}Ye=null}if(T=Ye)pi(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,T);else{this.o=!1,this.s=3,vt(12),en(this),fr(this);break e}}if(this.P){T=!0;let tn;for(;!this.J&&this.C<ve.length;)if(tn=ou(this,ve),tn==Za){Bt==4&&(this.s=4,vt(14),T=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==yo){this.s=4,vt(15),pi(this.i,this.l,ve,"[Invalid Chunk]"),T=!1;break}else pi(this.i,this.l,tn,null),sa(this,tn);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ve.length!=0||this.h.h||(this.s=1,vt(16),T=!1),this.o=this.o&&T,!T)pi(this.i,this.l,ve,"[Invalid Chunked Response]"),en(this),fr(this);else if(0<ve.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),ya(Qt),Qt.M=!0,vt(11))}}else pi(this.i,this.l,ve,null),sa(this,ve);Bt==4&&en(this),this.o&&!this.J&&(Bt==4?vu(this.j,this):(this.o=!1,aa(this)))}else Df(this.g),T==400&&0<ve.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),en(this),fr(this)}}}catch{}finally{}};function su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ou(c,v){var T=c.C,k=v.indexOf(`
`,T);return k==-1?Za:(T=Number(v.substring(T,k)),isNaN(T)?yo:(k+=1,k+T>v.length?Za:(v=v.slice(k,k+T),c.C=k+T,v)))}vn.prototype.cancel=function(){this.J=!0,en(this)};function aa(c){c.S=Date.now()+c.I,lu(c,c.I)}function lu(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dt(x(c.ba,c),v)}function yi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(au(this.i,this.A),this.L!=2&&(mi(),vt(17)),en(this),this.s=2,fr(this)):lu(this,this.S-c)};function fr(c){c.j.G==0||c.J||vu(c.j,c)}function en(c){yi(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,na(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function sa(c,v){try{var T=c.j;if(T.G!=0&&(T.g==c||vo(T.h,c))){if(!c.K&&vo(T.h,c)&&T.G==3){try{var k=T.Da.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var J=k;if(J[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<c.F)cs(T),ls(T);else break e;Co(T),vt(18)}}else T.za=J[1],0<T.za-T.T&&37500>J[2]&&T.F&&T.v==0&&!T.C&&(T.C=Dt(x(T.Za,T),6e3));if(1>=es(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else qr(T,11)}else if((c.K||T.g==c)&&cs(T),!Y(v))for(J=T.Da.g.parse(v),v=0;v<J.length;v++){let Ye=J[v];if(T.T=Ye[0],Ye=Ye[1],T.G==2)if(Ye[0]=="c"){T.K=Ye[1],T.ia=Ye[2];const Qt=Ye[3];Qt!=null&&(T.la=Qt,T.j.info("VER="+T.la));const Bt=Ye[4];Bt!=null&&(T.Aa=Bt,T.j.info("SVER="+T.Aa));const Fr=Ye[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(k=1.5*Fr,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const tn=c.g;if(tn){const vr=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var oe=k.h;oe.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(ts(oe,oe.h),oe.h=null))}if(k.D){const Oo=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(k.ya=Oo,st(k.I,k.D,Oo))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-c.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var ve=c;if(k.qa=bu(k,k.J?k.ia:null,k.W),ve.K){_n(k.h,ve);var Ke=ve,Ut=k.L;Ut&&(Ke.I=Ut),Ke.B&&(yi(Ke),aa(Ke)),k.g=ve}else gu(k);0<T.i.length&&us(T)}else Ye[0]!="stop"&&Ye[0]!="close"||qr(T,7);else T.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?qr(T,7):Ro(T):Ye[0]!="noop"&&T.l&&T.l.ta(Ye),T.v=0)}}mi(4)}catch{}}var uu=class{constructor(c,v){this.g=c,this.map=v}};function Vr(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ja(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function es(c){return c.h?1:c.g?c.g.size:0}function vo(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function ts(c,v){c.g?c.g.add(v):c.h=v}function _n(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Vr.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _o(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const T of c.g.values())v=v.concat(T.D);return v}return V(c.i)}function Cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var v=[],T=c.length,k=0;k<T;k++)v.push(c[k]);return v}v=[],T=0;for(k in c)v[T++]=c[k];return v}function ns(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var v=[];c=c.length;for(var T=0;T<c;T++)v.push(T);return v}v=[],T=0;for(const k in c)v[T++]=k;return v}}}function bo(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var T=ns(c),k=Cf(c),J=k.length,oe=0;oe<J;oe++)v.call(void 0,k[oe],T&&T[oe],c)}var oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(c,v){if(c){c=c.split("&");for(var T=0;T<c.length;T++){var k=c[T].indexOf("="),J=null;if(0<=k){var oe=c[T].substring(0,k);J=c[T].substring(k+1)}else oe=c[T];v(oe,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function jt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof jt){this.h=c.h,la(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var v=c.i,T=new zr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Lr(this,T),this.m=c.m}else c&&(v=String(c).match(oa))?(this.h=!1,la(this,v[1]||"",!0),this.o=zn(v[2]||""),this.g=zn(v[3]||"",!0),vi(this,v[4]),this.l=zn(v[5]||"",!0),Lr(this,v[6]||"",!0),this.m=zn(v[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}jt.prototype.toString=function(){var c=[],v=this.j;v&&c.push(ca(v,Eo,!0),":");var T=this.g;return(T||v=="file")&&(c.push("//"),(v=this.o)&&c.push(ca(v,Eo,!0),"@"),c.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&c.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(ca(T,T.charAt(0)=="/"?Of:So,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",ca(T,rs)),c.join("")};function Cn(c){return new jt(c)}function la(c,v,T){c.j=T?zn(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function Lr(c,v,T){v instanceof zr?(c.i=v,fu(c.i,c.h)):(T||(v=ca(v,If)),c.i=new zr(v,c.h))}function st(c,v,T){c.i.set(v,T)}function ua(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ca(c,v,T){return typeof c=="string"?(c=encodeURI(c).replace(v,cu),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,So=/[#\?:]/g,Of=/[#\?]/g,If=/[#\?@]/g,rs=/#/g;function zr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Un(c){c.g||(c.g=new Map,c.h=0,c.i&&Nf(c.i,function(v,T){c.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}i=zr.prototype,i.add=function(c,v){Un(this),this.i=null,c=dr(this,c);var T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(v),this.h+=1,this};function Ur(c,v){Un(c),v=dr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Br(c,v){return Un(c),v=dr(c,v),c.g.has(v)}i.forEach=function(c,v){Un(this),this.g.forEach(function(T,k){T.forEach(function(J){c.call(v,J,k,this)},this)},this)},i.na=function(){Un(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let k=0;k<v.length;k++){const J=c[k];for(let oe=0;oe<J.length;oe++)T.push(v[k])}return T},i.V=function(c){Un(this);let v=[];if(typeof c=="string")Br(this,c)&&(v=v.concat(this.g.get(dr(this,c))));else{c=Array.from(this.g.values());for(let T=0;T<c.length;T++)v=v.concat(c[T])}return v},i.set=function(c,v){return Un(this),this.i=null,c=dr(this,c),Br(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function wo(c,v,T){Ur(c,v),0<T.length&&(c.i=null,c.g.set(dr(c,v),V(T)),c.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var k=v[T];const oe=encodeURIComponent(String(k)),ve=this.V(k);for(k=0;k<ve.length;k++){var J=oe;ve[k]!==""&&(J+="="+encodeURIComponent(String(ve[k]))),c.push(J)}}return this.i=c.join("&")};function dr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function fu(c,v){v&&!c.j&&(Un(c),c.i=null,c.g.forEach(function(T,k){var J=k.toLowerCase();k!=J&&(Ur(this,k),wo(this,J,T))},c)),c.j=v}function fa(c,v){const T=new Ln;if(h.Image){const k=new Image;k.onload=D(Bn,T,"TestLoadImage: loaded",!0,v,k),k.onerror=D(Bn,T,"TestLoadImage: error",!1,v,k),k.onabort=D(Bn,T,"TestLoadImage: abort",!1,v,k),k.ontimeout=D(Bn,T,"TestLoadImage: timeout",!1,v,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else v(!1)}function tr(c,v){const T=new Ln,k=new AbortController,J=setTimeout(()=>{k.abort(),Bn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:k.signal}).then(oe=>{clearTimeout(J),oe.ok?Bn(T,"TestPingServer: ok",!0,v):Bn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(J),Bn(T,"TestPingServer: error",!1,v)})}function Bn(c,v,T,k,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),k(T)}catch{}}function da(){this.g=new ra}function hr(c,v,T){const k=T||"";try{bo(c,function(J,oe){let ve=J;p(J)&&(ve=Jn(J)),v.push(k+oe+"="+encodeURIComponent(ve))})}catch(J){throw v.push(k+"type="+encodeURIComponent("_badmap")),J}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}B(_i,co),_i.prototype.g=function(){return new Hr(this.l,this.j)},_i.prototype.i=function(c){return function(){return c}}({});function Hr(c,v){yt.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Hr,yt),i=Hr.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,pr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;To(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function To(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?mr(this):pr(this),this.readyState==3&&To(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,mr(this))},i.Qa=function(c){this.g&&(this.response=c,mr(this))},i.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pr(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=v.next();return c.join(`\r
`)};function pr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ao(c){let v="";return H(c,function(T,k){v+=k,v+=":",v+=T,v+=`\r
`}),v}function Gt(c,v,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Ao(T),typeof c=="string"?T!=null&&encodeURIComponent(String(T)):st(c,v,T))}function nt(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(nt,yt);var is=/^https?$/i,ha=["POST","PUT"];i=nt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ur.g(),this.v=this.o?fo(this.o):fo(ur),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(oe){du(this,oe);return}if(c=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var J in k)T.set(J,k[J]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const oe of k.keys())T.set(oe,k.get(oe));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(oe=>oe.toLowerCase()=="content-type"),J=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ha,v,void 0))||k||J||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,ve]of T)this.g.setRequestHeader(oe,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ma(this),this.u=!0,this.g.send(c),this.u=!1}catch(oe){du(this,oe)}};function du(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,as(c),gr(c)}function as(c){c.A||(c.A=!0,Ue(c,"complete"),Ue(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ue(this,"complete"),Ue(this,"abort"),gr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),nt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ss(this):this.bb())},i.bb=function(){ss(this)};function ss(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)cn(c.Ea,0,c);else if(Ue(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var k;if(k=ve===0){var J=String(c.D).match(oa)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),k=!is.test(J?J.toLowerCase():"")}T=k}if(T)Ue(c,"complete"),Ue(c,"success");else{c.m=6;try{var oe=2<Hn(c)?c.g.statusText:""}catch{oe=""}c.l=oe+" ["+c.Z()+"]",as(c)}}finally{gr(c)}}}}function gr(c,v){if(c.g){ma(c);const T=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Ue(c,"ready");try{T.onreadystatechange=k}catch{}}}function ma(c){c.I&&(h.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Xa(v)}};function hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(c){const v={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(Y(c[k]))continue;var T=M(c[k]);const J=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const oe=v[J]||[];v[J]=oe,oe.push(T)}N(v,function(k){return k.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(c,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||v}function os(c){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,c),this.cb=pa("retryDelaySeedMs",1e4,c),this.Wa=pa("forwardChannelMaxRetries",2,c),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vr(c&&c.concurrentRequestLimit),this.Da=new da,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=os.prototype,i.la=8,i.G=1,i.connect=function(c,v,T,k){vt(0),this.W=c,this.H=v||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=bu(this,null,this.W),us(this)};function Ro(c){if(mu(c),c.G==3){var v=c.U++,T=Cn(c.I);if(st(T,"SID",c.K),st(T,"RID",v),st(T,"TYPE","terminate"),ga(c,T),v=new vn(c,c.j,v),v.L=2,v.v=ua(Cn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=Eu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),aa(v)}_u(c)}function ls(c){c.g&&(ya(c),c.g.cancel(),c.g=null)}function mu(c){ls(c),c.u&&(h.clearTimeout(c.u),c.u=null),cs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function us(c){if(!Ja(c.h)&&!c.s){c.s=!0;var v=c.Ga;w||_(),ge||(w(),ge=!0),G.add(v,c),c.B=0}}function jf(c,v){return es(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dt(x(c.Ga,c,v),No(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const J=new vn(this,this.j,c);let oe=this.o;if(this.S&&(oe?(oe=O(oe),E(oe,this.S)):oe=this.S),this.m!==null||this.O||(J.H=oe,oe=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=pu(this,J,v),T=Cn(this.I),st(T,"RID",c),st(T,"CVER",22),this.D&&st(T,"X-HTTP-Session-Id",this.D),ga(this,T),oe&&(this.O?v="headers="+encodeURIComponent(String(Ao(oe)))+"&"+v:this.m&&Gt(T,this.m,oe)),ts(this.h,J),this.Ua&&st(T,"TYPE","init"),this.P?(st(T,"$req",v),st(T,"SID","null"),J.T=!0,er(J,T,null)):er(J,T,v),this.G=2}}else this.G==3&&(c?xo(this,c):this.i.length==0||Ja(this.h)||xo(this))};function xo(c,v){var T;v?T=v.l:T=c.U++;const k=Cn(c.I);st(k,"SID",c.K),st(k,"RID",T),st(k,"AID",c.T),ga(c,k),c.m&&c.o&&Gt(k,c.m,c.o),T=new vn(c,c.j,T,c.B+1),c.m===null&&(T.H=c.o),v&&(c.i=v.D.concat(c.i)),v=pu(c,T,1e3),T.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ts(c.h,T),er(T,k,v)}function ga(c,v){c.H&&H(c.H,function(T,k){st(v,k,T)}),c.l&&bo({},function(T,k){st(v,k,T)})}function pu(c,v,T){T=Math.min(c.i.length,T);var k=c.l?x(c.l.Na,c.l,c):null;e:{var J=c.i;let oe=-1;for(;;){const ve=["count="+T];oe==-1?0<T?(oe=J[0].g,ve.push("ofs="+oe)):oe=0:ve.push("ofs="+oe);let Ke=!0;for(let Ut=0;Ut<T;Ut++){let Ye=J[Ut].g;const Qt=J[Ut].map;if(Ye-=oe,0>Ye)oe=Math.max(0,J[Ut].g-100),Ke=!1;else try{hr(Qt,ve,"req"+Ye+"_")}catch{k&&k(Qt)}}if(Ke){k=ve.join("&");break e}}}return c=c.i.splice(0,T),v.D=c,k}function gu(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;w||_(),ge||(w(),ge=!0),G.add(v,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dt(x(c.Fa,c),No(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dt(x(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ls(this),yu(this))};function ya(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function yu(c){c.g=new vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=Cn(c.qa);st(v,"RID","rpc"),st(v,"SID",c.K),st(v,"AID",c.T),st(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(v,"TO",c.ja),st(v,"TYPE","xmlhttp"),ga(c,v),c.m&&c.o&&Gt(v,c.m,c.o),c.L&&(c.g.I=c.L);var T=c.g;c=c.ia,T.L=1,T.v=ua(Cn(v)),T.m=null,T.P=!0,kr(T,c)}i.Za=function(){this.C!=null&&(this.C=null,ls(this),Co(this),vt(19))};function cs(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function vu(c,v){var T=null;if(c.g==v){cs(c),ya(c),c.g=null;var k=2}else if(vo(c.h,v))T=v.D,_n(c.h,v),k=1;else return;if(c.G!=0){if(v.o)if(k==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var J=c.B;k=hi(),Ue(k,new zt(k,T)),us(c)}else gu(c);else if(J=v.s,J==3||J==0&&0<v.X||!(k==1&&jf(c,v)||k==2&&Co(c)))switch(T&&0<T.length&&(v=c.h,v.i=v.i.concat(T)),J){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function No(c,v){let T=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(T*=2),T*v}function qr(c,v){if(c.j.info("Error code "+v),v==2){var T=x(c.fb,c),k=c.Xa;const J=!k;k=new jt(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||la(k,"https"),ua(k),J?fa(k.toString(),T):tr(k.toString(),T)}else vt(2);c.G=0,c.l&&c.l.sa(v),_u(c),mu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function _u(c){if(c.G=0,c.ka=[],c.l){const v=_o(c.h);(v.length!=0||c.i.length!=0)&&(U(c.ka,v),U(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function bu(c,v,T){var k=T instanceof jt?Cn(T):new jt(T);if(k.g!="")v&&(k.g=v+"."+k.g),vi(k,k.s);else{var J=h.location;k=J.protocol,v=v?v+"."+J.hostname:J.hostname,J=+J.port;var oe=new jt(null);k&&la(oe,k),v&&(oe.g=v),J&&vi(oe,J),T&&(oe.l=T),k=oe}return T=c.D,v=c.ya,T&&v&&st(k,T,v),st(k,"VER",c.la),ga(c,k),k}function Eu(c,v,T){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new nt(new _i({eb:T})):new nt(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}i=Su.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(c,v){return new bn(c,v)};function bn(c,v){yt.call(this),this.g=new os(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!Y(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new yr(this)}B(bn,yt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ro(this.g)},bn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.u&&(T={},T.__data__=Jn(c),c=T);v.i.push(new uu(v.Ya++,c)),v.G==3&&us(v)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,bn.aa.N.call(this)};function wu(c){Mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const T in v){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}B(wu,Mr);function Tu(){mo.call(this),this.status=1}B(Tu,mo);function yr(c){this.g=c}B(yr,Su),yr.prototype.ua=function(){Ue(this.g,"a")},yr.prototype.ta=function(c){Ue(this.g,new wu(c))},yr.prototype.sa=function(c){Ue(this.g,new Tu)},yr.prototype.ra=function(){Ue(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,E1=function(){return new fs},b1=function(){return hi()},_1=lr,cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Pc=gi,Pr.COMPLETE="complete",v1=Pr,ho.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Al=ho,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,y1=nt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new u1("@firebase/firestore");function bl(){return Fa.logLevel}function we(i,...e){if(Fa.logLevel<=Ze.DEBUG){const n=e.map(Um);Fa.debug(`Firestore (${io}): ${i}`,...n)}}function ui(i,...e){if(Fa.logLevel<=Ze.ERROR){const n=e.map(Um);Fa.error(`Firestore (${io}): ${i}`,...n)}}function Qs(i,...e){if(Fa.logLevel<=Ze.WARN){const n=e.map(Um);Fa.warn(`Firestore (${io}): ${i}`,...n)}}function Um(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(i="Unexpected state"){const e=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: `+i;throw ui(e),new Error(e)}function at(i,e){i||Ie()}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class a4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s4{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let u=new si;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new si,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=u;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},h=y=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>h(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?h(y):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new si)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(at(typeof a.accessToken=="string"),new S1(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new mn(e)}}class o4{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class l4{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new o4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){at(this.o===void 0);const a=u=>{u.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,we("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new u4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const o=f4(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%e.length))}return a}}function et(i,e){return i<e?-1:i>e?1:0}function $s(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new At(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new At(0,0))}static max(){return new Me(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ie(),a===void 0?a=e.length-n:a>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Vl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vl?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=e.get(o),d=n.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends Vl{construct(e,n,a){return new dt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new be(he.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const d4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Vl{construct(e,n,a){return new on(e,n,a)}static isValidIdentifier(e){return d4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new be(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new be(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new be(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else h==="`"?(d=!d,o++):h!=="."||d?(a+=h,o++):(u(),o++)}if(u(),d)throw new be(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(dt.fromString(e))}static fromName(e){return new Ae(dt.fromString(e).popFirst(5))}static empty(){return new Ae(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new dt(e.slice()))}}function h4(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(a===1e9?new At(n+1,0):new At(n,a));return new $i(o,Ae.empty(),e)}function m4(i){return new $i(i.readTime,i.key,-1)}class $i{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new $i(Me.min(),Ae.empty(),-1)}static max(){return new $i(Me.max(),Ae.empty(),-1)}}function p4(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(i.documentKey,e.documentKey),n!==0?n:et(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==g4)throw i;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,a)=>{n(e)})}static reject(e){return new pe((n,a)=>{a(e)})}static waitFor(e){return new pe((n,a)=>{let o=0,u=0,d=!1;e.forEach(h=>{++o,h.next(()=>{++u,d&&u===o&&n()},y=>a(y))}),d=!0,u===o&&n()})}static or(e){let n=pe.resolve(!1);for(const a of e)n=n.next(o=>o?pe.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new pe((a,o)=>{const u=e.length,d=new Array(u);let h=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next(b=>{d[p]=b,++h,h===u&&a(d)},b=>o(b))}})}static doWhile(e,n){return new pe((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function v4(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ie(a),this.se=a=>n.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bm.oe=-1;function of(i){return i==null}function Gc(i){return i===0&&1/i==-1/0}function _4(i){return typeof i=="number"&&Number.isInteger(i)&&!Gc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ka(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function T1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new sn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,a,o,u){return this}insert(e,n,a){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(e){return new b0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class b0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new kn([])}unionWith(e){let n=new ln(on.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new A1("Invalid base64 string: "+u):u}}(e);return new un(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const b4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(i){if(at(!!i),typeof i=="string"){let e=0;const n=b4.exec(i);if(at(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ot(i.seconds),nanos:Ot(i.nanos)}}function Ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ga(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qm(i){const e=i.mapValue.fields.__previous_value__;return Hm(e)?qm(e):e}function Ll(i){const e=Ki(i.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,a,o,u,d,h,y,p){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=h,this.longPollingOptions=y,this.useFetchStreams=p}}class zl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc={mapValue:{}};function Qa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hm(i)?4:w4(i)?9007199254740991:S4(i)?10:11:Ie()}function Nr(i,e){if(i===e)return!0;const n=Qa(i);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ll(i).isEqual(Ll(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Ki(o.timestampValue),h=Ki(u.timestampValue);return d.seconds===h.seconds&&d.nanos===h.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Ga(o.bytesValue).isEqual(Ga(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ot(o.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ot(o.integerValue)===Ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Ot(o.doubleValue),h=Ot(u.doubleValue);return d===h?Gc(d)===Gc(h):isNaN(d)&&isNaN(h)}return!1}(i,e);case 9:return $s(i.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},h=u.mapValue.fields||{};if(_0(d)!==_0(h))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(h[y]===void 0||!Nr(d[y],h[y])))return!1;return!0}(i,e);default:return Ie()}}function Ul(i,e){return(i.values||[]).find(n=>Nr(n,e))!==void 0}function Ks(i,e){if(i===e)return 0;const n=Qa(i),a=Qa(e);if(n!==a)return et(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(i.booleanValue,e.booleanValue);case 2:return function(u,d){const h=Ot(u.integerValue||u.doubleValue),y=Ot(d.integerValue||d.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1}(i,e);case 3:return E0(i.timestampValue,e.timestampValue);case 4:return E0(Ll(i),Ll(e));case 5:return et(i.stringValue,e.stringValue);case 6:return function(u,d){const h=Ga(u),y=Ga(d);return h.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const h=u.split("/"),y=d.split("/");for(let p=0;p<h.length&&p<y.length;p++){const b=et(h[p],y[p]);if(b!==0)return b}return et(h.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const h=et(Ot(u.latitude),Ot(d.latitude));return h!==0?h:et(Ot(u.longitude),Ot(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return S0(i.arrayValue,e.arrayValue);case 10:return function(u,d){var h,y,p,b;const S=u.fields||{},x=d.fields||{},D=(h=S.value)===null||h===void 0?void 0:h.arrayValue,B=(y=x.value)===null||y===void 0?void 0:y.arrayValue,V=et(((p=D==null?void 0:D.values)===null||p===void 0?void 0:p.length)||0,((b=B==null?void 0:B.values)===null||b===void 0?void 0:b.length)||0);return V!==0?V:S0(D,B)}(i.mapValue,e.mapValue);case 11:return function(u,d){if(u===Nc.mapValue&&d===Nc.mapValue)return 0;if(u===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const h=u.fields||{},y=Object.keys(h),p=d.fields||{},b=Object.keys(p);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const x=et(y[S],b[S]);if(x!==0)return x;const D=Ks(h[y[S]],p[b[S]]);if(D!==0)return D}return et(y.length,b.length)}(i.mapValue,e.mapValue);default:throw Ie()}}function E0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return et(i,e);const n=Ki(i),a=Ki(e),o=et(n.seconds,a.seconds);return o!==0?o:et(n.nanos,a.nanos)}function S0(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Ks(n[o],a[o]);if(u)return u}return et(n.length,a.length)}function Ys(i){return fm(i)}function fm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Ki(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Ga(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ae.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=fm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${fm(n.fields[d])}`;return o+"}"}(i.mapValue):Ie()}function w0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dm(i){return!!i&&"integerValue"in i}function Fm(i){return!!i&&"arrayValue"in i}function T0(i){return!!i&&"nullValue"in i}function A0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function kc(i){return!!i&&"mapValue"in i}function S4(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Nl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ka(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Nl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function w4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(n)}setAll(e){let n=on.emptyPath(),a={},o=[];e.forEach((d,h)=>{if(!n.isImmediateParentOf(h)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=h.popLast()}d?a[h.lastSegment()]=Nl(d):o.push(h.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ka(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new xn(Nl(this.value))}}function R1(i){const e=[];return Ka(i.fields,(n,a)=>{const o=new on([n]);if(kc(a)){const u=R1(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,a,o,u,d,h){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=h}static newInvalidDocument(e){return new pn(e,0,Me.min(),Me.min(),Me.min(),xn.empty(),0)}static newFoundDocument(e,n,a,o){return new pn(e,1,n,Me.min(),a,o,0)}static newNoDocument(e,n){return new pn(e,2,n,Me.min(),Me.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Me.min(),Me.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.position=e,this.inclusive=n}}function R0(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?a=Ae.comparator(Ae.fromName(d.referenceValue),n.key):a=Ks(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function x0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Nr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n="asc"){this.field=e,this.dir=n}}function T4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{}class Vt extends x1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new R4(e,n,a):n==="array-contains"?new N4(e,a):n==="in"?new O4(e,a):n==="not-in"?new I4(e,a):n==="array-contains-any"?new D4(e,a):new Vt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new x4(e,a):new C4(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ks(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(Ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends x1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sr(e,n)}matches(e){return C1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function C1(i){return i.op==="and"}function N1(i){return A4(i)&&C1(i)}function A4(i){for(const e of i.filters)if(e instanceof sr)return!1;return!0}function hm(i){if(i instanceof Vt)return i.field.canonicalString()+i.op.toString()+Ys(i.value);if(N1(i))return i.filters.map(e=>hm(e)).join(",");{const e=i.filters.map(n=>hm(n)).join(",");return`${i.op}(${e})`}}function O1(i,e){return i instanceof Vt?function(a,o){return o instanceof Vt&&a.op===o.op&&a.field.isEqual(o.field)&&Nr(a.value,o.value)}(i,e):i instanceof sr?function(a,o){return o instanceof sr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,d,h)=>u&&O1(d,o.filters[h]),!0):!1}(i,e):void Ie()}function I1(i){return i instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ys(n.value)}`}(i):i instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(I1).join(" ,")+"}"}(i):"Filter"}class R4 extends Vt{constructor(e,n,a){super(e,n,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class x4 extends Vt{constructor(e,n){super(e,"in",n),this.keys=D1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class C4 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=D1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function D1(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ae.fromName(a.referenceValue))}class N4 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fm(n)&&Ul(n.arrayValue,this.value)}}class O4 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class I4 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ul(this.value.arrayValue,n)}}class D4 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Ul(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n=null,a=[],o=[],u=null,d=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=h,this.ue=null}}function C0(i,e=null,n=[],a=[],o=null,u=null,d=null){return new j4(i,e,n,a,o,u,d)}function Gm(i){const e=De(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>hm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Ys(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Ys(a)).join(",")),e.ue=n}return e.ue}function Qm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!T4(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!O1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!x0(i.startAt,e.startAt)&&x0(i.endAt,e.endAt)}function mm(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n=null,a=[],o=[],u=null,d="F",h=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=h,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function M4(i,e,n,a,o,u,d,h){return new ao(i,e,n,a,o,u,d,h)}function lf(i){return new ao(i)}function N0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function j1(i){return i.collectionGroup!==null}function Ol(i){const e=De(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let h=new ln(on.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Bl(u,a))}),n.has(on.keyField().canonicalString())||e.ce.push(new Bl(on.keyField(),a))}return e.ce}function Rr(i){const e=De(i);return e.le||(e.le=P4(e,Ol(i))),e.le}function P4(i,e){if(i.limitType==="F")return C0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Bl(o.field,u)});const n=i.endAt?new Qc(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Qc(i.startAt.position,i.startAt.inclusive):null;return C0(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function pm(i,e){const n=i.filters.concat([e]);return new ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function gm(i,e,n){return new ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function uf(i,e){return Qm(Rr(i),Rr(e))&&i.limitType===e.limitType}function M1(i){return`${Gm(Rr(i))}|lt:${i.limitType}`}function Us(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>I1(o)).join(", ")}]`),of(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Ys(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Ys(o)).join(",")),`Target(${a})`}(Rr(i))}; limitType=${i.limitType})`}function cf(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ae.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Ol(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(d,h,y){const p=R0(d,h,y);return d.inclusive?p<=0:p<0}(a.startAt,Ol(a),o)||a.endAt&&!function(d,h,y){const p=R0(d,h,y);return d.inclusive?p>=0:p>0}(a.endAt,Ol(a),o))}(i,e)}function k4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function P1(i){return(e,n)=>{let a=!1;for(const o of Ol(i)){const u=V4(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function V4(i,e,n){const a=i.field.isKeyField()?Ae.comparator(e.key,n.key):function(u,d,h){const y=d.data.field(u),p=h.data.field(u);return y!==null&&p!==null?Ks(y,p):Ie()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new St(Ae.comparator);function ci(){return L4}const k1=new St(Ae.comparator);function Rl(...i){let e=k1;for(const n of i)e=e.insert(n.key,n);return e}function V1(i){let e=k1;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function La(){return Il()}function L1(){return Il()}function Il(){return new so(i=>i.toString(),(i,e)=>i.isEqual(e))}const z4=new St(Ae.comparator),U4=new ln(Ae.comparator);function Qe(...i){let e=U4;for(const n of i)e=e.add(n);return e}const B4=new ln(et);function H4(){return B4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function z1(i){return{integerValue:""+i}}function q4(i,e){return _4(e)?z1(e):$m(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function F4(i,e,n){return i instanceof Hl?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hm(u)&&(u=qm(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}}(n,e):i instanceof ql?B1(i,e):i instanceof Fl?H1(i,e):function(o,u){const d=U1(o,u),h=O0(d)+O0(o.Pe);return dm(d)&&dm(o.Pe)?z1(h):$m(o.serializer,h)}(i,e)}function G4(i,e,n){return i instanceof ql?B1(i,e):i instanceof Fl?H1(i,e):n}function U1(i,e){return i instanceof $c?function(a){return dm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Hl extends ff{}class ql extends ff{constructor(e){super(),this.elements=e}}function B1(i,e){const n=q1(e);for(const a of i.elements)n.some(o=>Nr(o,a))||n.push(a);return{arrayValue:{values:n}}}class Fl extends ff{constructor(e){super(),this.elements=e}}function H1(i,e){let n=q1(e);for(const a of i.elements)n=n.filter(o=>!Nr(o,a));return{arrayValue:{values:n}}}class $c extends ff{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function O0(i){return Ot(i.integerValue||i.doubleValue)}function q1(i){return Fm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.field=e,this.transform=n}}function $4(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof ql&&o instanceof ql||a instanceof Fl&&o instanceof Fl?$s(a.elements,o.elements,Nr):a instanceof $c&&o instanceof $c?Nr(a.Pe,o.Pe):a instanceof Hl&&o instanceof Hl}(i.transform,e.transform)}class K4{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class df{}function F1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Q1(i.key,xr.none()):new Wl(i.key,i.data,xr.none());{const n=i.data,a=xn.empty();let o=new ln(on.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new Zi(i.key,a,new kn(o.toArray()),xr.none())}}function Y4(i,e,n){i instanceof Wl?function(o,u,d){const h=o.value.clone(),y=D0(o.fieldTransforms,u,d.transformResults);h.setAll(y),u.convertToFoundDocument(d.version,h).setHasCommittedMutations()}(i,e,n):i instanceof Zi?function(o,u,d){if(!Vc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const h=D0(o.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(G1(o)),y.setAll(h),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Dl(i,e,n,a){return i instanceof Wl?function(u,d,h,y){if(!Vc(u.precondition,d))return h;const p=u.value.clone(),b=j0(u.fieldTransforms,y,d);return p.setAll(b),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(i,e,n,a):i instanceof Zi?function(u,d,h,y){if(!Vc(u.precondition,d))return h;const p=j0(u.fieldTransforms,y,d),b=d.data;return b.setAll(G1(u)),b.setAll(p),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),h===null?null:h.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,a):function(u,d,h){return Vc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):h}(i,e,n)}function X4(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=U1(a.transform,o||null);u!=null&&(n===null&&(n=xn.empty()),n.set(a.field,u))}return n||null}function I0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&$s(a,o,(u,d)=>$4(u,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Wl extends df{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends df{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function G1(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function D0(i,e,n){const a=new Map;at(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,h=e.data.field(u.field);a.set(u.field,G4(d,h,n[o]))}return a}function j0(i,e,n){const a=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);a.set(o.field,F4(u,d,e))}return a}class Q1 extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W4 extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Y4(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Dl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Dl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=L1();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let h=this.applyToLocalView(d,u.mutatedFields);h=n.has(o.key)?null:h;const y=F1(d,h);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Me.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,a)=>I0(n,a))&&$s(this.baseMutations,e.baseMutations,(n,a)=>I0(n,a))}}class Km{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){at(e.mutations.length===a.length);let o=function(){return z4}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new Km(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,We;function tA(i){switch(i){default:return Ie();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function $1(i){if(i===void 0)return ui("GRPC error has no .code"),he.UNKNOWN;switch(i){case kt.OK:return he.OK;case kt.CANCELLED:return he.CANCELLED;case kt.UNKNOWN:return he.UNKNOWN;case kt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case kt.INTERNAL:return he.INTERNAL;case kt.UNAVAILABLE:return he.UNAVAILABLE;case kt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case kt.NOT_FOUND:return he.NOT_FOUND;case kt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case kt.ABORTED:return he.ABORTED;case kt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case kt.DATA_LOSS:return he.DATA_LOSS;default:return Ie()}}(We=kt||(kt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Ua([4294967295,4294967295],0);function M0(i){const e=nA().encode(i),n=new g1;return n.update(e),new Uint8Array(n.digest())}function P0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ua([n,a],0),new Ua([o,u],0)]}class Ym{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ua.fromNumber(this.Ie)}Ee(e,n,a){let o=e.add(n.multiply(Ua.fromNumber(a)));return o.compare(rA)===1&&(o=new Ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=M0(e),[a,o]=P0(n);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,o,u);if(!this.de(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Ym(u,o,n);return a.forEach(h=>d.insert(h)),d}insert(e){if(this.Ie===0)return;const n=M0(e),[a,o]=P0(n);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,o,u);this.Ae(d)}}Ae(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new hf(Me.min(),o,new St(et),ci(),Qe())}}class Zl{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Zl(a,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,a,o){this.Re=e,this.removedTargetIds=n,this.key=a,this.Ve=o}}class K1{constructor(e,n){this.targetId=e,this.me=n}}class Y1{constructor(e,n,a=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class k0{constructor(){this.fe=0,this.ge=L0(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),n=Qe(),a=Qe();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ie()}}),new Zl(this.pe,this.ye,e,n,a)}Ce(){this.we=!1,this.ge=L0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iA{constructor(e){this.Le=e,this.Be=new Map,this.ke=ci(),this.qe=V0(),this.Qe=new St(et)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const a=this.Ge(n);switch(e.state){case 0:this.ze(n)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),a.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((a,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,a=e.me.count,o=this.Je(n);if(o){const u=o.target;if(mm(u))if(a===0){const d=new Ae(u.path);this.Ue(n,d,pn.newNoDocument(d,Me.min()))}else at(a===1);else{const d=this.Ye(n);if(d!==a){const h=this.Ze(e),y=h?this.Xe(h,e,d):1;if(y!==0){this.je(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,h;try{d=Ga(a).toUint8Array()}catch(y){if(y instanceof A1)return Qs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{h=new Ym(d,o,u)}catch(y){return Qs(y instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return h.Ie===0?null:h}Xe(e,n,a){return n.me.count===a-this.nt(e,n.targetId)?0:2}nt(e,n){const a=this.Le.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const d=this.Le.tt(),h=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,u,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((u,d)=>{const h=this.Je(d);if(h){if(u.current&&mm(h.target)){const y=new Ae(h.target.path);this.ke.get(y)!==null||this.it(d,y)||this.Ue(d,y,pn.newNoDocument(y,e))}u.be&&(n.set(d,u.ve()),u.Ce())}});let a=Qe();this.qe.forEach((u,d)=>{let h=!0;d.forEachWhile(y=>{const p=this.Je(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(a=a.add(u))}),this.ke.forEach((u,d)=>d.setReadTime(e));const o=new hf(e,n,this.Qe,this.ke,a);return this.ke=ci(),this.qe=V0(),this.Qe=new St(et),o}$e(e,n){if(!this.ze(e))return;const a=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,a),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,a){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),a&&(this.ke=this.ke.insert(n,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new k0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ln(et),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new k0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function V0(){return new St(Ae.comparator)}function L0(){return new St(Ae.comparator)}const aA={asc:"ASCENDING",desc:"DESCENDING"},sA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oA={and:"AND",or:"OR"};class lA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ym(i,e){return i.useProto3Json||of(e)?e:{value:e}}function Kc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function uA(i,e){return Kc(i,e.toTimestamp())}function Cr(i){return at(!!i),Me.fromTimestamp(function(n){const a=Ki(n);return new At(a.seconds,a.nanos)}(i))}function Xm(i,e){return vm(i,e).canonicalString()}function vm(i,e){const n=function(o){return new dt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function W1(i){const e=dt.fromString(i);return at(n2(e)),e}function _m(i,e){return Xm(i.databaseId,e.path)}function kh(i,e){const n=W1(e);if(n.get(1)!==i.databaseId.projectId)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ae(J1(n))}function Z1(i,e){return Xm(i.databaseId,e)}function cA(i){const e=W1(i);return e.length===4?dt.emptyPath():J1(e)}function bm(i){return new dt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function J1(i){return at(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function z0(i,e,n){return{name:_m(i,e),fields:n.value.mapValue.fields}}function fA(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,b){return p.useProto3Json?(at(b===void 0||typeof b=="string"),un.fromBase64String(b||"")):(at(b===void 0||b instanceof Buffer||b instanceof Uint8Array),un.fromUint8Array(b||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,h=d&&function(p){const b=p.code===void 0?he.UNKNOWN:$1(p.code);return new be(b,p.message||"")}(d);n=new Y1(a,o,u,h||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=kh(i,a.document.name),u=Cr(a.document.updateTime),d=a.document.createTime?Cr(a.document.createTime):Me.min(),h=new xn({mapValue:{fields:a.document.fields}}),y=pn.newFoundDocument(o,u,d,h),p=a.targetIds||[],b=a.removedTargetIds||[];n=new Lc(p,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=kh(i,a.document),u=a.readTime?Cr(a.readTime):Me.min(),d=pn.newNoDocument(o,u),h=a.removedTargetIds||[];n=new Lc([],h,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=kh(i,a.document),u=a.removedTargetIds||[];n=new Lc([],u,o,null)}else{if(!("filter"in e))return Ie();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new eA(o,u),h=a.targetId;n=new K1(h,d)}}return n}function dA(i,e){let n;if(e instanceof Wl)n={update:z0(i,e.key,e.value)};else if(e instanceof Q1)n={delete:_m(i,e.key)};else if(e instanceof Zi)n={update:z0(i,e.key,e.data),updateMask:EA(e.fieldMask)};else{if(!(e instanceof W4))return Ie();n={verify:_m(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,d){const h=d.transform;if(h instanceof Hl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof $c)return{fieldPath:d.field.canonicalString(),increment:h.Pe};throw Ie()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:uA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie()}(i,e.precondition)),n}function hA(i,e){return i&&i.length>0?(at(e!==void 0),i.map(n=>function(o,u){let d=o.updateTime?Cr(o.updateTime):Cr(u);return d.isEqual(Me.min())&&(d=Cr(u)),new K4(d,o.transformResults||[])}(n,e))):[]}function mA(i,e){return{documents:[Z1(i,e.path)]}}function pA(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Z1(i,o);const u=function(p){if(p.length!==0)return t2(sr.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(p){if(p.length!==0)return p.map(b=>function(x){return{field:Bs(x.field),direction:vA(x.dir)}}(b))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const h=ym(i,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{_t:n,parent:o}}function gA(i){let e=cA(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){at(a===1);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=function(S){const x=e2(S);return x instanceof sr&&N1(x)?x.getFilters():[x]}(n.where));let d=[];n.orderBy&&(d=function(S){return S.map(x=>function(B){return new Bl(Hs(B.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(x))}(n.orderBy));let h=null;n.limit&&(h=function(S){let x;return x=typeof S=="object"?S.value:S,of(x)?null:x}(n.limit));let y=null;n.startAt&&(y=function(S){const x=!!S.before,D=S.values||[];return new Qc(D,x)}(n.startAt));let p=null;return n.endAt&&(p=function(S){const x=!S.before,D=S.values||[];return new Qc(D,x)}(n.endAt)),M4(e,o,d,u,h,"F",y,p)}function yA(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e2(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Hs(n.unaryFilter.field);return Vt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Hs(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Hs(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Hs(n.unaryFilter.field);return Vt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(i):i.fieldFilter!==void 0?function(n){return Vt.create(Hs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(a=>e2(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(i):Ie()}function vA(i){return aA[i]}function _A(i){return sA[i]}function bA(i){return oA[i]}function Bs(i){return{fieldPath:i.canonicalString()}}function Hs(i){return on.fromServerFormat(i.fieldPath)}function t2(i){return i instanceof Vt?function(n){if(n.op==="=="){if(A0(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(T0(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A0(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(T0(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:_A(n.op),value:n.value}}}(i):i instanceof sr?function(n){const a=n.getFilters().map(o=>t2(o));return a.length===1?a[0]:{compositeFilter:{op:bA(n.op),filters:a}}}(i):Ie()}function EA(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n2(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,a,o,u=Me.min(),d=Me.min(),h=un.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=h,this.expectedCount=y}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.ct=e}}function wA(i){const e=gA({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.un=new AA}addToCollectionParentIndex(e,n){return this.un.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve($i.min())}updateCollectionGroup(e,n,a){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class AA{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new ln(dt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new ln(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xs(0)}static kn(){return new Xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.changes=new so(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?pe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Dl(a.mutation,o,kn.empty(),At.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Qe()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Qe()){const o=La();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let d=Rl();return u.forEach((h,y)=>{d=d.insert(h,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=La();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Qe()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,h)=>{n.set(d,h)})})}computeViews(e,n,a,o){let u=ci();const d=Il(),h=function(){return Il()}();return n.forEach((y,p)=>{const b=a.get(p.key);o.has(p.key)&&(b===void 0||b.mutation instanceof Zi)?u=u.insert(p.key,p):b!==void 0?(d.set(p.key,b.mutation.getFieldMask()),Dl(b.mutation,p,b.mutation.getFieldMask(),At.now())):d.set(p.key,kn.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((p,b)=>d.set(p,b)),n.forEach((p,b)=>{var S;return h.set(p,new xA(b,(S=d.get(p))!==null&&S!==void 0?S:null))}),h))}recalculateAndSaveOverlays(e,n){const a=Il();let o=new St((d,h)=>d-h),u=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const h of d)h.keys().forEach(y=>{const p=n.get(y);if(p===null)return;let b=a.get(y)||kn.empty();b=h.applyToLocalView(p,b),a.set(y,b);const S=(o.get(h.batchId)||Qe()).add(y);o=o.insert(h.batchId,S)})}).next(()=>{const d=[],h=o.getReverseIterator();for(;h.hasNext();){const y=h.getNext(),p=y.key,b=y.value,S=L1();b.forEach(x=>{if(!u.has(x)){const D=F1(n.get(x),a.get(x));D!==null&&S.set(x,D),u=u.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return pe.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(d){return Ae.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):pe.resolve(La());let h=-1,y=u;return d.next(p=>pe.forEach(p,(b,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),u.get(b)?pe.resolve():this.remoteDocumentCache.getEntry(e,b).next(x=>{y=y.insert(b,x)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,y,p,Qe())).next(b=>({batchId:h,changes:V1(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(a=>{let o=Rl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(e,u).next(h=>pe.forEach(h,y=>{const p=function(S,x){return new ao(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(b=>{b.forEach((S,x)=>{d=d.insert(S,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(d=>{u.forEach((y,p)=>{const b=p.getKey();d.get(b)===null&&(d=d.insert(b,pn.newInvalidDocument(b)))});let h=Rl();return d.forEach((y,p)=>{const b=u.get(y);b!==void 0&&Dl(b.mutation,p,kn.empty(),At.now()),cf(n,p)&&(h=h.insert(y,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return pe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:wA(o.bundledQuery),readTime:Cr(o.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.overlays=new St(Ae.comparator),this.Ir=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=La();return pe.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.ht(e,n,u)}),pe.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Ir.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(a)),pe.resolve()}getOverlaysForCollection(e,n,a){const o=La(),u=n.length+1,d=new Ae(n.child("")),h=this.overlays.getIteratorFrom(d);for(;h.hasNext();){const y=h.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>a&&o.set(y.getKey(),y)}return pe.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new St((p,b)=>p-b);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let b=u.get(p.largestBatchId);b===null&&(b=La(),u=u.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const h=La(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,b)=>h.set(p,b)),!(h.size()>=o)););return pe.resolve(h)}ht(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(a.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new J4(n,a));let u=this.Ir.get(n);u===void 0&&(u=Qe(),this.Ir.set(n,u)),this.Ir.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Tr=new ln(Xt.Er),this.dr=new ln(Xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const a=new Xt(e,n);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Vr(new Xt(e,n))}mr(e,n){e.forEach(a=>this.removeReference(a,n))}gr(e){const n=new Ae(new dt([])),a=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.dr.forEachInRange([a,o],d=>{this.Vr(d),u.push(d.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ae(new dt([])),a=new Xt(n,e),o=new Xt(n,e+1);let u=Qe();return this.dr.forEachInRange([a,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Xt(e,0),a=this.Tr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ae.comparator(e.key,n.key)||et(e.wr,n.wr)}static Ar(e,n){return et(e.wr,n.wr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ln(Xt.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Z4(u,n,a,o);this.mutationQueue.push(d);for(const h of o)this.br=this.br.add(new Xt(h.key,u)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(d)}lookupMutationBatch(e,n){return pe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.vr(a),u=o<0?0:o;return pe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([a,o],d=>{const h=this.Dr(d.wr);u.push(h)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new ln(et);return n.forEach(o=>{const u=new Xt(o,0),d=new Xt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],h=>{a=a.add(h.wr)})}),pe.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ae.isDocumentKey(u)||(u=u.child(""));const d=new Xt(new Ae(u),0);let h=new ln(et);return this.br.forEachWhile(y=>{const p=y.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(h=h.add(y.wr)),!0)},d),pe.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach(a=>{const o=this.Dr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){at(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return pe.forEach(n.mutations,o=>{const u=new Xt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,n){const a=new Xt(n,0),o=this.br.firstAfterOrEqual(a);return pe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.Mr=e,this.docs=function(){return new St(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.Mr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return pe.resolve(a?a.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let a=ci();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():pn.newInvalidDocument(o))}),pe.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ci();const d=n.path,h=new Ae(d.child("")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:p,value:{document:b}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||p4(m4(b),a)<=0||(o.has(b.key)||cf(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return pe.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ie()}Or(e,n){return pe.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new MA(this)}getSize(e){return pe.resolve(this.size)}}class MA extends RA{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(a)}),pe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.persistence=e,this.Nr=new so(n=>Gm(n),Qm),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wm,this.targetCount=0,this.kr=Xs.Bn()}forEachTarget(e,n){return this.Nr.forEach((a,o)=>n(o)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.Lr&&(this.Lr=n),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Kn(n),pe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Nr.forEach((d,h)=>{h.sequenceNumber<=n&&a.get(h.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),pe.waitFor(u).next(()=>o)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const a=this.Nr.get(n)||null;return pe.resolve(a)}addMatchingKeys(e,n,a){return this.Br.Rr(n,a),pe.resolve()}removeMatchingKeys(e,n,a){this.Br.mr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Br.yr(n);return pe.resolve(a)}containsKey(e,n){return pe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Bm(0),this.Kr=!1,this.Kr=!0,this.$r=new IA,this.referenceDelegate=e(this),this.Ur=new PA(this),this.indexManager=new TA,this.remoteDocumentCache=function(o){return new jA(o)}(a=>this.referenceDelegate.Wr(a)),this.serializer=new SA(n),this.Gr=new NA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.qr[e.toKey()];return a||(a=new DA(n,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,a){we("MemoryPersistence","Starting transaction:",e);const o=new VA(this.Qr.next());return this.referenceDelegate.zr(),a(o).next(u=>this.referenceDelegate.jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Hr(e,n){return pe.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,n)))}}class VA extends y4{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Jr=new Wm,this.Yr=null}static Zr(e){return new Zm(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,n,a){return this.Jr.addReference(a,n),this.Xr.delete(a.toString()),pe.resolve()}removeReference(e,n,a){return this.Jr.removeReference(a,n),this.Xr.add(a.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.Xr.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,a=>{const o=Ae.fromPath(a);return this.ei(e,o).next(u=>{u||n.removeEntry(o,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(a=>{a?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return pe.or([()=>pe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.$i=a,this.Ui=o}static Wi(e,n){let a=Qe(),o=Qe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jm(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Fw()?8:v4(Hw())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.Yi(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.Zi(e,n,o,a).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new LA;return this.Xi(e,n,d).next(h=>{if(u.result=h,this.zi)return this.es(e,n,d,h.size)})}).next(()=>u.result)}es(e,n,a,o){return a.documentReadCount<this.ji?(bl()<=Ze.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(bl()<=Ze.DEBUG&&we("QueryEngine","Query:",Us(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.Hi*o?(bl()<=Ze.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):pe.resolve())}Yi(e,n){if(N0(n))return pe.resolve(null);let a=Rr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=gm(n,null,"F"),a=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const d=Qe(...u);return this.Ji.getDocuments(e,d).next(h=>this.indexManager.getMinOffset(e,a).next(y=>{const p=this.ts(n,h);return this.ns(n,p,d,y.readTime)?this.Yi(e,gm(n,null,"F")):this.rs(e,p,n,y)}))})))}Zi(e,n,a,o){return N0(n)||o.isEqual(Me.min())?pe.resolve(null):this.Ji.getDocuments(e,a).next(u=>{const d=this.ts(n,u);return this.ns(n,d,a,o)?pe.resolve(null):(bl()<=Ze.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Us(n)),this.rs(e,d,n,h4(o,-1)).next(h=>h))})}ts(e,n){let a=new ln(P1(e));return n.forEach((o,u)=>{cf(e,u)&&(a=a.add(u))}),a}ns(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,n,a){return bl()<=Ze.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Us(n)),this.Ji.getDocumentsMatchingQuery(e,n,$i.min(),a)}rs(e,n,a,o){return this.Ji.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,a,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new St(et),this._s=new so(u=>Gm(u),Qm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function BA(i,e,n,a){return new UA(i,e,n,a)}async function r2(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const d=[],h=[];let y=Qe();for(const p of o){d.push(p.batchId);for(const b of p.mutations)y=y.add(b.key)}for(const p of u){h.push(p.batchId);for(const b of p.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(a,y).next(p=>({hs:p,removedBatchIds:d,addedBatchIds:h}))})})}function HA(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.cs.newChangeBuffer({trackRemovals:!0});return function(h,y,p,b){const S=p.batch,x=S.keys();let D=pe.resolve();return x.forEach(B=>{D=D.next(()=>b.getEntry(y,B)).next(V=>{const U=p.docVersions.get(B);at(U!==null),V.version.compareTo(U)<0&&(S.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),b.addEntry(V)))})}),D.next(()=>h.mutationQueue.removeMutationBatch(y,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(h){let y=Qe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(y=y.add(h.batch.mutations[p].key));return y}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function i2(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function qA(i,e){const n=De(i),a=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const h=[];e.targetChanges.forEach((b,S)=>{const x=o.get(S);if(!x)return;h.push(n.Ur.removeMatchingKeys(u,b.removedDocuments,S).next(()=>n.Ur.addMatchingKeys(u,b.addedDocuments,S)));let D=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(un.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,a)),o=o.insert(S,D),function(V,U,F){return V.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(x,D,b)&&h.push(n.Ur.updateTargetData(u,D))});let y=ci(),p=Qe();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))}),h.push(FA(u,d,e.documentUpdates).next(b=>{y=b.Ps,p=b.Is})),!a.isEqual(Me.min())){const b=n.Ur.getLastRemoteSnapshotVersion(u).next(S=>n.Ur.setTargetsMetadata(u,u.currentSequenceNumber,a));h.push(b)}return pe.waitFor(h).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,p)).next(()=>y)}).then(u=>(n.os=o,u))}function FA(i,e,n){let a=Qe(),o=Qe();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let d=ci();return n.forEach((h,y)=>{const p=u.get(h);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(h)),y.isNoDocument()&&y.version.isEqual(Me.min())?(e.removeEntry(h,y.readTime),d=d.insert(h,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(h,y)):we("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",y.version)}),{Ps:d,Is:o}})}function GA(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function QA(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ur.getTargetData(a,e).next(u=>u?(o=u,pe.resolve(o)):n.Ur.allocateTargetId(a).next(d=>(o=new Hi(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Ur.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.os.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(a.targetId,a),n._s.set(e,a.targetId)),a})}async function Em(i,e,n){const a=De(i),o=a.os.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Xl(d))throw d;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}a.os=a.os.remove(e),a._s.delete(o.target)}function U0(i,e,n){const a=De(i);let o=Me.min(),u=Qe();return a.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,b){const S=De(y),x=S._s.get(b);return x!==void 0?pe.resolve(S.os.get(x)):S.Ur.getTargetData(p,b)}(a,d,Rr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,h.targetId).next(y=>{u=y})}).next(()=>a.ss.getDocumentsMatchingQuery(d,e,n?o:Me.min(),n?u:Qe())).next(h=>($A(a,k4(e),h),{documents:h,Ts:u})))}function $A(i,e,n){let a=i.us.get(e)||Me.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.us.set(e,a)}class B0{constructor(){this.activeTargetIds=H4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KA{constructor(){this.so=new B0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,a){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new B0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function Vh(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class ZA extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+n.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(n,a,o,u,d){const h=Vh(),y=this.xo(n,a.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${h}:`,y,o);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,u,d),this.No(n,y,p,o).then(b=>(we("RestConnection",`Received RPC '${n}' ${h}: `,b),b),b=>{throw Qs("RestConnection",`RPC '${n}' ${h} failed with error: `,b,"url: ",y,"request:",o),b})}Lo(n,a,o,u,d,h){return this.Mo(n,a,o,u,d)}Oo(n,a,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((u,d)=>n[d]=u),o&&o.headers.forEach((u,d)=>n[d]=u)}xo(n,a){const o=XA[n];return`${this.Do}/v1/${a}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,a,o){const u=Vh();return new Promise((d,h)=>{const y=new y1;y.setWithCredentials(!0),y.listenOnce(v1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const b=y.getResponseJson();we(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Pc.TIMEOUT:we(hn,`RPC '${e}' ${u} timed out`),h(new be(he.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const S=y.getStatus();if(we(hn,`RPC '${e}' ${u} failed with status:`,S,"response text:",y.getResponseText()),S>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x==null?void 0:x.error;if(D&&D.status&&D.message){const B=function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(F)>=0?F:he.UNKNOWN}(D.status);h(new be(B,D.message))}else h(new be(he.UNKNOWN,"Server responded with status "+y.getStatus()))}else h(new be(he.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{we(hn,`RPC '${e}' ${u} completed.`)}});const p=JSON.stringify(o);we(hn,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",p,a,15)})}Bo(e,n,a){const o=Vh(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=E1(),h=b1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const b=u.join("");we(hn,`Creating RPC '${e}' stream ${o}: ${b}`,y);const S=d.createWebChannel(b,y);let x=!1,D=!1;const B=new WA({Io:U=>{D?we(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(x||(we(hn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),we(hn,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},To:()=>S.close()}),V=(U,F,Y)=>{U.listen(F,ne=>{try{Y(ne)}catch(re){setTimeout(()=>{throw re},0)}})};return V(S,Al.EventType.OPEN,()=>{D||(we(hn,`RPC '${e}' stream ${o} transport opened.`),B.yo())}),V(S,Al.EventType.CLOSE,()=>{D||(D=!0,we(hn,`RPC '${e}' stream ${o} transport closed`),B.So())}),V(S,Al.EventType.ERROR,U=>{D||(D=!0,Qs(hn,`RPC '${e}' stream ${o} transport errored:`,U),B.So(new be(he.UNAVAILABLE,"The operation could not be completed")))}),V(S,Al.EventType.MESSAGE,U=>{var F;if(!D){const Y=U.data[0];at(!!Y);const ne=Y,re=ne.error||((F=ne[0])===null||F===void 0?void 0:F.error);if(re){we(hn,`RPC '${e}' stream ${o} received error:`,re);const P=re.status;let H=function(R){const E=kt[R];if(E!==void 0)return $1(E)}(P),N=re.message;H===void 0&&(H=he.INTERNAL,N="Unknown error status: "+P+" with message "+re.message),D=!0,B.So(new be(H,N)),S.close()}else we(hn,`RPC '${e}' stream ${o} received:`,Y),B.bo(Y)}}),V(h,_1.STAT_EVENT,U=>{U.stat===cm.PROXY?we(hn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===cm.NOPROXY&&we(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.wo()},0),B}}function Lh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(i){return new lA(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,a=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=n,this.ko=a,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-a);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,a,o,u,d,h,y){this.ui=e,this.Ho=a,this.Jo=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=h,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new a2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.Yo===n&&this.P_(a,o)},a=>{e(()=>{const o=new be(he.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(o)})})}P_(e,n){const a=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{a(()=>this.I_(o))}),this.stream.onMessage(o=>{a(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JA extends s2{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fA(this.serializer,e),a=function(u){if(!("targetChange"in u))return Me.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Me.min():d.readTime?Cr(d.readTime):Me.min()}(e);return this.listener.d_(n,a)}A_(e){const n={};n.database=bm(this.serializer),n.addTarget=function(u,d){let h;const y=d.target;if(h=mm(y)?{documents:mA(u,y)}:{query:pA(u,y)._t},h.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){h.resumeToken=X1(u,d.resumeToken);const p=ym(u,d.expectedCount);p!==null&&(h.expectedCount=p)}else if(d.snapshotVersion.compareTo(Me.min())>0){h.readTime=Kc(u,d.snapshotVersion.toTimestamp());const p=ym(u,d.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const a=yA(this.serializer,e);a&&(n.labels=a),this.a_(n)}R_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.a_(n)}}class eR extends s2{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=hA(e.writeResults,e.commitTime),a=Cr(e.commitTime);return this.listener.g_(a,n)}p_(){const e={};e.database=bm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>dA(this.serializer,a))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends class{}{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,a,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Mo(e,vm(n,a),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(he.UNKNOWN,u.toString())})}Lo(e,n,a,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,h])=>this.connection.Lo(e,vm(n,a),o,d,h,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new be(he.UNKNOWN,d.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class nR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ui(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(d=>{a.enqueueAndForget(async()=>{Ya(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(y){const p=De(y);p.L_.add(4),await oo(p),p.q_.set("Unknown"),p.L_.delete(4),await Jl(p)}(this))})}),this.q_=new nR(a,o)}}async function Jl(i){if(Ya(i))for(const e of i.B_)await e(!0)}async function oo(i){for(const e of i.B_)await e(!1)}function o2(i,e){const n=De(i);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),rp(n)?np(n):lo(n).r_()&&tp(n,e))}function ep(i,e){const n=De(i),a=lo(n);n.N_.delete(e),a.r_()&&l2(n,e),n.N_.size===0&&(a.r_()?a.o_():Ya(n)&&n.q_.set("Unknown"))}function tp(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(i).A_(e)}function l2(i,e){i.Q_.xe(e),lo(i).R_(e)}function np(i){i.Q_=new iA({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),lo(i).start(),i.q_.v_()}function rp(i){return Ya(i)&&!lo(i).n_()&&i.N_.size>0}function Ya(i){return De(i).L_.size===0}function u2(i){i.Q_=void 0}async function iR(i){i.q_.set("Online")}async function aR(i){i.N_.forEach((e,n)=>{tp(i,e)})}async function sR(i,e){u2(i),rp(i)?(i.q_.M_(e),np(i)):i.q_.set("Unknown")}async function oR(i,e,n){if(i.q_.set("Online"),e instanceof Y1&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const h of u.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,d),o.N_.delete(h),o.Q_.removeTarget(h))}(i,e)}catch(a){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Yc(i,a)}else if(e instanceof Lc?i.Q_.Ke(e):e instanceof K1?i.Q_.He(e):i.Q_.We(e),!n.isEqual(Me.min()))try{const a=await i2(i.localStore);n.compareTo(a)>=0&&await function(u,d){const h=u.Q_.rt(d);return h.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const b=u.N_.get(p);b&&u.N_.set(p,b.withResumeToken(y.resumeToken,d))}}),h.targetMismatches.forEach((y,p)=>{const b=u.N_.get(y);if(!b)return;u.N_.set(y,b.withResumeToken(un.EMPTY_BYTE_STRING,b.snapshotVersion)),l2(u,y);const S=new Hi(b.target,y,p,b.sequenceNumber);tp(u,S)}),u.remoteSyncer.applyRemoteEvent(h)}(i,n)}catch(a){we("RemoteStore","Failed to raise snapshot:",a),await Yc(i,a)}}async function Yc(i,e,n){if(!Xl(e))throw e;i.L_.add(1),await oo(i),i.q_.set("Offline"),n||(n=()=>i2(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),i.L_.delete(1),await Jl(i)})}function c2(i,e){return e().catch(n=>Yc(i,n,e))}async function pf(i){const e=De(i),n=Yi(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lR(e);)try{const o=await GA(e.localStore,a);if(o===null){e.O_.length===0&&n.o_();break}a=o.batchId,uR(e,o)}catch(o){await Yc(e,o)}f2(e)&&d2(e)}function lR(i){return Ya(i)&&i.O_.length<10}function uR(i,e){i.O_.push(e);const n=Yi(i);n.r_()&&n.V_&&n.m_(e.mutations)}function f2(i){return Ya(i)&&!Yi(i).n_()&&i.O_.length>0}function d2(i){Yi(i).start()}async function cR(i){Yi(i).p_()}async function fR(i){const e=Yi(i);for(const n of i.O_)e.m_(n.mutations)}async function dR(i,e,n){const a=i.O_.shift(),o=Km.from(a,e,n);await c2(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await pf(i)}async function hR(i,e){e&&Yi(i).V_&&await async function(a,o){if(function(d){return tA(d)&&d!==he.ABORTED}(o.code)){const u=a.O_.shift();Yi(a).s_(),await c2(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await pf(a)}}(i,e),f2(i)&&d2(i)}async function q0(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const a=Ya(n);n.L_.add(3),await oo(n),a&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Jl(n)}async function mR(i,e){const n=De(i);e?(n.L_.delete(2),await Jl(n)):e||(n.L_.add(2),await oo(n),n.q_.set("Unknown"))}function lo(i){return i.K_||(i.K_=function(n,a,o){const u=De(n);return u.w_(),new JA(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Eo:iR.bind(null,i),Ro:aR.bind(null,i),mo:sR.bind(null,i),d_:oR.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),rp(i)?np(i):i.q_.set("Unknown")):(await i.K_.stop(),u2(i))})),i.K_}function Yi(i){return i.U_||(i.U_=function(n,a,o){const u=De(n);return u.w_(),new eR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cR.bind(null,i),mo:hR.bind(null,i),f_:fR.bind(null,i),g_:dR.bind(null,i)}),i.B_.push(async e=>{e?(i.U_.s_(),await pf(i)):(await i.U_.stop(),i.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))})),i.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,h=new ip(e,n,d,o,u);return h.start(a),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(i,e){if(ui("AsyncQueue",`${e}: ${i}`),Xl(i))return new be(he.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ae.comparator(n.key,a.key):(n,a)=>Ae.comparator(n.key,a.key),this.keyedMap=Rl(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new qs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.W_=new St(Ae.comparator)}track(e){const n=e.doc.key,a=this.W_.get(n);a?e.type!==0&&a.type===3?this.W_=this.W_.insert(n,e):e.type===3&&a.type!==1?this.W_=this.W_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.W_=this.W_.remove(n):e.type===1&&a.type===2?this.W_=this.W_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,a)=>{e.push(a)}),e}}class Ws{constructor(e,n,a,o,u,d,h,y,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=h,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach(h=>{d.push({type:0,doc:h})}),new Ws(e,n,qs.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class gR{constructor(){this.queries=G0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,a){const o=De(n),u=o.queries;o.queries=G0(),u.forEach((d,h)=>{for(const y of h.j_)y.onError(a)})})(this,new be(he.ABORTED,"Firestore shutting down"))}}function G0(){return new so(i=>M1(i),uf)}async function sp(i,e){const n=De(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.H_()&&e.J_()&&(a=2):(u=new pR,a=e.J_()?0:1);try{switch(a){case 0:u.z_=await n.onListen(o,!0);break;case 1:u.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const h=ap(d,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,u),u.j_.push(e),e.Z_(n.onlineState),u.z_&&e.X_(u.z_)&&lp(n)}async function op(i,e){const n=De(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.j_.indexOf(e);d>=0&&(u.j_.splice(d,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yR(i,e){const n=De(i);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const h of d.j_)h.X_(o)&&(a=!0);d.z_=o}}a&&lp(n)}function vR(i,e,n){const a=De(i),o=a.queries.get(e);if(o)for(const u of o.j_)u.onError(n);a.queries.delete(e)}function lp(i){i.Y_.forEach(e=>{e.next()})}var Sm,Q0;(Q0=Sm||(Sm={})).ea="default",Q0.Cache="cache";class up{constructor(e,n,a){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ws(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const a=n!=="Offline";return(!this.options._a||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.key=e}}class m2{constructor(e){this.key=e}}class _R{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qe(),this.mutatedKeys=Qe(),this.Aa=P1(e),this.Ra=new qs(this.Aa)}get Va(){return this.Ta}ma(e,n){const a=n?n.fa:new F0,o=n?n.Ra:this.Ra;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,h=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,S)=>{const x=o.get(b),D=cf(this.query,S)?S:null,B=!!x&&this.mutatedKeys.has(x.key),V=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;x&&D?x.data.isEqual(D.data)?B!==V&&(a.track({type:3,doc:D}),U=!0):this.ga(x,D)||(a.track({type:2,doc:D}),U=!0,(y&&this.Aa(D,y)>0||p&&this.Aa(D,p)<0)&&(h=!0)):!x&&D?(a.track({type:0,doc:D}),U=!0):x&&!D&&(a.track({type:1,doc:x}),U=!0,(y||p)&&(h=!0)),U&&(D?(d=d.add(D),u=V?u.add(b):u.delete(b)):(d=d.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),u=u.delete(b.key),a.track({type:1,doc:b})}return{Ra:d,fa:a,ns:h,mutatedKeys:u}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort((b,S)=>function(D,B){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return V(D)-V(B)}(b.type,S.type)||this.Aa(b.doc,S.doc)),this.pa(a),o=o!=null&&o;const h=n&&!o?this.ya():[],y=this.da.size===0&&this.current&&!o?1:0,p=y!==this.Ea;return this.Ea=y,d.length!==0||p?{snapshot:new Ws(this.query,e.Ra,u,d,e.mutatedKeys,y===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new F0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qe(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const n=[];return e.forEach(a=>{this.da.has(a)||n.push(new m2(a))}),this.da.forEach(a=>{e.has(a)||n.push(new h2(a))}),n}ba(e){this.Ta=e.Ts,this.da=Qe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ws.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class bR{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class ER{constructor(e){this.key=e,this.va=!1}}class SR{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new so(h=>M1(h),uf),this.Ma=new Map,this.xa=new Set,this.Oa=new St(Ae.comparator),this.Na=new Map,this.La=new Wm,this.Ba={},this.ka=new Map,this.qa=Xs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function wR(i,e,n=!0){const a=b2(i);let o;const u=a.Fa.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await p2(a,e,n,!0),o}async function TR(i,e){const n=b2(i);await p2(n,e,!0,!1)}async function p2(i,e,n,a){const o=await QA(i.localStore,Rr(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let h;return a&&(h=await AR(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&o2(i.remoteStore,o),h}async function AR(i,e,n,a,o){i.Ka=(S,x,D)=>async function(V,U,F,Y){let ne=U.view.ma(F);ne.ns&&(ne=await U0(V.localStore,U.query,!1).then(({documents:N})=>U.view.ma(N,ne)));const re=Y&&Y.targetChanges.get(U.targetId),P=Y&&Y.targetMismatches.get(U.targetId)!=null,H=U.view.applyChanges(ne,V.isPrimaryClient,re,P);return K0(V,U.targetId,H.wa),H.snapshot}(i,S,x,D);const u=await U0(i.localStore,e,!0),d=new _R(e,u.Ts),h=d.ma(u.documents),y=Zl.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),p=d.applyChanges(h,i.isPrimaryClient,y);K0(i,n,p.wa);const b=new bR(e,n,d);return i.Fa.set(e,b),i.Ma.has(n)?i.Ma.get(n).push(e):i.Ma.set(n,[e]),p.snapshot}async function RR(i,e,n){const a=De(i),o=a.Fa.get(e),u=a.Ma.get(o.targetId);if(u.length>1)return a.Ma.set(o.targetId,u.filter(d=>!uf(d,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&ep(a.remoteStore,o.targetId),wm(a,o.targetId)}).catch(Yl)):(wm(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function xR(i,e){const n=De(i),a=n.Fa.get(e),o=n.Ma.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),ep(n.remoteStore,a.targetId))}async function CR(i,e,n){const a=PR(i);try{const o=await function(d,h){const y=De(d),p=At.now(),b=h.reduce((D,B)=>D.add(B.key),Qe());let S,x;return y.persistence.runTransaction("Locally write mutations","readwrite",D=>{let B=ci(),V=Qe();return y.cs.getEntries(D,b).next(U=>{B=U,B.forEach((F,Y)=>{Y.isValidDocument()||(V=V.add(F))})}).next(()=>y.localDocuments.getOverlayedDocuments(D,B)).next(U=>{S=U;const F=[];for(const Y of h){const ne=X4(Y,S.get(Y.key).overlayedDocument);ne!=null&&F.push(new Zi(Y.key,ne,R1(ne.value.mapValue),xr.exists(!0)))}return y.mutationQueue.addMutationBatch(D,p,F,h)}).next(U=>{x=U;const F=U.applyToLocalDocumentSet(S,V);return y.documentOverlayCache.saveOverlays(D,U.batchId,F)})}).then(()=>({batchId:x.batchId,changes:V1(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,h,y){let p=d.Ba[d.currentUser.toKey()];p||(p=new St(et)),p=p.insert(h,y),d.Ba[d.currentUser.toKey()]=p}(a,o.batchId,n),await eu(a,o.changes),await pf(a.remoteStore)}catch(o){const u=ap(o,"Failed to persist write");n.reject(u)}}async function g2(i,e){const n=De(i);try{const a=await qA(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Na.get(u);d&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?at(d.va):o.removedDocuments.size>0&&(at(d.va),d.va=!1))}),await eu(n,a,e)}catch(a){await Yl(a)}}function $0(i,e,n){const a=De(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Fa.forEach((u,d)=>{const h=d.view.Z_(e);h.snapshot&&o.push(h.snapshot)}),function(d,h){const y=De(d);y.onlineState=h;let p=!1;y.queries.forEach((b,S)=>{for(const x of S.j_)x.Z_(h)&&(p=!0)}),p&&lp(y)}(a.eventManager,e),o.length&&a.Ca.d_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function NR(i,e,n){const a=De(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Na.get(e),u=o&&o.key;if(u){let d=new St(Ae.comparator);d=d.insert(u,pn.newNoDocument(u,Me.min()));const h=Qe().add(u),y=new hf(Me.min(),new Map,new St(et),d,h);await g2(a,y),a.Oa=a.Oa.remove(u),a.Na.delete(e),cp(a)}else await Em(a.localStore,e,!1).then(()=>wm(a,e,n)).catch(Yl)}async function OR(i,e){const n=De(i),a=e.batch.batchId;try{const o=await HA(n.localStore,e);v2(n,a,null),y2(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await eu(n,o)}catch(o){await Yl(o)}}async function IR(i,e,n){const a=De(i);try{const o=await function(d,h){const y=De(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let b;return y.mutationQueue.lookupMutationBatch(p,h).next(S=>(at(S!==null),b=S.keys(),y.mutationQueue.removeMutationBatch(p,S))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,b,h)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b)).next(()=>y.localDocuments.getDocuments(p,b))})}(a.localStore,e);v2(a,e,n),y2(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await eu(a,o)}catch(o){await Yl(o)}}function y2(i,e){(i.ka.get(e)||[]).forEach(n=>{n.resolve()}),i.ka.delete(e)}function v2(i,e,n){const a=De(i);let o=a.Ba[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Ba[a.currentUser.toKey()]=o}}function wm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Ma.get(e))i.Fa.delete(a),n&&i.Ca.$a(a,n);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(a=>{i.La.containsKey(a)||_2(i,a)})}function _2(i,e){i.xa.delete(e.path.canonicalString());const n=i.Oa.get(e);n!==null&&(ep(i.remoteStore,n),i.Oa=i.Oa.remove(e),i.Na.delete(n),cp(i))}function K0(i,e,n){for(const a of n)a instanceof h2?(i.La.addReference(a.key,e),DR(i,a)):a instanceof m2?(we("SyncEngine","Document no longer in limbo: "+a.key),i.La.removeReference(a.key,e),i.La.containsKey(a.key)||_2(i,a.key)):Ie()}function DR(i,e){const n=e.key,a=n.path.canonicalString();i.Oa.get(n)||i.xa.has(a)||(we("SyncEngine","New document in limbo: "+n),i.xa.add(a),cp(i))}function cp(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const n=new Ae(dt.fromString(e)),a=i.qa.next();i.Na.set(a,new ER(n)),i.Oa=i.Oa.insert(n,a),o2(i.remoteStore,new Hi(Rr(lf(n.path)),a,"TargetPurposeLimboResolution",Bm.oe))}}async function eu(i,e,n){const a=De(i),o=[],u=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach((h,y)=>{d.push(a.Ka(y,e,n).then(p=>{var b;if((p||n)&&a.isPrimaryClient){const S=p?!p.fromCache:(b=n==null?void 0:n.targetChanges.get(y.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(p){o.push(p);const S=Jm.Wi(y.targetId,p);u.push(S)}}))}),await Promise.all(d),a.Ca.d_(o),await async function(y,p){const b=De(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>pe.forEach(p,x=>pe.forEach(x.$i,D=>b.persistence.referenceDelegate.addReference(S,x.targetId,D)).next(()=>pe.forEach(x.Ui,D=>b.persistence.referenceDelegate.removeReference(S,x.targetId,D)))))}catch(S){if(!Xl(S))throw S;we("LocalStore","Failed to update sequence numbers: "+S)}for(const S of p){const x=S.targetId;if(!S.fromCache){const D=b.os.get(x),B=D.snapshotVersion,V=D.withLastLimboFreeSnapshotVersion(B);b.os=b.os.insert(x,V)}}}(a.localStore,u))}async function jR(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const a=await r2(n.localStore,e);n.currentUser=e,function(u,d){u.ka.forEach(h=>{h.forEach(y=>{y.reject(new be(he.CANCELLED,d))})}),u.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await eu(n,a.hs)}}function MR(i,e){const n=De(i),a=n.Na.get(e);if(a&&a.va)return Qe().add(a.key);{let o=Qe();const u=n.Ma.get(e);if(!u)return o;for(const d of u){const h=n.Fa.get(d);o=o.unionWith(h.view.Va)}return o}}function b2(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=g2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NR.bind(null,e),e.Ca.d_=yR.bind(null,e.eventManager),e.Ca.$a=vR.bind(null,e.eventManager),e}function PR(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IR.bind(null,e),e}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return BA(this.persistence,new zA,e.initialUser,this.serializer)}Ga(e){return new kA(Zm.Zr,this.serializer)}Wa(e){return new KA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class Tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=jR.bind(null,this.syncEngine),await mR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gR}()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),a=function(u){return new ZA(u)}(e.databaseInfo);return function(u,d,h,y){return new tR(u,d,h,y)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,d,h){return new rR(a,o,u,d,h)}(this.localStore,this.datastore,e.asyncQueue,n=>$0(this.syncEngine,n,0),function(){return H0.D()?new H0:new YA}())}createSyncEngine(e,n){return function(o,u,d,h,y,p,b){const S=new SR(o,u,d,h,y,p);return b&&(S.Qa=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=De(o);we("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await oo(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=w1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async d=>{we("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(we("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=ap(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function zh(i,e){i.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await r2(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Y0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await E2(i);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>q0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>q0(e.remoteStore,o)),i._onlineComponents=e}async function E2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await zh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Qs("Error using user provided cache. Falling back to memory cache: "+n),await zh(i,new Xc)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await zh(i,new Xc);return i._offlineComponents}async function dp(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await Y0(i,i._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await Y0(i,new Tm))),i._onlineComponents}function S2(i){return E2(i).then(e=>e.persistence)}function w2(i){return dp(i).then(e=>e.remoteStore)}function VR(i){return dp(i).then(e=>e.syncEngine)}async function Wc(i){const e=await dp(i),n=e.eventManager;return n.onListen=wR.bind(null,e.syncEngine),n.onUnlisten=RR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xR.bind(null,e.syncEngine),n}function LR(i){return i.asyncQueue.enqueue(async()=>{const e=await S2(i),n=await w2(i);return e.setNetworkEnabled(!0),function(o){const u=De(o);return u.L_.delete(0),Jl(u)}(n)})}function zR(i){return i.asyncQueue.enqueue(async()=>{const e=await S2(i),n=await w2(i);return e.setNetworkEnabled(!1),async function(o){const u=De(o);u.L_.add(0),await oo(u),u.q_.set("Offline")}(n)})}function UR(i,e,n={}){const a=new si;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,h,y,p){const b=new fp({next:x=>{b.Za(),d.enqueueAndForget(()=>op(u,S));const D=x.docs.has(h);!D&&x.fromCache?p.reject(new be(he.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&x.fromCache&&y&&y.source==="server"?p.reject(new be(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),S=new up(lf(h.path),b,{includeMetadataChanges:!0,_a:!0});return sp(u,S)}(await Wc(i),i.asyncQueue,e,n,a)),a.promise}function BR(i,e,n={}){const a=new si;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,h,y,p){const b=new fp({next:x=>{b.Za(),d.enqueueAndForget(()=>op(u,S)),x.fromCache&&y.source==="server"?p.reject(new be(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),S=new up(h,b,{includeMetadataChanges:!0,_a:!0});return sp(u,S)}(await Wc(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(i,e,n){if(!n)throw new be(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function HR(i,e,n,a){if(e===!0&&a===!0)throw new be(he.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function W0(i){if(!Ae.isDocumentKey(i))throw new be(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Z0(i){if(Ae.isDocumentKey(i))throw new be(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie()}function Vn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new be(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(i);throw new be(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new be(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T2((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new i4;switch(a.type){case"firstParty":return new l4(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new be(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=X0.get(n);a&&(we("ComponentProvider","Removing Datastore"),X0.delete(n),a.terminate())}(this),Promise.resolve()}}function qR(i,e,n,a={}){var o;const u=(i=Vn(i,yf))._getSettings(),d=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),a.mockUserToken){let h,y;if(typeof a.mockUserToken=="string")h=a.mockUserToken,y=mn.MOCK_USER;else{h=o1(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const p=a.mockUserToken.sub||a.mockUserToken.user_id;if(!p)throw new be(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mn(p)}i._authCredentials=new a4(new S1(h,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class wn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Gi extends Ji{constructor(e,n,a){super(e,n,lf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Ae(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Bi(i,e,...n){if(i=yn(i),A2("collection","path",e),i instanceof yf){const a=dt.fromString(e,...n);return Z0(a),new Gi(i,null,a)}{if(!(i instanceof wn||i instanceof Gi))throw new be(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(dt.fromString(e,...n));return Z0(a),new Gi(i.firestore,null,a)}}function gn(i,e,...n){if(i=yn(i),arguments.length===1&&(e=w1.newId()),A2("doc","path",e),i instanceof yf){const a=dt.fromString(e,...n);return W0(a),new wn(i,null,new Ae(a))}{if(!(i instanceof wn||i instanceof Gi))throw new be(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(dt.fromString(e,...n));return W0(a),new wn(i.firestore,i instanceof Gi?i.converter:null,new Ae(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new a2(this,"async_queue_retry"),this.Vu=()=>{const a=Lh();a&&we("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const n=Lh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Lh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new si;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Xl(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(a=>{this.Eu=a,this.du=!1;const o=function(d){let h=d.message||"";return d.stack&&(h=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),h}(a);throw ui("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.du=!1,a))));return this.mu=n,n}enqueueAfterDelay(e,n,a){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=ip.createAndSchedule(this,e,n,a,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function t_(i){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class fi extends yf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new e_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e_(e),this._firestoreClient=void 0,await e}}}function FR(i,e){const n=typeof i=="object"?i:zm(),a=typeof i=="string"?i:"(default)",o=sf(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Vm("firestore");u&&qR(o,...u)}return o}function uo(i){if(i._terminated)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||GR(i),i._firestoreClient}function GR(i){var e,n,a;const o=i._freezeSettings(),u=function(h,y,p,b){return new E4(h,y,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,T2(b.experimentalLongPollingOptions),b.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new kR(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(h){const y=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(y),_online:y}}(i._componentsProvider))}function QR(i){return LR(uo(i=Vn(i,fi)))}function $R(i){return zR(uo(i=Vn(i,fi)))}function KR(i){return GT(i.app,"firestore",i._databaseId.database),i._delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(un.fromBase64String(e))}catch(n){throw new be(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=/^__.*__$/;class XR{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}class R2{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x2(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class pp{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.Ou(e),o}Nu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(x2(this.Cu)&&YR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class WR{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||mf(e)}Qu(e,n,a,o=!1){return new pp({Cu:e,methodName:n,qu:a,path:on.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(i){const e=i._freezeSettings(),n=mf(i._databaseId);return new WR(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ZR(i,e,n,a,o,u={}){const d=i.Qu(u.merge||u.mergeFields?2:0,e,n,o);vp("Data must be an object, but it was:",d,a);const h=C2(a,d);let y,p;if(u.merge)y=new kn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const x=Am(e,S,n);if(!d.contains(x))throw new be(he.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);O2(b,x)||b.push(x)}y=new kn(b),p=d.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,p=d.fieldTransforms;return new XR(new xn(h),y,p)}class bf extends _f{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}class yp extends _f{_toFieldTransform(e){return new Q4(e.path,new Hl)}isEqual(e){return e instanceof yp}}function JR(i,e,n,a){const o=i.Qu(1,e,n);vp("Data must be an object, but it was:",o,a);const u=[],d=xn.empty();Ka(a,(y,p)=>{const b=_p(e,y,n);p=yn(p);const S=o.Nu(b);if(p instanceof bf)u.push(b);else{const x=tu(p,S);x!=null&&(u.push(b),d.set(b,x))}});const h=new kn(u);return new R2(d,h,o.fieldTransforms)}function ex(i,e,n,a,o,u){const d=i.Qu(1,e,n),h=[Am(e,a,n)],y=[o];if(u.length%2!=0)throw new be(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)h.push(Am(e,u[x])),y.push(u[x+1]);const p=[],b=xn.empty();for(let x=h.length-1;x>=0;--x)if(!O2(p,h[x])){const D=h[x];let B=y[x];B=yn(B);const V=d.Nu(D);if(B instanceof bf)p.push(D);else{const U=tu(B,V);U!=null&&(p.push(D),b.set(D,U))}}const S=new kn(p);return new R2(b,S,d.fieldTransforms)}function tx(i,e,n,a=!1){return tu(n,i.Qu(a?4:3,e))}function tu(i,e){if(N2(i=yn(i)))return vp("Unsupported field value:",e,i),C2(i,e);if(i instanceof _f)return function(a,o){if(!x2(o.Cu))throw o.Bu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(a,o){const u=[];let d=0;for(const h of a){let y=tu(h,o.Lu(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=yn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return q4(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=At.fromDate(a);return{timestampValue:Kc(o.serializer,u)}}if(a instanceof At){const u=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,u)}}if(a instanceof hp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zs)return{bytesValue:X1(o.serializer,a._byteString)};if(a instanceof wn){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof mp)return function(d,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw h.Bu("VectorValues must only contain numeric values.");return $m(h.serializer,y)})}}}}}}(a,o);throw o.Bu(`Unsupported field value: ${gf(a)}`)}(i,e)}function C2(i,e){const n={};return T1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(i,(a,o)=>{const u=tu(o,e.Mu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function N2(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof At||i instanceof hp||i instanceof Zs||i instanceof wn||i instanceof _f||i instanceof mp)}function vp(i,e,n){if(!N2(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=gf(n);throw a==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+a)}}function Am(i,e,n){if((e=yn(e))instanceof vf)return e._internalPath;if(typeof e=="string")return _p(i,e);throw Zc("Field path arguments must be of type string or ",i,!1,void 0,n)}const nx=new RegExp("[~\\*/\\[\\]]");function _p(i,e,n){if(e.search(nx)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zc(i,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new be(he.INVALID_ARGUMENT,h+i+y)}function O2(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rx extends I2{data(){return super.data()}}function bp(i,e){return typeof e=="string"?_p(i,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new be(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class j2 extends Ep{}function ja(i,e,...n){let a=[];e instanceof Ep&&a.push(e),a=a.concat(n),function(u){const d=u.filter(y=>y instanceof wp).length,h=u.filter(y=>y instanceof Sp).length;if(d>1||d>0&&h>0)throw new be(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class Sp extends j2{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Sp(e,n,a)}_apply(e){const n=this._parse(e);return M2(e._query,n),new Ji(e.firestore,e.converter,pm(e._query,n))}_parse(e){const n=gp(e.firestore);return function(u,d,h,y,p,b,S){let x;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new be(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){r_(S,b);const D=[];for(const B of S)D.push(n_(y,u,B));x={arrayValue:{values:D}}}else x=n_(y,u,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||r_(S,b),x=tx(h,d,S,b==="in"||b==="not-in");return Vt.create(p,b,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wp extends Ep{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const h=u.getFlattenedFilters();for(const y of h)M2(d,y),d=pm(d,y)}(e._query,n),new Ji(e.firestore,e.converter,pm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tp extends j2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tp(e,n)}_apply(e){const n=function(o,u,d){if(o.startAt!==null)throw new be(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new be(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(u,d)}(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new ao(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Ma(i,e="asc"){const n=e,a=bp("orderBy",i);return Tp._create(a,n)}function n_(i,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new be(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j1(e)&&n.indexOf("/")!==-1)throw new be(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(dt.fromString(n));if(!Ae.isDocumentKey(a))throw new be(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return w0(i,new Ae(a))}if(n instanceof wn)return w0(i,n._key);throw new be(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(n)}.`)}function r_(i,e){if(!Array.isArray(i)||i.length===0)throw new be(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M2(i,e){const n=function(o,u){for(const d of o)for(const h of d.getFlattenedFilters())if(u.indexOf(h.op)>=0)return h.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ix{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ka(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>Ot(d.doubleValue));return new mp(u)}convertGeoPoint(e){return new hp(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=qm(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const n=Ki(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=dt.fromString(e);at(n2(a));const o=new zl(a.get(1),a.get(3)),u=new Ae(a.popFirst(5));return o.isEqual(n)||ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(i,e,n){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class P2 extends I2{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(bp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class zc extends P2{data(e={}){return super.data(e)}}class k2{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new zc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(h=>{const y=new zc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Cl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>u||h.type!==3).map(h=>{const y=new zc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Cl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,b=-1;return h.type!==0&&(p=d.indexOf(h.doc.key),d=d.delete(h.doc.key)),h.type!==1&&(d=d.add(h.doc),b=d.indexOf(h.doc.key)),{type:sx(h.type),doc:y,oldIndex:p,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(i){i=Vn(i,wn);const e=Vn(i.firestore,fi);return UR(uo(e),i._key).then(n=>z2(e,i,n))}class Ap extends ix{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function Pa(i){i=Vn(i,Ji);const e=Vn(i.firestore,fi),n=uo(e),a=new Ap(e);return D2(i._query),BR(n,i._query).then(o=>new k2(e,a,i,o))}function Ef(i,e,n,...a){i=Vn(i,wn);const o=Vn(i.firestore,fi),u=gp(o);let d;return d=typeof(e=yn(e))=="string"||e instanceof vf?ex(u,"updateDoc",i._key,e,n,a):JR(u,"updateDoc",i._key,e),L2(o,[d.toMutation(i._key,xr.exists(!0))])}function ox(i,e){const n=Vn(i.firestore,fi),a=gn(i),o=ax(i.converter,e);return L2(n,[ZR(gp(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,xr.exists(!1))]).then(()=>a)}function V2(i,...e){var n,a,o;i=yn(i);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||t_(e[d])||(u=e[d],d++);const h={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(t_(e[d])){const S=e[d];e[d]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[d+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let y,p,b;if(i instanceof wn)p=Vn(i.firestore,fi),b=lf(i._key.path),y={next:S=>{e[d]&&e[d](z2(p,i,S))},error:e[d+1],complete:e[d+2]};else{const S=Vn(i,Ji);p=Vn(S.firestore,fi),b=S._query;const x=new Ap(p);y={next:D=>{e[d]&&e[d](new k2(p,x,S,D))},error:e[d+1],complete:e[d+2]},D2(i._query)}return function(x,D,B,V){const U=new fp(V),F=new up(D,U,B);return x.asyncQueue.enqueueAndForget(async()=>sp(await Wc(x),F)),()=>{U.Za(),x.asyncQueue.enqueueAndForget(async()=>op(await Wc(x),F))}}(uo(p),b,h,y)}function L2(i,e){return function(a,o){const u=new si;return a.asyncQueue.enqueueAndForget(async()=>CR(await VR(a),o,u)),u.promise}(uo(i),e)}function z2(i,e,n){const a=n.docs.get(e._key),o=new Ap(i);return new P2(i,o,e._key,a,new Cl(n.hasPendingWrites,n.fromCache),e.converter)}function Js(){return new yp("serverTimestamp")}(function(e,n=!0){(function(o){io=o})(d1),Gs(new Ha("firestore",(a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),h=new fi(new s4(a.getProvider("auth-internal")),new c4(a.getProvider("app-check-internal")),function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(p.options.projectId,b)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),h._setSettings(u),h},"PUBLIC").setMultipleInstances(!0)),Ar(v0,"4.7.3",e),Ar(v0,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebasestorage.googleapis.com",B2="storageBucket",lx=2*60*1e3,ux=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Wi{constructor(e,n,a=0){super(Uh(e),`Firebase Storage: ${n} (${Uh(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Uh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function Uh(i){return"storage/"+i}function H2(){const i="An unknown error occurred, please check the error payload for server response.";return new Jt(Zt.UNKNOWN,i)}function cx(i){return new Jt(Zt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function fx(i){return new Jt(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dx(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Jt(Zt.UNAUTHENTICATED,i)}function hx(){return new Jt(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mx(i){return new Jt(Zt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function px(){return new Jt(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gx(){return new Jt(Zt.CANCELED,"User canceled the upload/download.")}function yx(i){return new Jt(Zt.INVALID_URL,"Invalid URL '"+i+"'.")}function vx(i){return new Jt(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function _x(){return new Jt(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+B2+"' property when initializing the app?")}function bx(){return new Jt(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Rm(i){return new Jt(Zt.INVALID_ARGUMENT,i)}function q2(){return new Jt(Zt.APP_DELETED,"The Firebase app was deleted.")}function Ex(i){return new Jt(Zt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function El(i){throw new Jt(Zt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ii=class Uc{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Uc.makeFromUrl(e,n)}catch{return new Uc(e,"")}if(a.path==="")return a;throw vx(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const d="(/(.*))?$",h=new RegExp("^gs://"+o+d,"i"),y={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const b="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",D=new RegExp(`^https?://${S}/${b}/b/${o}/o${x}`,"i"),B={bucket:1,path:3},V=n===U2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",F=new RegExp(`^https?://${V}/${o}/${U}`,"i"),ne=[{regex:h,indices:y,postModify:u},{regex:D,indices:B,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<ne.length;re++){const P=ne[re],H=P.regex.exec(e);if(H){const N=H[P.indices.bucket];let O=H[P.indices.path];O||(O=""),a=new Uc(N,O),P.postModify(a);break}}if(a==null)throw yx(e);return a}};class Sx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i,e,n){let a=1,o=null,u=null,d=!1,h=0;function y(){return h===2}let p=!1;function b(...U){p||(p=!0,e.apply(null,U))}function S(U){o=setTimeout(()=>{o=null,i(D,y())},U)}function x(){u&&clearTimeout(u)}function D(U,...F){if(p){x();return}if(U){x(),b.call(null,U,...F);return}if(y()||d){x(),b.call(null,U,...F);return}a<64&&(a*=2);let ne;h===1?(h=2,ne=0):ne=(a+Math.random())*1e3,S(ne)}let B=!1;function V(U){B||(B=!0,x(),!p&&(o!==null?(U||(h=2),clearTimeout(o),S(0)):U||(h=1)))}return S(0),u=setTimeout(()=>{d=!0,V(!0)},n),V}function Tx(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(i){return i!==void 0}function Rx(i){return typeof i=="object"&&!Array.isArray(i)}function F2(i){return typeof i=="string"||i instanceof String}function i_(i,e,n,a){if(a<e)throw Rm(`Invalid value for '${i}'. Expected ${e} or greater.`);if(a>n)throw Rm(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(i,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${i}`}function Q2(i){const e=encodeURIComponent;let n="?";for(const a in i)if(i.hasOwnProperty(a)){const o=e(a)+"="+e(i[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ba;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ba||(Ba={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,a,o,u,d,h,y,p,b,S,x=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=h,this.errorCallback_=y,this.timeout_=p,this.progressCallback_=b,this.connectionFactory_=S,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,B)=>{this.resolve_=D,this.reject_=B,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Ic(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=h=>{const y=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,p)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const h=u.getErrorCode()===Ba.NO_ERROR,y=u.getStatus();if(!h||xx(y,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===Ba.ABORT;a(!1,new Ic(!1,null,b));return}const p=this.successCodes_.indexOf(y)!==-1;a(!0,new Ic(p,u))})},n=(a,o)=>{const u=this.resolve_,d=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(h,h.getResponse());Ax(y)?u(y):u()}catch(y){d(y)}else if(h!==null){const y=H2();y.serverResponse=h.getErrorText(),this.errorCallback_?d(this.errorCallback_(h,y)):d(y)}else if(o.canceled){const y=this.appDelete_?q2():gx();d(y)}else{const y=px();d(y)}};this.canceled_?n(!1,new Ic(!1,null,!0)):this.backoffId_=wx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Tx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ic{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function Nx(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Ox(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ix(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Dx(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function jx(i,e,n,a,o,u,d=!0){const h=Q2(i.urlParams),y=i.url+h,p=Object.assign({},i.headers);return Ix(p,e),Nx(p,n),Ox(p,u),Dx(p,a),new Cx(y,i.method,p,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(i){let e;try{e=JSON.parse(i)}catch{return null}return Rx(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Px(i,e){const n=e.split("/").filter(a=>a.length>0).join("/");return i.length===0?n:i+"/"+n}function K2(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(i,e){return e}class Sn{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||kx}}let Dc=null;function Vx(i){return!F2(i)||i.length<2?i:K2(i)}function Lx(){if(Dc)return Dc;const i=[];i.push(new Sn("bucket")),i.push(new Sn("generation")),i.push(new Sn("metageneration")),i.push(new Sn("name","fullPath",!0));function e(u,d){return Vx(d)}const n=new Sn("name");n.xform=e,i.push(n);function a(u,d){return d!==void 0?Number(d):d}const o=new Sn("size");return o.xform=a,i.push(o),i.push(new Sn("timeCreated")),i.push(new Sn("updated")),i.push(new Sn("md5Hash",null,!0)),i.push(new Sn("cacheControl",null,!0)),i.push(new Sn("contentDisposition",null,!0)),i.push(new Sn("contentEncoding",null,!0)),i.push(new Sn("contentLanguage",null,!0)),i.push(new Sn("contentType",null,!0)),i.push(new Sn("metadata","customMetadata",!0)),Dc=i,Dc}function zx(i,e){function n(){const a=i.bucket,o=i.fullPath,u=new ii(a,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Ux(i,e,n){const a={};a.type="file";const o=n.length;for(let u=0;u<o;u++){const d=n[u];a[d.local]=d.xform(a,e[d.server])}return zx(a,i),a}function Bx(i,e,n){const a=$2(e);return a===null?null:Ux(i,a,n)}function Hx(i,e,n,a){const o=$2(e);if(o===null||!F2(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(p=>{const b=i.bucket,S=i.fullPath,x="/b/"+d(b)+"/o/"+d(S),D=G2(x,n,a),B=Q2({alt:"media",token:p});return D+B})[0]}class qx{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(i){if(!i)throw H2()}function Gx(i,e){function n(a,o){const u=Bx(i,o,e);return Fx(u!==null),Hx(u,o,i.host,i._protocol)}return n}function Qx(i){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=hx():o=dx():n.getStatus()===402?o=fx(i.bucket):n.getStatus()===403?o=mx(i.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function $x(i){const e=Qx(i);function n(a,o){let u=e(a,o);return a.getStatus()===404&&(u=cx(i.path)),u.serverResponse=o.serverResponse,u}return n}function Kx(i,e,n){const a=e.fullServerUrl(),o=G2(a,i.host,i._protocol),u="GET",d=i.maxOperationRetryTime,h=new qx(o,u,Gx(i,n),d);return h.errorHandler=$x(e),h}class Yx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ba.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ba.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ba.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o){if(this.sent_)throw El("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw El("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw El("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw El("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw El("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Xx extends Yx{initXhr(){this.xhr_.responseType="text"}}function Wx(){return new Xx}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this._service=e,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $a(e,n)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K2(this._location.path)}get storage(){return this._service}get parent(){const e=Mx(this._location.path);if(e===null)return null;const n=new ii(this._location.bucket,e);return new $a(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ex(e)}}function Zx(i){i._throwIfRoot("getDownloadURL");const e=Kx(i.storage,i._location,Lx());return i.storage.makeRequestWithTokens(e,Wx).then(n=>{if(n===null)throw bx();return n})}function Jx(i,e){const n=Px(i._location.path,e),a=new ii(i._location.bucket,n);return new $a(i.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(i){return/^[A-Za-z]+:\/\//.test(i)}function t6(i,e){return new $a(i,e)}function Y2(i,e){if(i instanceof Rp){const n=i;if(n._bucket==null)throw _x();const a=new $a(n,n._bucket);return e!=null?Y2(a,e):a}else return e!==void 0?Jx(i,e):i}function n6(i,e){if(e&&e6(e)){if(i instanceof Rp)return t6(i,e);throw Rm("To use ref(service, url), the first argument must be a Storage instance.")}else return Y2(i,e)}function a_(i,e){const n=e==null?void 0:e[B2];return n==null?null:ii.makeFromBucketSpec(n,i)}function r6(i,e,n,a={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=a;o&&(i._overrideAuthToken=typeof o=="string"?o:o1(o,i.app.options.projectId))}class Rp{constructor(e,n,a,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=U2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lx,this._maxUploadRetryTime=ux,this._requests=new Set,o!=null?this._bucket=ii.makeFromBucketSpec(o,this._host):this._bucket=a_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=a_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){i_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){i_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $a(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new Sx(q2());{const d=jx(e,this._appId,a,o,n,this._firebaseVersion,u);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const s_="@firebase/storage",o_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="storage";function i6(i){return i=yn(i),Zx(i)}function a6(i,e){return i=yn(i),n6(i,e)}function s6(i=zm(),e){i=yn(i);const a=sf(i,X2).getImmediate({identifier:e}),o=Vm("storage");return o&&o6(a,...o),a}function o6(i,e,n,a={}){r6(i,e,n,a)}function l6(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Rp(n,a,o,e,d1)}function u6(){Gs(new Ha(X2,l6,"PUBLIC").setMultipleInstances(!0)),Ar(s_,o_,""),Ar(s_,o_,"esm2017")}u6();var c6="firebase",f6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(c6,f6,"app");class d6{constructor(){this.app=null,this.db=null,this.storage=null,this.isInitialized=!1,this.isNetworkEnabled=!1,this.initializationPromise=null,this.referenceCount=0}async initialize(e){if(this.initializationPromise){console.log("⏳ Firebase initialization already in progress, waiting...");try{return await this.initializationPromise,this.referenceCount++,console.log(`📊 Firebase references: ${this.referenceCount}`),{app:this.app,db:this.db,storage:this.storage}}catch{return console.error("⚠️ Previous initialization failed, retrying..."),this.initializationPromise=null,this.initialize(e)}}if(this.isInitialized&&this.app&&this.db)return this.referenceCount++,console.log(`📊 Firebase references: ${this.referenceCount}`),{app:this.app,db:this.db,storage:this.storage};this.initializationPromise=this._doInitialize(e);try{const n=await this.initializationPromise;return this.referenceCount++,console.log(`📊 Firebase references: ${this.referenceCount}`),n}catch(n){throw this.initializationPromise=null,n}}async initializeForPayment(){try{const{MENU_CONFIG:e}=await Pl(async()=>{const{MENU_CONFIG:n}=await Promise.resolve().then(()=>f_);return{MENU_CONFIG:n}},void 0);return await this.initialize(e.firebaseConfig)}catch(e){throw console.error("❌ Failed to initialize Firebase for payment page:",e),e}}async _doInitialize(e){try{if(console.log("🚀 Global Firebase Manager: Initializing..."),!e||!e.apiKey){console.error("❌ No Firebase configuration provided, using default config");const{MENU_CONFIG:a}=await Pl(async()=>{const{MENU_CONFIG:o}=await Promise.resolve().then(()=>f_);return{MENU_CONFIG:o}},void 0);if(e=a.firebaseConfig,!e||!e.apiKey)throw new Error("Firebase configuration is missing. Please check config.js")}console.log("✅ Firebase config verified:",{apiKey:e.apiKey?"***configured***":"missing",authDomain:e.authDomain,projectId:e.projectId}),await this._cleanupExistingApps(),await new Promise(a=>setTimeout(a,100));const n=`restaurant-cms-global-${Date.now()}`;return this.app=h1(e,n),this.db=FR(this.app),this.storage=s6(this.app),await this._ensureNetworkConnection(),this.isInitialized=!0,console.log("✅ Global Firebase Manager: Initialized successfully"),{app:this.app,db:this.db,storage:this.storage}}catch(n){throw console.error("❌ Global Firebase Manager: Initialization failed:",n),this.isInitialized=!1,this.initializationPromise=null,n}}async _cleanupExistingApps(){try{const e=KT();e.length>0&&(console.log(`🧹 Cleaning up ${e.length} existing Firebase apps`),await Promise.all(e.map(n=>h0(n))))}catch(e){console.warn("⚠️ Warning during app cleanup:",e.message)}}async _ensureNetworkConnection(){if(!(this.isNetworkEnabled||!this.db))try{console.log("🌐 Enabling Firebase network..."),await QR(this.db),this.isNetworkEnabled=!0,console.log("✅ Firebase network enabled")}catch(e){e.code==="failed-precondition"||e.message.includes("already enabled")||e.message.includes("INTERNAL ASSERTION FAILED")?(console.log("ℹ️ Network already enabled or in transition"),this.isNetworkEnabled=!0):(console.warn("⚠️ Network enable warning:",e.message),this.isNetworkEnabled=!0)}}async release(){this.referenceCount--,console.log(`📊 Firebase references: ${this.referenceCount}`),this.referenceCount<=0&&await this._cleanup()}async _cleanup(){try{if(console.log("🧹 Global Firebase Manager: Cleaning up..."),this.isInitialized=!1,this.db){try{console.log("📴 Disabling Firestore network..."),await $R(this.db)}catch(e){e.message.includes("failed-precondition")||console.warn("⚠️ Network disable warning:",e.message)}try{console.log("🔚 Terminating Firestore..."),await KR(this.db)}catch(e){e.message.includes("failed-precondition")||console.warn("⚠️ Database termination warning:",e.message)}}if(this.app)try{console.log("🗑️ Deleting Firebase app..."),await h0(this.app)}catch(e){console.warn("⚠️ App deletion warning:",e.message)}this.app=null,this.db=null,this.storage=null,this.isNetworkEnabled=!1,this.initializationPromise=null,this.referenceCount=0,console.log("✅ Global Firebase Manager: Cleanup completed")}catch(e){console.error("❌ Global Firebase Manager: Cleanup failed:",e),this.app=null,this.db=null,this.storage=null,this.isInitialized=!1,this.isNetworkEnabled=!1,this.initializationPromise=null,this.referenceCount=0}}getDatabase(){if(!this.isInitialized||!this.db)throw new Error("Firebase not initialized. Call initialize() first.");return this.db}getApp(){if(!this.isInitialized||!this.app)throw new Error("Firebase not initialized. Call initialize() first.");return this.app}getStorage(){if(!this.isInitialized||!this.storage)throw new Error("Firebase Storage not initialized. Call initialize() first.");return this.storage}isReady(){return this.isInitialized&&this.app&&this.db}}const It=new d6,l_=Object.freeze(Object.defineProperty({__proto__:null,default:It,globalFirebaseManager:It},Symbol.toStringTag,{value:"Module"}));class Bc{constructor(e,n){this.firebaseManager=e,this.businessId=n,e||console.warn("⚠️ OrderService created without Firebase manager")}async createOrder(e){try{if(!this.firebaseManager)throw new Error("Firebase manager is not initialized. Please check your Firebase configuration.");if(!e)throw new Error("Order data is required");if(!e.items||!Array.isArray(e.items)||e.items.length===0)throw new Error("Order must contain at least one item");if(!e.customer||!e.customer.name||!e.customer.phone)throw new Error("Customer name and phone are required");if(!e.total||e.total<=0)throw new Error("Order total must be greater than 0");console.log("🔄 Creating order with validated data:",e);const n=this.firebaseManager.getDatabase();if(!n)throw new Error("Firebase database not available. Connection may be offline.");const a=Bi(n,"orders"),o={businessId:this.businessId,items:e.items,customer:{name:e.customer.name,phone:e.customer.phone,email:e.customer.email||"",address:e.customer.address||""},total:e.total,currency:"ARS",status:"pending",paymentStatus:"pending",paymentMethod:e.paymentMethod||"mercadopago",mercadopagoId:null,createdAt:At.now(),updatedAt:At.now(),notes:e.notes||""},u=await ox(a,o);return console.log("✅ Order created with ID:",u.id),{orderId:u.id,...o}}catch(n){throw console.error("❌ Error creating order:",n.message),console.error("Order data:",e),console.error("Firebase manager available:",!!this.firebaseManager),n}}async updateOrderStatus(e,n,a=null){try{const o=this.firebaseManager.getDatabase(),u=gn(o,"orders",e),d={status:n,updatedAt:At.now()};a&&(d.paymentStatus=a),await Ef(u,d),console.log("✅ Order status updated:",e,n)}catch(o){throw console.error("❌ Error updating order status:",o),o}}async getOrder(e){try{const n=this.firebaseManager.getDatabase(),a=gn(n,"orders",e),o=await Xn(a);if(o.exists())return{orderId:o.id,...o.data()};throw new Error("Order not found")}catch(n){throw console.error("❌ Error getting order:",n),n}}}var W2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u_=za.createContext&&za.createContext(W2),Qi=function(){return Qi=Object.assign||function(i){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Qi.apply(this,arguments)},h6=function(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n};function Z2(i){return i&&i.map(function(e,n){return za.createElement(e.tag,Qi({key:n},e.attr),Z2(e.child))})}function $e(i){return function(e){return za.createElement(m6,Qi({attr:Qi({},i.attr)},e),Z2(i.child))}}function m6(i){var e=function(n){var a=i.attr,o=i.size,u=i.title,d=h6(i,["attr","size","title"]),h=o||n.size||"1em",y;return n.className&&(y=n.className),i.className&&(y=(y?y+" ":"")+i.className),za.createElement("svg",Qi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,d,{className:y,style:Qi(Qi({color:i.color||n.color},n.style),i.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&za.createElement("title",null,u),i.children)};return u_!==void 0?za.createElement(u_.Consumer,null,function(n){return e(n)}):e(W2)}function p6(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(i)}function J2(i){return $e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(i)}function g6(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(i)}function eb(i){return $e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(i)}function Bh(i){return $e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(i)}function y6(i){return $e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(i)}function tb(i){return $e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"}}]})(i)}function nb(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(i)}function c_(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(i)}function v6(i){return $e({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(i)}function _6(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(i)}function rb(i){return $e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(i)}function ib(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(i)}function ab(i){return $e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(i)}function b6(i){return $e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(i)}function sb(i){return $e({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"}}]})(i)}function E6(i){return $e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M471.1 96C405 96 353.3 137.3 320 174.6 286.7 137.3 235 96 168.9 96 75.8 96 0 167.8 0 256s75.8 160 168.9 160c66.1 0 117.8-41.3 151.1-78.6 33.3 37.3 85 78.6 151.1 78.6 93.1 0 168.9-71.8 168.9-160S564.2 96 471.1 96zM168.9 320c-40.2 0-72.9-28.7-72.9-64s32.7-64 72.9-64c38.2 0 73.4 36.1 94 64-20.4 27.6-55.9 64-94 64zm302.2 0c-38.2 0-73.4-36.1-94-64 20.4-27.6 55.9-64 94-64 40.2 0 72.9 28.7 72.9 64s-32.7 64-72.9 64z"}}]})(i)}function ob(i){return $e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(i)}function xp(i){return $e({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(i)}function S6(i){return $e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(i)}function w6(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(i)}function T6(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(i)}function A6(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(i)}function R6(i){return $e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"}}]})(i)}function x6(i){return $e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(i)}function C6(i){return $e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"}}]})(i)}function Jc(i){return $e({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"}}]})(i)}function N6(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"}}]})(i)}function lb(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(i)}function xm(i){return $e({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(i)}function O6(i){return $e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(i)}function I6(i){return $e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(i)}function D6(i){return $e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"}}]})(i)}function j6(i){return $e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(i)}function Sf(i){return $e({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"}}]})(i)}class Cp{constructor(e,n){this.firebaseConfig=e,this.businessId=n,this.app=null,this.db=null,this.storage=null,this.initialized=!1,this.orderService=null,this.firebaseManager=It}async initialize(){return await this._ensureInitialized()}async _ensureInitialized(){if(!this.initialized)try{const{app:e,db:n,storage:a}=await It.initialize(this.firebaseConfig);this.app=e,this.db=n,this.storage=a,this.initialized=!0,this.orderService=new Bc(It,this.businessId)}catch(e){throw new Error(`Failed to initialize MenuSDK: ${e.message}`)}}async _resolveImageUrl(e){if(!e)return null;try{if(e.startsWith("http://")||e.startsWith("https://"))return e;if(await this._ensureInitialized(),!this.storage)return console.error("Firebase Storage not initialized"),null;const n=a6(this.storage,e);return await i6(n)}catch(n){return console.error("Failed to resolve image URL:",{path:e,error:n.message}),null}}async getBusinessInfo(){try{await this._ensureInitialized(),console.log("🔍 Fetching business info for:",this.businessId);const e=gn(this.db,"businesses",this.businessId),n=await Xn(e);if(n.exists())return console.log("✅ Business info loaded from businesses collection"),n.data();console.log("📍 Trying restaurants collection for compatibility...");const a=gn(this.db,"restaurants",this.businessId),o=await Xn(a);if(o.exists()){console.log("✅ Business info loaded from restaurants collection (compatibilidad)");const u=o.data();return{...u,businessType:u.businessType||"restaurant"}}throw new Error("Business not found in either businesses or restaurants collection")}catch(e){throw console.error("❌ Error getting business info:",e),e}}async getRestaurantInfo(){try{await this._ensureInitialized(),console.log("🔍 Fetching business info for:",this.businessId);try{return await this.getBusinessInfo()}catch{const n=gn(this.db,"restaurants",this.businessId),a=await Xn(n);if(!a.exists())throw new Error("Restaurant not found");return console.log("✅ Restaurant info loaded successfully"),a.data()}}catch(e){throw console.error("❌ Error getting restaurant info:",e),e.code==="unavailable"?new Error("Firebase service is temporarily unavailable. Please try again later."):e.code==="permission-denied"?new Error("Access denied. Please check your Firebase security rules."):e}}async getFullMenu(){try{await this._ensureInitialized(),console.log("[Menu] Fetching full menu for business:",this.businessId);let e=Bi(this.db,"businesses",this.businessId,"menu"),n=ja(e,Ma("order","asc")),a=await Pa(n);a.empty&&(console.log("📍 Trying restaurants collection for menu..."),e=Bi(this.db,"restaurants",this.businessId,"menu"),n=ja(e,Ma("order","asc")),a=await Pa(n)),console.log("📂 Found",a.size,"menu categories");const o=[];for(const u of a.docs){const d={id:u.id,...u.data(),items:[]},h=Bi(u.ref,"items"),y=ja(h,Ma("name","asc")),p=await Pa(y);console.log(`📋 Category "${d.name}": ${p.size} items`);for(const b of p.docs){const S={id:b.id,...b.data()};let x=S.imageUrl||S.image;if(x)try{const D=await this._resolveImageUrl(x);S.image=D,S.imageUrl=D}catch(D){console.warn(`⚠️ Could not resolve image for item ${S.name}:`,D.message),S.image=null,S.imageUrl=null}else S.image=null,S.imageUrl=null;S.isHidden||d.items.push(S)}d.items.length>0&&o.push(d)}return console.log("✅ Full menu loaded successfully:",o.length,"categories"),o}catch(e){throw console.error("❌ Error getting full menu:",e),e.code==="unavailable"?new Error("Firebase service is temporarily unavailable. Please try again later."):e.code==="permission-denied"?new Error("Access denied. Please check your Firebase security rules."):e}}async getFullMenuWithHidden(){try{await this._ensureInitialized(),console.log("🍽️ Fetching full menu with hidden items for business:",this.businessId);let e=Bi(this.db,"businesses",this.businessId,"menu"),n=ja(e,Ma("order","asc")),a=await Pa(n);a.empty&&(console.log("📍 Trying restaurants collection for menu..."),e=Bi(this.db,"restaurants",this.businessId,"menu"),n=ja(e,Ma("order","asc")),a=await Pa(n)),console.log("📂 Found",a.size,"menu categories");const o=[];for(const u of a.docs){const d={id:u.id,...u.data(),items:[]},h=Bi(u.ref,"items"),y=ja(h,Ma("name","asc")),p=await Pa(y);console.log(`📋 Category "${d.name}": ${p.size} items (including hidden)`);for(const b of p.docs){const S={id:b.id,...b.data()};let x=S.imageUrl||S.image;if(x)try{const D=await this._resolveImageUrl(x);S.image=D,S.imageUrl=D}catch(D){console.warn(`⚠️ Could not resolve image for item ${S.name}:`,D.message),S.image=null,S.imageUrl=null}else S.image=null,S.imageUrl=null;d.items.push(S)}o.push(d)}return console.log("✅ Full menu with hidden items loaded successfully:",o.length,"categories"),o}catch(e){throw console.error("❌ Error getting full menu with hidden items:",e),e.code==="unavailable"?new Error("Firebase service is temporarily unavailable. Please try again later."):e.code==="permission-denied"?new Error("Access denied. Please check your Firebase security rules."):e}}async getCategory(e){try{await this._ensureInitialized();let n=gn(this.db,"businesses",this.businessId,"menu",e),a=await Xn(n);if(a.exists()||(n=gn(this.db,"restaurants",this.businessId,"menu",e),a=await Xn(n)),!a.exists())throw new Error("Category not found");const o={id:a.id,...a.data(),items:[]},u=Bi(a.ref,"items"),d=ja(u,Ma("name","asc")),h=await Pa(d);for(const y of h.docs){const p={id:y.id,...y.data()};let b=p.imageUrl||p.image;if(b)try{const S=await this._resolveImageUrl(b);p.image=S,p.imageUrl=S}catch(S){console.warn(`⚠️ Could not resolve image for item ${p.name}:`,S.message),p.image=null,p.imageUrl=null}o.items.push(p)}return o}catch(n){throw console.error("Error getting category:",n),n}}async searchItems(e){try{const n=await this.getFullMenu(),a=[];n.forEach(u=>{u.items.forEach(d=>{a.push({...d,categoryName:u.name,categoryId:u.id})})});const o=e.toLowerCase();return a.filter(u=>u.name.toLowerCase().includes(o)||u.description&&u.description.toLowerCase().includes(o))}catch(n){throw console.error("Error searching items:",n),n}}async createOrder(e){if(!this.orderService)throw new Error("SDK not initialized. Call initialize() first.");return await this.orderService.createOrder(e)}async updateOrderStatus(e,n,a=null){if(!this.orderService)throw new Error("SDK not initialized. Call initialize() first.");return await this.orderService.updateOrderStatus(e,n,a)}async getOrder(e){if(!this.orderService)throw new Error("SDK not initialized. Call initialize() first.");return await this.orderService.getOrder(e)}async getFeaturedItems(){try{const e=await this.getFullMenu(),n=[];return e.forEach(a=>{const o=a.items.filter(u=>u.isFeatured&&u.isAvailable!==!1&&!u.isHidden);n.push(...o.map(u=>({...u,categoryName:a.name,categoryId:a.id})))}),n}catch(e){throw console.error("Error getting featured items:",e),e}}async getAvailableItems(){try{const e=await this.getFullMenu(),n=[];return e.forEach(a=>{const o=a.items.filter(u=>u.trackStock?u.stock>0&&u.isAvailable!==!1&&!u.isHidden:u.isAvailable!==!1&&!u.isHidden);n.push(...o.map(u=>({...u,categoryName:a.name,categoryId:a.id})))}),n}catch(e){throw console.error("Error getting available items:",e),e}}getStockStatus(e){return e.trackStock?e.isHidden?{status:"hidden",text:"Oculto",icon:"👁️‍🗨️",cssClass:"stock-hidden"}:e.isAvailable===!1?{status:"unavailable",text:"No disponible",icon:"🚫",cssClass:"stock-unavailable"}:e.stock<=0?{status:"out-of-stock",text:"Sin stock",icon:"❌",cssClass:"stock-empty"}:e.stock<=(e.minStock||5)?{status:"low-stock",text:`Stock bajo (${e.stock})`,icon:"⚠️",cssClass:"stock-low"}:{status:"in-stock",text:`En stock (${e.stock})`,icon:"✅",cssClass:"stock-normal"}:{status:"not-tracked",text:"Sin control de stock",icon:"📦",cssClass:"stock-normal"}}}function Np(i,e){return new Cp(i,e)}const M6=Object.freeze(Object.defineProperty({__proto__:null,MenuSDK:Cp,createMenuSDK:Np},Symbol.toStringTag,{value:"Module"})),Wt={firebaseConfig:{apiKey:"AIzaSyDHi_a1trI35goPoKcNPUDBMOSLKjvZKyc",authDomain:"cms-menu-7b4a4.firebaseapp.com",projectId:"cms-menu-7b4a4",storageBucket:"cms-menu-7b4a4.firebasestorage.app",messagingSenderId:"509736809578",appId:"1:509736809578:web:15471af092f3b46392c613",measurementId:"G-X4F9XDEL13"},businessId:"OANNHilb2kZOVQKx7fb80hPrAL92",itemVisibility:{hideInvisibleItems:!0,adminCanSeeHidden:!0},mercadoPago:{publicKey:"APP_USR-aff124d3-9db8-432f-b97e-7cfd30fca245",currency:"ARS",enabled:!0},baseUrl:"https://juanmaacampos.github.io/shop_template",backendUrl:"https://us-central1-cms-menu-7b4a4.cloudfunctions.net",testing:{enabled:!1,showTestingPanel:!1,mockData:!1},templateType:"store",locale:"es-AR",timezone:"America/Argentina/Buenos_Aires"},Op={businessName:"Mi Negocio",menuName:"catálogo",menuNameCapitalized:"Nuestro Catálogo",items:"productos",itemsCapitalized:"Productos",addToCart:"Agregar al Carrito",orderSummary:"Carrito de Compras",categoriesOfMenu:"Categorías de Productos",featuredProducts:"Productos Destacados",allProducts:"Todos los Productos",serviceOptions:{delivery:"Envío a Domicilio",pickup:"Retiro en Local",shipping:"Envío Nacional",dineIn:"Para Comer Aquí",takeaway:"Para Llevar"}},jl={store:{businessName:"Mi Tienda",menuName:"catálogo",menuNameCapitalized:"Nuestro Catálogo",items:"productos",itemsCapitalized:"Productos",addToCart:"Agregar al Carrito",orderSummary:"Carrito de Compras",categoriesOfMenu:"Categorías de Productos",featuredProducts:"Productos Destacados",allProducts:"Todos los Productos",serviceOptions:{delivery:"Envío a Domicilio",pickup:"Retiro en Tienda",shipping:"Envío Nacional"}}};function ub(i="store"){jl[i]?(Object.assign(Op,jl[i]),console.log(`✅ Aplicada configuración para: ${i}`)):(console.warn(`⚠️ Tipo de negocio no reconocido: ${i}`),console.log(`📝 Tipos disponibles: ${Object.keys(jl).join(", ")}`))}Wt.templateType&&jl[Wt.templateType]&&ub(Wt.templateType);const f_=Object.freeze(Object.defineProperty({__proto__:null,BUSINESS_TEMPLATES:jl,MENU_CONFIG:Wt,STORE_TERMINOLOGY:Op,applyBusinessTemplate:ub},Symbol.toStringTag,{value:"Module"}));function P6({featuredItems:i=[],loading:e}){const[n,a]=z.useState([]),[o,u]=z.useState(null),[d,h]=z.useState(!1),y=z.useRef(null),p=z.useRef(),[b,S]=z.useState(0),x=z.useRef(null),[D,B]=z.useState(220);z.useEffect(()=>{x.current&&B(x.current.offsetHeight)},[n]),z.useEffect(()=>{if(!i||i.length===0)return;const re=i.filter(N=>N.isFeatured),P={};re.forEach(N=>{P[N.categoryId]||(P[N.categoryId]=[]),P[N.categoryId].push(N)});const H=Object.values(P).map(N=>N[Math.floor(Math.random()*N.length)]);a(H)},[i]);const[V,U]=z.useState(0);z.useEffect(()=>{function re(){y.current&&U(y.current.offsetHeight)}return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),z.useEffect(()=>{if(n.length===0||D===0)return;let re=null;const P=D*.7;let H=!0;function N(O){if(!H)return;re||(re=O);const R=(O-re)/1e3;re=O,S(E=>{let M=d?E:E-P*R;const L=D*n.length*2;return M<=-L&&(M=0),M}),p.current=requestAnimationFrame(N)}return p.current=requestAnimationFrame(N),()=>{H=!1,cancelAnimationFrame(p.current)}},[d,n,D]);const F=re=>{h(!0),u(re)},Y=()=>{h(!1),u(null)};if(e)return g.jsx("div",{className:"vertical-carousel loading",children:"Cargando..."});if(!n.length)return g.jsx("div",{className:"vertical-carousel empty",children:"Sin productos destacados"});const ne=[...n,...n];return g.jsx("div",{className:"vertical-carousel",ref:y,style:{height:"100%",minHeight:400,maxHeight:"100vh",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden"},children:g.jsx("div",{className:"vertical-carousel-inner",style:{height:ne.length*D,transform:`translateY(${b%(n.length*D)}px)`,willChange:"transform",transition:d?"transform 0.5s cubic-bezier(0.4,0,0.2,1)":"none"},children:ne.map((re,P)=>g.jsxs("div",{ref:P===0?x:null,className:`carousel-item${o===P%n.length?" hovered":""}`,style:{height:320,width:320,minWidth:320,minHeight:320,maxWidth:420,maxHeight:420,margin:"0 auto 40px auto",position:"relative",cursor:"pointer",borderRadius:32,overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.13)",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:()=>F(P%n.length),onMouseLeave:Y,children:[g.jsx("img",{src:re.imageUrl||re.image||"/default-product.png",alt:re.name,className:"carousel-img",style:{width:"100%",height:"100%",aspectRatio:"1/1",objectFit:"cover",borderRadius:32,boxShadow:"0 2px 12px rgba(0,0,0,0.10)",transition:"filter 0.3s"}}),o===P%n.length&&g.jsx("div",{className:"carousel-overlay",children:g.jsxs("div",{className:"carousel-info",children:[g.jsx("span",{className:"carousel-name",children:re.name}),g.jsxs("span",{className:"carousel-price",children:["$",parseFloat(re.price).toFixed(2)]})]})})]},P))})})}function k6({featuredItems:i=[],loading:e}){const[n,a]=z.useState([]),[o,u]=z.useState(null),[d,h]=z.useState(!1),y=z.useRef(null),p=z.useRef(),[b,S]=z.useState(0),x=z.useRef(null),[D,B]=z.useState(180);z.useEffect(()=>{x.current&&B(x.current.offsetWidth)},[n]),z.useEffect(()=>{if(!i||i.length===0)return;const Y=i.filter(P=>P.isFeatured),ne={};Y.forEach(P=>{ne[P.categoryId]||(ne[P.categoryId]=[]),ne[P.categoryId].push(P)});const re=Object.values(ne).map(P=>P[Math.floor(Math.random()*P.length)]);a(re)},[i]),z.useEffect(()=>{if(n.length===0||D===0)return;let Y=null;const ne=D*.7;let re=!0;function P(H){if(!re)return;Y||(Y=H);const N=(H-Y)/1e3;Y=H,S(O=>{let R=d?O:O+ne*N;const E=D*n.length*2;return R>=E&&(R=0),R}),p.current=requestAnimationFrame(P)}return p.current=requestAnimationFrame(P),()=>{re=!1,cancelAnimationFrame(p.current)}},[d,n,D]);const V=Y=>{h(!0),u(Y)},U=()=>{h(!1),u(null)};if(e)return g.jsx("div",{className:"horizontal-carousel loading",children:"Cargando..."});if(!n.length)return g.jsx("div",{className:"horizontal-carousel empty",children:"Sin productos destacados"});const F=[...n,...n];return g.jsx("div",{className:"horizontal-carousel",ref:y,style:{width:"100%",minHeight:150,maxWidth:"100vw",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",margin:"1.5rem 0 0 0"},children:g.jsx("div",{className:"horizontal-carousel-inner",style:{display:"flex",flexDirection:"row",height:"100%",transform:`translateX(-${b%(n.length*D)}px)`,willChange:"transform",transition:d?"transform 0.5s cubic-bezier(0.4,0,0.2,1)":"none"},children:F.map((Y,ne)=>g.jsxs("div",{ref:ne===0?x:null,className:`carousel-item${o===ne%n.length?" hovered":""}`,style:{width:180,minWidth:180,maxWidth:220,height:180,margin:"0 12px",position:"relative",cursor:"pointer",borderRadius:16,overflow:"hidden",boxShadow:"0 2px 12px rgba(0,0,0,0.10)",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:()=>V(ne%n.length),onMouseLeave:U,children:[g.jsx("img",{src:Y.imageUrl||Y.image||"/default-product.png",alt:Y.name,className:"carousel-img",style:{width:"100%",height:"100%",aspectRatio:"1/1",objectFit:"cover",borderRadius:16,boxShadow:"0 2px 12px rgba(0,0,0,0.10)",transition:"filter 0.3s"}}),o===ne%n.length&&g.jsx("div",{className:"carousel-overlay",children:g.jsxs("div",{className:"carousel-info",children:[g.jsx("span",{className:"carousel-name",children:Y.name}),g.jsxs("span",{className:"carousel-price",children:["$",parseFloat(Y.price).toFixed(2)]})]})})]},ne))})})}function V6({featuredItems:i=[],loading:e}){const[n,a]=z.useState([]),[o,u]=z.useState(null),[d,h]=z.useState(!1),y=z.useRef(null),p=z.useRef(),[b,S]=z.useState(0),x=z.useRef(null),[D,B]=z.useState(220);z.useEffect(()=>{x.current&&B(x.current.offsetHeight)},[n]),z.useEffect(()=>{if(!i||i.length===0)return;const re=i.filter(N=>N.isFeatured),P={};re.forEach(N=>{P[N.categoryId]||(P[N.categoryId]=[]),P[N.categoryId].push(N)});const H=Object.values(P).map(N=>N[Math.floor(Math.random()*N.length)]);a(H)},[i]);const[V,U]=z.useState(0);z.useEffect(()=>{function re(){y.current&&U(y.current.offsetHeight)}return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),z.useEffect(()=>{if(n.length===0||D===0)return;let re=null;const P=D*.7;let H=!0;function N(O){if(!H)return;re||(re=O);const R=(O-re)/1e3;re=O,S(E=>{let M=d?E:E+P*R;const L=D*n.length*2;return M>=L&&(M=0),M}),p.current=requestAnimationFrame(N)}return p.current=requestAnimationFrame(N),()=>{H=!1,cancelAnimationFrame(p.current)}},[d,n,D]);const F=re=>{h(!0),u(re)},Y=()=>{h(!1),u(null)};if(e)return g.jsx("div",{className:"vertical-carousel loading",children:"Cargando..."});if(!n.length)return g.jsx("div",{className:"vertical-carousel empty",children:"Sin productos destacados"});const ne=[...n,...n];return g.jsx("div",{className:"vertical-carousel",ref:y,style:{height:"100%",minHeight:400,maxHeight:"100vh",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden"},children:g.jsx("div",{className:"vertical-carousel-inner",style:{height:ne.length*D,transform:`translateY(-${b%(n.length*D)}px)`,willChange:"transform",transition:d?"transform 0.5s cubic-bezier(0.4,0,0.2,1)":"none"},children:ne.map((re,P)=>g.jsxs("div",{ref:P===0?x:null,className:`carousel-item${o===P%n.length?" hovered":""}`,style:{height:320,width:320,minWidth:320,minHeight:320,maxWidth:420,maxHeight:420,margin:"0 auto 40px auto",position:"relative",cursor:"pointer",borderRadius:32,overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.13)",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:()=>F(P%n.length),onMouseLeave:Y,children:[g.jsx("img",{src:re.imageUrl||re.image||"/default-product.png",alt:re.name,className:"carousel-img",style:{width:"100%",height:"100%",aspectRatio:"1/1",objectFit:"cover",borderRadius:32,boxShadow:"0 2px 12px rgba(0,0,0,0.10)",transition:"filter 0.3s"}}),o===P%n.length&&g.jsx("div",{className:"carousel-overlay",children:g.jsxs("div",{className:"carousel-info",children:[g.jsx("span",{className:"carousel-name",children:re.name}),g.jsxs("span",{className:"carousel-price",children:["$",parseFloat(re.price).toFixed(2)]})]})})]},P))})})}const L6=()=>{const i=z.useRef(null),e=z.useRef(null),n=z.useRef(null),a=z.useRef(null),o=z.useRef(null),[u,d]=z.useState(!1),[h,y]=z.useState(null);z.useEffect(()=>{const x=new Cp(Wt.firebaseConfig,Wt.businessId);x.initialize().then(()=>{y(x)}).catch(D=>{console.error("Error initializing MenuSDK:",D)})},[]);const{featuredItems:p,loading:b}=Ow(h),S=()=>{document.getElementById("menu").scrollIntoView({behavior:"smooth"})};return z.useEffect(()=>{const x=()=>d(window.innerWidth<=768);return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),g.jsxs("header",{ref:i,className:"header",id:"home",children:[g.jsx("div",{className:"header-bg"}),g.jsx("div",{className:"container",children:g.jsxs("div",{className:"header-content",children:[g.jsxs("div",{className:"header-left",children:[g.jsxs("h1",{ref:e,className:"header-title",children:["DIGITAL",g.jsx("br",{}),"STORE"]}),g.jsx("p",{ref:n,className:"header-subtitle",children:"Tu Tienda Online"}),g.jsx("button",{ref:a,className:"btn-primary header-cta",onClick:S,children:"Ver Productos"}),u&&g.jsx(k6,{featuredItems:p,loading:b})]}),!u&&g.jsxs("div",{ref:o,className:"header-right",style:{display:"flex",gap:"2rem",justifyContent:"center"},children:[g.jsx(V6,{featuredItems:p,loading:b}),g.jsx(P6,{featuredItems:p,loading:b})]})]})})]})},z6=()=>g.jsx("footer",{className:"footer",children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"footer-content",children:[g.jsxs("div",{className:"footer-brand",children:[g.jsx("h3",{children:"DIGITAL STORE"}),g.jsx("p",{children:"Tu propia tienda digital :)"})]}),g.jsxs("div",{className:"footer-social",children:[g.jsx("h4",{children:"Seguinos:"}),g.jsxs("div",{className:"social-links",children:[g.jsx("a",{href:"#",className:"social-link",children:g.jsx(J2,{})}),g.jsx("a",{href:"#",className:"social-link",children:g.jsx(p6,{})}),g.jsx("a",{href:"#",className:"social-link",children:g.jsx(g6,{})}),g.jsx("a",{href:"#",className:"social-link",children:g.jsx(eb,{})})]})]}),g.jsxs("div",{className:"footer-contact",children:[g.jsx("h4",{children:"Contact"}),g.jsx("p",{children:"123 Main Street"}),g.jsx("p",{children:"+1 (555) 123-4567"}),g.jsx("p",{children:"info@yourrestaurant.com"})]})]}),g.jsx("div",{className:"footer-bottom",children:g.jsxs("p",{children:["© 2025 DIGITAL STORE. Plantilla creada por ",g.jsx("a",{href:"https://jmcdev.site",target:"_blank",rel:"noopener noreferrer",children:"JMCDEV"}),"."]})})]})});function U6(i=[],e,n=!0,a=null){const[o,u]=z.useState({}),[d,h]=z.useState(!1),[y,p]=z.useState(null),[b,S]=z.useState(!1),[x,D]=z.useState(null),B=z.useRef(new Map);return z.useEffect(()=>{if(!n||!e||!i.length||!a){B.current.forEach(U=>U()),B.current.clear(),S(!1);return}return h(!0),p(null),(async()=>{try{console.log("📦 Setting up real-time stock listeners for products:",i),B.current.forEach(U=>U()),B.current.clear();for(const U of i){const{id:F,categoryId:Y}=U;if(!F||!Y){console.warn("⚠️ Product missing ID or categoryId:",U);continue}const ne=gn(a,"businesses",e,"menu",Y,"items",F),re=V2(ne,P=>{if(P.exists()){const H=P.data();console.log(`📦 Stock update for ${F}:`,{stock:H.stock,isAvailable:H.isAvailable,trackStock:H.trackStock}),u(N=>({...N,[F]:{id:F,categoryId:Y,stock:H.stock||0,isAvailable:H.isAvailable!==!1,trackStock:H.trackStock||!1,name:H.name,price:H.price,lastUpdated:new Date}})),D(new Date)}else u(H=>{const N={...H};return delete N[F],N})},P=>{console.error(`❌ Stock listener error for product ${F}:`,P),p(P.message)});B.current.set(F,re)}S(!0),h(!1)}catch(U){console.error("❌ Error setting up stock listeners:",U),p(U.message),h(!1),S(!1)}})(),()=>{console.log("🧹 Cleaning up stock listeners"),B.current.forEach(U=>U()),B.current.clear(),S(!1)}},[i.map(V=>`${V.id}-${V.categoryId}`).join(","),e,n,a]),{stockData:o,loading:d,error:y,isRealTimeActive:b,lastUpdated:x,getProductStock:V=>{var U;return((U=o[V])==null?void 0:U.stock)||0},isProductAvailable:V=>{var U;return((U=o[V])==null?void 0:U.isAvailable)!==!1},isStockTracked:V=>{var U;return((U=o[V])==null?void 0:U.trackStock)||!1},getStockStatus:V=>{const U=o[V];return U?U.trackStock?U.isAvailable?U.stock<=0?"out-of-stock":U.stock<=5?"low-stock":"in-stock":"unavailable":"not-tracked":"unknown"}}}const B6=({item:i,onAddToCart:e,showImage:n=!0,showPrice:a=!0,showDescription:o=!0,terminology:u={},businessId:d=null,categoryId:h=null,enableRealTimeStock:y=!1,db:p=null})=>{const b=z.useRef(null),S=$l(),x=ne=>{ne.target.closest(".product-card-footer button")||S(`/producto/${i.id}`)},D=i.imageUrl||i.image;i.stock;const B=i.isAvailable!==!1,V=()=>i.isHidden||i.isAvailable===!1?!1:i.trackStock?i.stock>0:!0,U=()=>i.isHidden||!V()?"product-card-button disabled":i.trackStock&&i.stock<=(i.minStock||5)?"product-card-button warning":"product-card-button",F=()=>i.isHidden||i.isAvailable===!1?"No disponible":i.trackStock&&i.stock<=0?"Sin stock":i.trackStock&&i.stock<=5?`Agregar (quedan ${i.stock})`:u.addToCart||"Agregar al Carrito",Y=()=>i.trackStock?i.stock<=0||i.isAvailable===!1?g.jsx("span",{className:"stock-badge out-of-stock",children:"Sin Stock"}):i.stock<=5?g.jsx("span",{className:"stock-badge low-stock",children:"Poco Stock"}):g.jsx("span",{className:"stock-badge in-stock",children:"En Stock"}):B&&!i.isHidden?g.jsx("span",{className:"stock-badge available",children:"En Stock"}):null;return g.jsxs("div",{ref:b,className:`product-card ${i.isHidden?"hidden":""}`,onClick:x,style:{cursor:"pointer"},children:[n&&g.jsxs("div",{className:"product-card-image",children:[D?g.jsx("img",{src:D,alt:i.name}):g.jsx("div",{className:"product-card-placeholder",children:g.jsx(Sf,{})}),Y()]}),g.jsxs("div",{className:"product-card-content",children:[g.jsxs("div",{className:"product-card-header",children:[g.jsx("h3",{className:"product-card-title",children:i.name}),a&&g.jsxs("span",{className:"product-card-price",children:["$",i.price]})]}),o&&i.description&&g.jsx("p",{className:"product-card-description",children:i.description}),g.jsx("div",{className:"product-card-footer",children:e&&g.jsx("button",{className:U(),onClick:()=>!i.isHidden&&V()&&e(i),disabled:i.isHidden||!V(),children:F()})})]})]})};function H6({menu:i,onAddToCart:e,loading:n,error:a,showImages:o=!0,showPrices:u=!0,showDescription:d=!0,terminology:h={},businessId:y=null,enableRealTimeStock:p=!1,db:b=null}){return n?g.jsxs("div",{className:"menu-loading",children:["🍽️ Cargando ",h.menuName||"menú"," delicioso..."]}):a?g.jsxs("div",{className:"menu-error",children:["❌ Error: ",a]}):!i||i.length===0?g.jsxs("div",{className:"menu-empty",children:["📋 No hay ",h.items||"platos"," disponibles"]}):g.jsx("div",{className:"menu-display",children:i.map(S=>g.jsxs("div",{className:"menu-category",id:`category-${S.id}`,children:[g.jsx("h2",{className:"category-title",children:S.name}),S.description&&g.jsx("p",{className:"category-description",children:S.description}),g.jsx("div",{className:"menu-items",children:S.items.map(x=>g.jsx(q6,{item:x,onAddToCart:e,showImage:o,showPrice:u,showDescription:d,terminology:h,businessId:y,categoryId:S.id,enableRealTimeStock:p,db:b},x.id))})]},S.id))})}function q6({item:i,onAddToCart:e,showImage:n=!0,showPrice:a=!0,showDescription:o=!0,terminology:u={},businessId:d=null,categoryId:h=null,enableRealTimeStock:y=!1,db:p=null}){const b=y&&d&&h&&i.trackStock&&p,S=b?[{id:i.id,categoryId:h}]:[],{getProductStock:x,isProductAvailable:D}=U6(S,d,b,p),B={...i,stock:b?x(i.id):i.stock||0,isAvailable:b?D(i.id):i.isAvailable!==!1};return g.jsx(B6,{item:B,onAddToCart:e,showImage:n,showPrice:a,showDescription:o,terminology:u,businessId:d,categoryId:h,enableRealTimeStock:y,db:p})}class F6{constructor(){this.instances=new Map}getInstance(e,n){const a=`${n}-${e.projectId}`;if(this.instances.has(a))console.log("♻️ Reusing existing MenuSDK instance for:",n);else{console.log("🏗️ Creating new MenuSDK instance for:",n);const o=Np(e,n);this.instances.set(a,o)}return this.instances.get(a)}clearInstance(e,n){const a=`${n}-${e.projectId}`;this.instances.has(a)&&(console.log("🗑️ Clearing MenuSDK instance for:",n),this.instances.delete(a))}clearAll(){console.log("🧹 Clearing all MenuSDK instances"),this.instances.clear()}}const G6=new F6;var Hh={},qh={},Sl={},Fh={},d_;function Q6(){return d_||(d_=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};i.default=e}(Fh)),Fh}var Gh,h_;function $6(){if(h_)return Gh;h_=1;var i="Expected a function",e=NaN,n="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt,y=typeof Ac=="object"&&Ac&&Ac.Object===Object&&Ac,p=typeof self=="object"&&self&&self.Object===Object&&self,b=y||p||Function("return this")(),S=Object.prototype,x=S.toString,D=Math.max,B=Math.min,V=function(){return b.Date.now()};function U(P,H,N){var O,R,E,M,L,C,Z=0,me=!1,Q=!1,w=!0;if(typeof P!="function")throw new TypeError(i);H=re(H)||0,F(N)&&(me=!!N.leading,Q="maxWait"in N,E=Q?D(re(N.maxWait)||0,H):E,w="trailing"in N?!!N.trailing:w);function ge(ye){var Se=O,Oe=R;return O=R=void 0,Z=ye,M=P.apply(Oe,Se),M}function G(ye){return Z=ye,L=setTimeout($,H),me?ge(ye):M}function _(ye){var Se=ye-C,Oe=ye-Z,Pe=H-Se;return Q?B(Pe,E-Oe):Pe}function j(ye){var Se=ye-C,Oe=ye-Z;return C===void 0||Se>=H||Se<0||Q&&Oe>=E}function $(){var ye=V();if(j(ye))return W(ye);L=setTimeout($,_(ye))}function W(ye){return L=void 0,w&&O?ge(ye):(O=R=void 0,M)}function ae(){L!==void 0&&clearTimeout(L),Z=0,O=C=R=L=void 0}function ce(){return L===void 0?M:W(V())}function le(){var ye=V(),Se=j(ye);if(O=arguments,R=this,C=ye,Se){if(L===void 0)return G(C);if(Q)return L=setTimeout($,H),ge(C)}return L===void 0&&(L=setTimeout($,H)),M}return le.cancel=ae,le.flush=ce,le}function F(P){var H=typeof P;return!!P&&(H=="object"||H=="function")}function Y(P){return!!P&&typeof P=="object"}function ne(P){return typeof P=="symbol"||Y(P)&&x.call(P)==n}function re(P){if(typeof P=="number")return P;if(ne(P))return e;if(F(P)){var H=typeof P.valueOf=="function"?P.valueOf():P;P=F(H)?H+"":H}if(typeof P!="string")return P===0?P:+P;P=P.replace(a,"");var N=u.test(P);return N||d.test(P)?h(P.slice(2),N?2:8):o.test(P)?e:+P}return Gh=U,Gh}var Qh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var m_;function wf(){return m_||(m_=1,function(i){(function(){var e={}.hasOwnProperty;function n(){for(var u="",d=0;d<arguments.length;d++){var h=arguments[d];h&&(u=o(u,a(h)))}return u}function a(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var d="";for(var h in u)e.call(u,h)&&u[h]&&(d=o(d,h));return d}function o(u,d){return d?u?u+" "+d:u+d:u}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(Qh)),Qh.exports}var _e={},$h={},p_;function cb(){return p_||(p_=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n(Or());function n(o){return o&&o.__esModule?o:{default:o}}var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(u){return e.default.createElement("ul",{style:{display:"block"}},u)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(u){return e.default.createElement("button",null,u+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};i.default=a}($h)),$h}var g_;function nu(){if(g_)return _e;g_=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.checkSpecKeys=_e.checkNavigable=_e.changeSlide=_e.canUseDOM=_e.canGoNext=void 0,_e.clamp=p,_e.extractObject=void 0,_e.filterSettings=ge,_e.validSettings=_e.swipeStart=_e.swipeMove=_e.swipeEnd=_e.slidesOnRight=_e.slidesOnLeft=_e.slideHandler=_e.siblingDirection=_e.safePreventDefault=_e.lazyStartIndex=_e.lazySlidesOnRight=_e.lazySlidesOnLeft=_e.lazyEndIndex=_e.keyHandler=_e.initializedState=_e.getWidth=_e.getTrackLeft=_e.getTrackCSS=_e.getTrackAnimateCSS=_e.getTotalSlides=_e.getSwipeDirection=_e.getSlideCount=_e.getRequiredLazySlides=_e.getPreClones=_e.getPostClones=_e.getOnDemandLazySlides=_e.getNavigableIndexes=_e.getHeight=void 0;var i=n(Or()),e=n(cb());function n(G){return G&&G.__esModule?G:{default:G}}function a(G){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},a(G)}function o(G,_){var j=Object.keys(G);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(G);_&&($=$.filter(function(W){return Object.getOwnPropertyDescriptor(G,W).enumerable})),j.push.apply(j,$)}return j}function u(G){for(var _=1;_<arguments.length;_++){var j=arguments[_]!=null?arguments[_]:{};_%2?o(Object(j),!0).forEach(function($){d(G,$,j[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(j)):o(Object(j)).forEach(function($){Object.defineProperty(G,$,Object.getOwnPropertyDescriptor(j,$))})}return G}function d(G,_,j){return _=h(_),_ in G?Object.defineProperty(G,_,{value:j,enumerable:!0,configurable:!0,writable:!0}):G[_]=j,G}function h(G){var _=y(G,"string");return a(_)=="symbol"?_:String(_)}function y(G,_){if(a(G)!="object"||!G)return G;var j=G[Symbol.toPrimitive];if(j!==void 0){var $=j.call(G,_);if(a($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(G)}function p(G,_,j){return Math.max(_,Math.min(G,j))}var b=_e.safePreventDefault=function(_){var j=["onTouchStart","onTouchMove","onWheel"];j.includes(_._reactName)||_.preventDefault()},S=_e.getOnDemandLazySlides=function(_){for(var j=[],$=x(_),W=D(_),ae=$;ae<W;ae++)_.lazyLoadedList.indexOf(ae)<0&&j.push(ae);return j};_e.getRequiredLazySlides=function(_){for(var j=[],$=x(_),W=D(_),ae=$;ae<W;ae++)j.push(ae);return j};var x=_e.lazyStartIndex=function(_){return _.currentSlide-B(_)},D=_e.lazyEndIndex=function(_){return _.currentSlide+V(_)},B=_e.lazySlidesOnLeft=function(_){return _.centerMode?Math.floor(_.slidesToShow/2)+(parseInt(_.centerPadding)>0?1:0):0},V=_e.lazySlidesOnRight=function(_){return _.centerMode?Math.floor((_.slidesToShow-1)/2)+1+(parseInt(_.centerPadding)>0?1:0):_.slidesToShow},U=_e.getWidth=function(_){return _&&_.offsetWidth||0},F=_e.getHeight=function(_){return _&&_.offsetHeight||0},Y=_e.getSwipeDirection=function(_){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$,W,ae,ce;return $=_.startX-_.curX,W=_.startY-_.curY,ae=Math.atan2(W,$),ce=Math.round(ae*180/Math.PI),ce<0&&(ce=360-Math.abs(ce)),ce<=45&&ce>=0||ce<=360&&ce>=315?"left":ce>=135&&ce<=225?"right":j===!0?ce>=35&&ce<=135?"up":"down":"vertical"},ne=_e.canGoNext=function(_){var j=!0;return _.infinite||(_.centerMode&&_.currentSlide>=_.slideCount-1||_.slideCount<=_.slidesToShow||_.currentSlide>=_.slideCount-_.slidesToShow)&&(j=!1),j};_e.extractObject=function(_,j){var $={};return j.forEach(function(W){return $[W]=_[W]}),$},_e.initializedState=function(_){var j=i.default.Children.count(_.children),$=_.listRef,W=Math.ceil(U($)),ae=_.trackRef&&_.trackRef.node,ce=Math.ceil(U(ae)),le;if(_.vertical)le=W;else{var ye=_.centerMode&&parseInt(_.centerPadding)*2;typeof _.centerPadding=="string"&&_.centerPadding.slice(-1)==="%"&&(ye*=W/100),le=Math.ceil((W-ye)/_.slidesToShow)}var Se=$&&F($.querySelector('[data-index="0"]')),Oe=Se*_.slidesToShow,Pe=_.currentSlide===void 0?_.initialSlide:_.currentSlide;_.rtl&&_.currentSlide===void 0&&(Pe=j-1-_.initialSlide);var ze=_.lazyLoadedList||[],He=S(u(u({},_),{},{currentSlide:Pe,lazyLoadedList:ze}));ze=ze.concat(He);var Ve={slideCount:j,slideWidth:le,listWidth:W,trackWidth:ce,currentSlide:Pe,slideHeight:Se,listHeight:Oe,lazyLoadedList:ze};return _.autoplaying===null&&_.autoplay&&(Ve.autoplaying="playing"),Ve},_e.slideHandler=function(_){var j=_.waitForAnimate,$=_.animating,W=_.fade,ae=_.infinite,ce=_.index,le=_.slideCount,ye=_.lazyLoad,Se=_.currentSlide,Oe=_.centerMode,Pe=_.slidesToScroll,ze=_.slidesToShow,He=_.useCSS,Ve=_.lazyLoadedList;if(j&&$)return{};var je=ce,Ge,ht,xe,mt={},pt={},gt=ae?ce:p(ce,0,le-1);if(W){if(!ae&&(ce<0||ce>=le))return{};ce<0?je=ce+le:ce>=le&&(je=ce-le),ye&&Ve.indexOf(je)<0&&(Ve=Ve.concat(je)),mt={animating:!0,currentSlide:je,lazyLoadedList:Ve,targetSlide:je},pt={animating:!1,targetSlide:je}}else Ge=je,je<0?(Ge=je+le,ae?le%Pe!==0&&(Ge=le-le%Pe):Ge=0):!ne(_)&&je>Se?je=Ge=Se:Oe&&je>=le?(je=ae?le:le-1,Ge=ae?0:le-1):je>=le&&(Ge=je-le,ae?le%Pe!==0&&(Ge=0):Ge=le-ze),!ae&&je+ze>=le&&(Ge=le-ze),ht=E(u(u({},_),{},{slideIndex:je})),xe=E(u(u({},_),{},{slideIndex:Ge})),ae||(ht===xe&&(je=Ge),ht=xe),ye&&(Ve=Ve.concat(S(u(u({},_),{},{currentSlide:je})))),He?(mt={animating:!0,currentSlide:Ge,trackStyle:R(u(u({},_),{},{left:ht})),lazyLoadedList:Ve,targetSlide:gt},pt={animating:!1,currentSlide:Ge,trackStyle:O(u(u({},_),{},{left:xe})),swipeLeft:null,targetSlide:gt}):mt={currentSlide:Ge,trackStyle:O(u(u({},_),{},{left:xe})),lazyLoadedList:Ve,targetSlide:gt};return{state:mt,nextState:pt}},_e.changeSlide=function(_,j){var $,W,ae,ce,le,ye=_.slidesToScroll,Se=_.slidesToShow,Oe=_.slideCount,Pe=_.currentSlide,ze=_.targetSlide,He=_.lazyLoad,Ve=_.infinite;if(ce=Oe%ye!==0,$=ce?0:(Oe-Pe)%ye,j.message==="previous")ae=$===0?ye:Se-$,le=Pe-ae,He&&!Ve&&(W=Pe-ae,le=W===-1?Oe-1:W),Ve||(le=ze-ye);else if(j.message==="next")ae=$===0?ye:$,le=Pe+ae,He&&!Ve&&(le=(Pe+ye)%Oe+$),Ve||(le=ze+ye);else if(j.message==="dots")le=j.index*j.slidesToScroll;else if(j.message==="children"){if(le=j.index,Ve){var je=Z(u(u({},_),{},{targetSlide:le}));le>j.currentSlide&&je==="left"?le=le-Oe:le<j.currentSlide&&je==="right"&&(le=le+Oe)}}else j.message==="index"&&(le=Number(j.index));return le},_e.keyHandler=function(_,j,$){return _.target.tagName.match("TEXTAREA|INPUT|SELECT")||!j?"":_.keyCode===37?$?"next":"previous":_.keyCode===39?$?"previous":"next":""},_e.swipeStart=function(_,j,$){return _.target.tagName==="IMG"&&b(_),!j||!$&&_.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:_.touches?_.touches[0].pageX:_.clientX,startY:_.touches?_.touches[0].pageY:_.clientY,curX:_.touches?_.touches[0].pageX:_.clientX,curY:_.touches?_.touches[0].pageY:_.clientY}}},_e.swipeMove=function(_,j){var $=j.scrolling,W=j.animating,ae=j.vertical,ce=j.swipeToSlide,le=j.verticalSwiping,ye=j.rtl,Se=j.currentSlide,Oe=j.edgeFriction,Pe=j.edgeDragged,ze=j.onEdge,He=j.swiped,Ve=j.swiping,je=j.slideCount,Ge=j.slidesToScroll,ht=j.infinite,xe=j.touchObject,mt=j.swipeEvent,pt=j.listHeight,gt=j.listWidth;if(!$){if(W)return b(_);ae&&ce&&le&&b(_);var Rt,Wn={},Zn=E(j);xe.curX=_.touches?_.touches[0].pageX:_.clientX,xe.curY=_.touches?_.touches[0].pageY:_.clientY,xe.swipeLength=Math.round(Math.sqrt(Math.pow(xe.curX-xe.startX,2)));var di=Math.round(Math.sqrt(Math.pow(xe.curY-xe.startY,2)));if(!le&&!Ve&&di>10)return{scrolling:!0};le&&(xe.swipeLength=di);var or=(ye?-1:1)*(xe.curX>xe.startX?1:-1);le&&(or=xe.curY>xe.startY?1:-1);var yt=Math.ceil(je/Ge),Ue=Y(j.touchObject,le),Lt=xe.swipeLength;return ht||(Se===0&&(Ue==="right"||Ue==="down")||Se+1>=yt&&(Ue==="left"||Ue==="up")||!ne(j)&&(Ue==="left"||Ue==="up"))&&(Lt=xe.swipeLength*Oe,Pe===!1&&ze&&(ze(Ue),Wn.edgeDragged=!0)),!He&&mt&&(mt(Ue),Wn.swiped=!0),ae?Rt=Zn+Lt*(pt/gt)*or:ye?Rt=Zn-Lt*or:Rt=Zn+Lt*or,le&&(Rt=Zn+Lt*or),Wn=u(u({},Wn),{},{touchObject:xe,swipeLeft:Rt,trackStyle:O(u(u({},j),{},{left:Rt}))}),Math.abs(xe.curX-xe.startX)<Math.abs(xe.curY-xe.startY)*.8||xe.swipeLength>10&&(Wn.swiping=!0,b(_)),Wn}},_e.swipeEnd=function(_,j){var $=j.dragging,W=j.swipe,ae=j.touchObject,ce=j.listWidth,le=j.touchThreshold,ye=j.verticalSwiping,Se=j.listHeight,Oe=j.swipeToSlide,Pe=j.scrolling,ze=j.onSwipe,He=j.targetSlide,Ve=j.currentSlide,je=j.infinite;if(!$)return W&&b(_),{};var Ge=ye?Se/le:ce/le,ht=Y(ae,ye),xe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Pe||!ae.swipeLength)return xe;if(ae.swipeLength>Ge){b(_),ze&&ze(ht);var mt,pt,gt=je?Ve:He;switch(ht){case"left":case"up":pt=gt+H(j),mt=Oe?P(j,pt):pt,xe.currentDirection=0;break;case"right":case"down":pt=gt-H(j),mt=Oe?P(j,pt):pt,xe.currentDirection=1;break;default:mt=gt}xe.triggerSlideHandler=mt}else{var Rt=E(j);xe.trackStyle=R(u(u({},j),{},{left:Rt}))}return xe};var re=_e.getNavigableIndexes=function(_){for(var j=_.infinite?_.slideCount*2:_.slideCount,$=_.infinite?_.slidesToShow*-1:0,W=_.infinite?_.slidesToShow*-1:0,ae=[];$<j;)ae.push($),$=W+_.slidesToScroll,W+=Math.min(_.slidesToScroll,_.slidesToShow);return ae},P=_e.checkNavigable=function(_,j){var $=re(_),W=0;if(j>$[$.length-1])j=$[$.length-1];else for(var ae in $){if(j<$[ae]){j=W;break}W=$[ae]}return j},H=_e.getSlideCount=function(_){var j=_.centerMode?_.slideWidth*Math.floor(_.slidesToShow/2):0;if(_.swipeToSlide){var $,W=_.listRef,ae=W.querySelectorAll&&W.querySelectorAll(".slick-slide")||[];if(Array.from(ae).every(function(ye){if(_.vertical){if(ye.offsetTop+F(ye)/2>_.swipeLeft*-1)return $=ye,!1}else if(ye.offsetLeft-j+U(ye)/2>_.swipeLeft*-1)return $=ye,!1;return!0}),!$)return 0;var ce=_.rtl===!0?_.slideCount-_.currentSlide:_.currentSlide,le=Math.abs($.dataset.index-ce)||1;return le}else return _.slidesToScroll},N=_e.checkSpecKeys=function(_,j){return j.reduce(function($,W){return $&&_.hasOwnProperty(W)},!0)?null:console.error("Keys Missing:",_)},O=_e.getTrackCSS=function(_){N(_,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var j,$,W=_.slideCount+2*_.slidesToShow;_.vertical?$=W*_.slideHeight:j=C(_)*_.slideWidth;var ae={opacity:1,transition:"",WebkitTransition:""};if(_.useTransform){var ce=_.vertical?"translate3d(0px, "+_.left+"px, 0px)":"translate3d("+_.left+"px, 0px, 0px)",le=_.vertical?"translate3d(0px, "+_.left+"px, 0px)":"translate3d("+_.left+"px, 0px, 0px)",ye=_.vertical?"translateY("+_.left+"px)":"translateX("+_.left+"px)";ae=u(u({},ae),{},{WebkitTransform:ce,transform:le,msTransform:ye})}else _.vertical?ae.top=_.left:ae.left=_.left;return _.fade&&(ae={opacity:1}),j&&(ae.width=j),$&&(ae.height=$),window&&!window.addEventListener&&window.attachEvent&&(_.vertical?ae.marginTop=_.left+"px":ae.marginLeft=_.left+"px"),ae},R=_e.getTrackAnimateCSS=function(_){N(_,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var j=O(_);return _.useTransform?(j.WebkitTransition="-webkit-transform "+_.speed+"ms "+_.cssEase,j.transition="transform "+_.speed+"ms "+_.cssEase):_.vertical?j.transition="top "+_.speed+"ms "+_.cssEase:j.transition="left "+_.speed+"ms "+_.cssEase,j},E=_e.getTrackLeft=function(_){if(_.unslick)return 0;N(_,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var j=_.slideIndex,$=_.trackRef,W=_.infinite,ae=_.centerMode,ce=_.slideCount,le=_.slidesToShow,ye=_.slidesToScroll,Se=_.slideWidth,Oe=_.listWidth,Pe=_.variableWidth,ze=_.slideHeight,He=_.fade,Ve=_.vertical,je=0,Ge,ht,xe=0;if(He||_.slideCount===1)return 0;var mt=0;if(W?(mt=-M(_),ce%ye!==0&&j+ye>ce&&(mt=-(j>ce?le-(j-ce):ce%ye)),ae&&(mt+=parseInt(le/2))):(ce%ye!==0&&j+ye>ce&&(mt=le-ce%ye),ae&&(mt=parseInt(le/2))),je=mt*Se,xe=mt*ze,Ve?Ge=j*ze*-1+xe:Ge=j*Se*-1+je,Pe===!0){var pt,gt=$&&$.node;if(pt=j+M(_),ht=gt&&gt.childNodes[pt],Ge=ht?ht.offsetLeft*-1:0,ae===!0){pt=W?j+M(_):j,ht=gt&&gt.children[pt],Ge=0;for(var Rt=0;Rt<pt;Rt++)Ge-=gt&&gt.children[Rt]&&gt.children[Rt].offsetWidth;Ge-=parseInt(_.centerPadding),Ge+=ht&&(Oe-ht.offsetWidth)/2}}return Ge},M=_e.getPreClones=function(_){return _.unslick||!_.infinite?0:_.variableWidth?_.slideCount:_.slidesToShow+(_.centerMode?1:0)},L=_e.getPostClones=function(_){return _.unslick||!_.infinite?0:_.slideCount},C=_e.getTotalSlides=function(_){return _.slideCount===1?1:M(_)+_.slideCount+L(_)},Z=_e.siblingDirection=function(_){return _.targetSlide>_.currentSlide?_.targetSlide>_.currentSlide+me(_)?"left":"right":_.targetSlide<_.currentSlide-Q(_)?"right":"left"},me=_e.slidesOnRight=function(_){var j=_.slidesToShow,$=_.centerMode,W=_.rtl,ae=_.centerPadding;if($){var ce=(j-1)/2+1;return parseInt(ae)>0&&(ce+=1),W&&j%2===0&&(ce+=1),ce}return W?0:j-1},Q=_e.slidesOnLeft=function(_){var j=_.slidesToShow,$=_.centerMode,W=_.rtl,ae=_.centerPadding;if($){var ce=(j-1)/2+1;return parseInt(ae)>0&&(ce+=1),!W&&j%2===0&&(ce+=1),ce}return W?j-1:0};_e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var w=_e.validSettings=Object.keys(e.default);function ge(G){return w.reduce(function(_,j){return G.hasOwnProperty(j)&&(_[j]=G[j]),_},{})}return _e}var wl={},y_;function K6(){if(y_)return wl;y_=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.Track=void 0;var i=a(Or()),e=a(wf()),n=nu();function a(R){return R&&R.__esModule?R:{default:R}}function o(R){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},o(R)}function u(){return u=Object.assign?Object.assign.bind():function(R){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(R[L]=M[L])}return R},u.apply(this,arguments)}function d(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function h(R,E){for(var M=0;M<E.length;M++){var L=E[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,ne(L.key),L)}}function y(R,E,M){return E&&h(R.prototype,E),Object.defineProperty(R,"prototype",{writable:!1}),R}function p(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),E&&b(R,E)}function b(R,E){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,C){return L.__proto__=C,L},b(R,E)}function S(R){var E=B();return function(){var L=V(R),C;if(E){var Z=V(this).constructor;C=Reflect.construct(L,arguments,Z)}else C=L.apply(this,arguments);return x(this,C)}}function x(R,E){if(E&&(o(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(R)}function D(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function B(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!R})()}function V(R){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},V(R)}function U(R,E){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(R);E&&(L=L.filter(function(C){return Object.getOwnPropertyDescriptor(R,C).enumerable})),M.push.apply(M,L)}return M}function F(R){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?U(Object(M),!0).forEach(function(L){Y(R,L,M[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):U(Object(M)).forEach(function(L){Object.defineProperty(R,L,Object.getOwnPropertyDescriptor(M,L))})}return R}function Y(R,E,M){return E=ne(E),E in R?Object.defineProperty(R,E,{value:M,enumerable:!0,configurable:!0,writable:!0}):R[E]=M,R}function ne(R){var E=re(R,"string");return o(E)=="symbol"?E:String(E)}function re(R,E){if(o(R)!="object"||!R)return R;var M=R[Symbol.toPrimitive];if(M!==void 0){var L=M.call(R,E);if(o(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(R)}var P=function(E){var M,L,C,Z,me;E.rtl?me=E.slideCount-1-E.index:me=E.index,C=me<0||me>=E.slideCount,E.centerMode?(Z=Math.floor(E.slidesToShow/2),L=(me-E.currentSlide)%E.slideCount===0,me>E.currentSlide-Z-1&&me<=E.currentSlide+Z&&(M=!0)):M=E.currentSlide<=me&&me<E.currentSlide+E.slidesToShow;var Q;E.targetSlide<0?Q=E.targetSlide+E.slideCount:E.targetSlide>=E.slideCount?Q=E.targetSlide-E.slideCount:Q=E.targetSlide;var w=me===Q;return{"slick-slide":!0,"slick-active":M,"slick-center":L,"slick-cloned":C,"slick-current":w}},H=function(E){var M={};return(E.variableWidth===void 0||E.variableWidth===!1)&&(M.width=E.slideWidth),E.fade&&(M.position="relative",E.vertical?M.top=-E.index*parseInt(E.slideHeight):M.left=-E.index*parseInt(E.slideWidth),M.opacity=E.currentSlide===E.index?1:0,M.zIndex=E.currentSlide===E.index?999:998,E.useCSS&&(M.transition="opacity "+E.speed+"ms "+E.cssEase+", visibility "+E.speed+"ms "+E.cssEase)),M},N=function(E,M){return E.key||M},O=function(E){var M,L=[],C=[],Z=[],me=i.default.Children.count(E.children),Q=(0,n.lazyStartIndex)(E),w=(0,n.lazyEndIndex)(E);return i.default.Children.forEach(E.children,function(ge,G){var _,j={message:"children",index:G,slidesToScroll:E.slidesToScroll,currentSlide:E.currentSlide};!E.lazyLoad||E.lazyLoad&&E.lazyLoadedList.indexOf(G)>=0?_=ge:_=i.default.createElement("div",null);var $=H(F(F({},E),{},{index:G})),W=_.props.className||"",ae=P(F(F({},E),{},{index:G}));if(L.push(i.default.cloneElement(_,{key:"original"+N(_,G),"data-index":G,className:(0,e.default)(ae,W),tabIndex:"-1","aria-hidden":!ae["slick-active"],style:F(F({outline:"none"},_.props.style||{}),$),onClick:function(ye){_.props&&_.props.onClick&&_.props.onClick(ye),E.focusOnSelect&&E.focusOnSelect(j)}})),E.infinite&&E.fade===!1){var ce=me-G;ce<=(0,n.getPreClones)(E)&&(M=-ce,M>=Q&&(_=ge),ae=P(F(F({},E),{},{index:M})),C.push(i.default.cloneElement(_,{key:"precloned"+N(_,M),"data-index":M,tabIndex:"-1",className:(0,e.default)(ae,W),"aria-hidden":!ae["slick-active"],style:F(F({},_.props.style||{}),$),onClick:function(ye){_.props&&_.props.onClick&&_.props.onClick(ye),E.focusOnSelect&&E.focusOnSelect(j)}}))),M=me+G,M<w&&(_=ge),ae=P(F(F({},E),{},{index:M})),Z.push(i.default.cloneElement(_,{key:"postcloned"+N(_,M),"data-index":M,tabIndex:"-1",className:(0,e.default)(ae,W),"aria-hidden":!ae["slick-active"],style:F(F({},_.props.style||{}),$),onClick:function(ye){_.props&&_.props.onClick&&_.props.onClick(ye),E.focusOnSelect&&E.focusOnSelect(j)}}))}}),E.rtl?C.concat(L,Z).reverse():C.concat(L,Z)};return wl.Track=function(R){p(M,R);var E=S(M);function M(){var L;d(this,M);for(var C=arguments.length,Z=new Array(C),me=0;me<C;me++)Z[me]=arguments[me];return L=E.call.apply(E,[this].concat(Z)),Y(D(L),"node",null),Y(D(L),"handleRef",function(Q){L.node=Q}),L}return y(M,[{key:"render",value:function(){var C=O(this.props),Z=this.props,me=Z.onMouseEnter,Q=Z.onMouseOver,w=Z.onMouseLeave,ge={onMouseEnter:me,onMouseOver:Q,onMouseLeave:w};return i.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},ge),C)}}]),M}(i.default.PureComponent),wl}var Tl={},v_;function Y6(){if(v_)return Tl;v_=1;function i(P){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},i(P)}Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.Dots=void 0;var e=o(Or()),n=o(wf()),a=nu();function o(P){return P&&P.__esModule?P:{default:P}}function u(P,H){var N=Object.keys(P);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(P);H&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(P,R).enumerable})),N.push.apply(N,O)}return N}function d(P){for(var H=1;H<arguments.length;H++){var N=arguments[H]!=null?arguments[H]:{};H%2?u(Object(N),!0).forEach(function(O){h(P,O,N[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(N)):u(Object(N)).forEach(function(O){Object.defineProperty(P,O,Object.getOwnPropertyDescriptor(N,O))})}return P}function h(P,H,N){return H=S(H),H in P?Object.defineProperty(P,H,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[H]=N,P}function y(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}function p(P,H){for(var N=0;N<H.length;N++){var O=H[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,S(O.key),O)}}function b(P,H,N){return H&&p(P.prototype,H),Object.defineProperty(P,"prototype",{writable:!1}),P}function S(P){var H=x(P,"string");return i(H)=="symbol"?H:String(H)}function x(P,H){if(i(P)!="object"||!P)return P;var N=P[Symbol.toPrimitive];if(N!==void 0){var O=N.call(P,H);if(i(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}function D(P,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),H&&B(P,H)}function B(P,H){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,R){return O.__proto__=R,O},B(P,H)}function V(P){var H=Y();return function(){var O=ne(P),R;if(H){var E=ne(this).constructor;R=Reflect.construct(O,arguments,E)}else R=O.apply(this,arguments);return U(this,R)}}function U(P,H){if(H&&(i(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(P)}function F(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function Y(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y=function(){return!!P})()}function ne(P){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},ne(P)}var re=function(H){var N;return H.infinite?N=Math.ceil(H.slideCount/H.slidesToScroll):N=Math.ceil((H.slideCount-H.slidesToShow)/H.slidesToScroll)+1,N};return Tl.Dots=function(P){D(N,P);var H=V(N);function N(){return y(this,N),H.apply(this,arguments)}return b(N,[{key:"clickHandler",value:function(R,E){E.preventDefault(),this.props.clickHandler(R)}},{key:"render",value:function(){for(var R=this.props,E=R.onMouseEnter,M=R.onMouseOver,L=R.onMouseLeave,C=R.infinite,Z=R.slidesToScroll,me=R.slidesToShow,Q=R.slideCount,w=R.currentSlide,ge=re({slideCount:Q,slidesToScroll:Z,slidesToShow:me,infinite:C}),G={onMouseEnter:E,onMouseOver:M,onMouseLeave:L},_=[],j=0;j<ge;j++){var $=(j+1)*Z-1,W=C?$:(0,a.clamp)($,0,Q-1),ae=W-(Z-1),ce=C?ae:(0,a.clamp)(ae,0,Q-1),le=(0,n.default)({"slick-active":C?w>=ce&&w<=W:w===ce}),ye={message:"dots",index:j,slidesToScroll:Z,currentSlide:w},Se=this.clickHandler.bind(this,ye);_=_.concat(e.default.createElement("li",{key:j,className:le},e.default.cloneElement(this.props.customPaging(j),{onClick:Se})))}return e.default.cloneElement(this.props.appendDots(_),d({className:this.props.dotsClass},G))}}]),N}(e.default.PureComponent),Tl}var ka={},__;function X6(){if(__)return ka;__=1;function i(P){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},i(P)}Object.defineProperty(ka,"__esModule",{value:!0}),ka.PrevArrow=ka.NextArrow=void 0;var e=o(Or()),n=o(wf()),a=nu();function o(P){return P&&P.__esModule?P:{default:P}}function u(){return u=Object.assign?Object.assign.bind():function(P){for(var H=1;H<arguments.length;H++){var N=arguments[H];for(var O in N)Object.prototype.hasOwnProperty.call(N,O)&&(P[O]=N[O])}return P},u.apply(this,arguments)}function d(P,H){var N=Object.keys(P);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(P);H&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(P,R).enumerable})),N.push.apply(N,O)}return N}function h(P){for(var H=1;H<arguments.length;H++){var N=arguments[H]!=null?arguments[H]:{};H%2?d(Object(N),!0).forEach(function(O){y(P,O,N[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(N)):d(Object(N)).forEach(function(O){Object.defineProperty(P,O,Object.getOwnPropertyDescriptor(N,O))})}return P}function y(P,H,N){return H=x(H),H in P?Object.defineProperty(P,H,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[H]=N,P}function p(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}function b(P,H){for(var N=0;N<H.length;N++){var O=H[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,x(O.key),O)}}function S(P,H,N){return H&&b(P.prototype,H),Object.defineProperty(P,"prototype",{writable:!1}),P}function x(P){var H=D(P,"string");return i(H)=="symbol"?H:String(H)}function D(P,H){if(i(P)!="object"||!P)return P;var N=P[Symbol.toPrimitive];if(N!==void 0){var O=N.call(P,H);if(i(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}function B(P,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),H&&V(P,H)}function V(P,H){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,R){return O.__proto__=R,O},V(P,H)}function U(P){var H=ne();return function(){var O=re(P),R;if(H){var E=re(this).constructor;R=Reflect.construct(O,arguments,E)}else R=O.apply(this,arguments);return F(this,R)}}function F(P,H){if(H&&(i(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(P)}function Y(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function ne(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ne=function(){return!!P})()}function re(P){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},re(P)}return ka.PrevArrow=function(P){B(N,P);var H=U(N);function N(){return p(this,N),H.apply(this,arguments)}return S(N,[{key:"clickHandler",value:function(R,E){E&&E.preventDefault(),this.props.clickHandler(R,E)}},{key:"render",value:function(){var R={"slick-arrow":!0,"slick-prev":!0},E=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(R["slick-disabled"]=!0,E=null);var M={key:"0","data-role":"none",className:(0,n.default)(R),style:{display:"block"},onClick:E},L={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.prevArrow?C=e.default.cloneElement(this.props.prevArrow,h(h({},M),L)):C=e.default.createElement("button",u({key:"0",type:"button"},M)," ","Previous"),C}}]),N}(e.default.PureComponent),ka.NextArrow=function(P){B(N,P);var H=U(N);function N(){return p(this,N),H.apply(this,arguments)}return S(N,[{key:"clickHandler",value:function(R,E){E&&E.preventDefault(),this.props.clickHandler(R,E)}},{key:"render",value:function(){var R={"slick-arrow":!0,"slick-next":!0},E=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(R["slick-disabled"]=!0,E=null);var M={key:"1","data-role":"none",className:(0,n.default)(R),style:{display:"block"},onClick:E},L={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.nextArrow?C=e.default.cloneElement(this.props.nextArrow,h(h({},M),L)):C=e.default.createElement("button",u({key:"1",type:"button"},M)," ","Next"),C}}]),N}(e.default.PureComponent),ka}var fb=function(){if(typeof Map<"u")return Map;function i(e,n){var a=-1;return e.some(function(o,u){return o[0]===n?(a=u,!0):!1}),a}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var a=i(this.__entries__,n),o=this.__entries__[a];return o&&o[1]},e.prototype.set=function(n,a){var o=i(this.__entries__,n);~o?this.__entries__[o][1]=a:this.__entries__.push([n,a])},e.prototype.delete=function(n){var a=this.__entries__,o=i(a,n);~o&&a.splice(o,1)},e.prototype.has=function(n){return!!~i(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var o=0,u=this.__entries__;o<u.length;o++){var d=u[o];n.call(a,d[1],d[0])}},e}()}(),Cm=typeof window<"u"&&typeof document<"u"&&window.document===document,ef=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),W6=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ef):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}}(),Z6=2;function J6(i,e){var n=!1,a=!1,o=0;function u(){n&&(n=!1,i()),a&&h()}function d(){W6(u)}function h(){var y=Date.now();if(n){if(y-o<Z6)return;a=!0}else n=!0,a=!1,setTimeout(d,e);o=y}return h}var eC=20,tC=["top","right","bottom","left","width","height","size","weight"],nC=typeof MutationObserver<"u",rC=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=J6(this.refresh.bind(this),eC)}return i.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},i.prototype.removeObserver=function(e){var n=this.observers_,a=n.indexOf(e);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},i.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},i.prototype.connect_=function(){!Cm||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),nC?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!Cm||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(e){var n=e.propertyName,a=n===void 0?"":n,o=tC.some(function(u){return!!~a.indexOf(u)});o&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),db=function(i,e){for(var n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];Object.defineProperty(i,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return i},eo=function(i){var e=i&&i.ownerDocument&&i.ownerDocument.defaultView;return e||ef},hb=Tf(0,0,0,0);function tf(i){return parseFloat(i)||0}function b_(i){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(a,o){var u=i["border-"+o+"-width"];return a+tf(u)},0)}function iC(i){for(var e=["top","right","bottom","left"],n={},a=0,o=e;a<o.length;a++){var u=o[a],d=i["padding-"+u];n[u]=tf(d)}return n}function aC(i){var e=i.getBBox();return Tf(0,0,e.width,e.height)}function sC(i){var e=i.clientWidth,n=i.clientHeight;if(!e&&!n)return hb;var a=eo(i).getComputedStyle(i),o=iC(a),u=o.left+o.right,d=o.top+o.bottom,h=tf(a.width),y=tf(a.height);if(a.boxSizing==="border-box"&&(Math.round(h+u)!==e&&(h-=b_(a,"left","right")+u),Math.round(y+d)!==n&&(y-=b_(a,"top","bottom")+d)),!lC(i)){var p=Math.round(h+u)-e,b=Math.round(y+d)-n;Math.abs(p)!==1&&(h-=p),Math.abs(b)!==1&&(y-=b)}return Tf(o.left,o.top,h,y)}var oC=function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof eo(i).SVGGraphicsElement}:function(i){return i instanceof eo(i).SVGElement&&typeof i.getBBox=="function"}}();function lC(i){return i===eo(i).document.documentElement}function uC(i){return Cm?oC(i)?aC(i):sC(i):hb}function cC(i){var e=i.x,n=i.y,a=i.width,o=i.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,d=Object.create(u.prototype);return db(d,{x:e,y:n,width:a,height:o,top:n,right:e+a,bottom:o+n,left:e}),d}function Tf(i,e,n,a){return{x:i,y:e,width:n,height:a}}var fC=function(){function i(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Tf(0,0,0,0),this.target=e}return i.prototype.isActive=function(){var e=uC(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},i}(),dC=function(){function i(e,n){var a=cC(n);db(this,{target:e,contentRect:a})}return i}(),hC=function(){function i(e,n,a){if(this.activeObservations_=[],this.observations_=new fb,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=a}return i.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof eo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new fC(e)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof eo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new dC(a.target,a.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),mb=typeof WeakMap<"u"?new WeakMap:new fb,pb=function(){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=rC.getInstance(),a=new hC(e,n,this);mb.set(this,a)}return i}();["observe","unobserve","disconnect"].forEach(function(i){pb.prototype[i]=function(){var e;return(e=mb.get(this))[i].apply(e,arguments)}});var mC=function(){return typeof ef.ResizeObserver<"u"?ef.ResizeObserver:pb}();const pC=Object.freeze(Object.defineProperty({__proto__:null,default:mC},Symbol.toStringTag,{value:"Module"})),gC=FE(pC);var E_;function yC(){if(E_)return Sl;E_=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.InnerSlider=void 0;var i=p(Or()),e=p(Q6()),n=p($6()),a=p(wf()),o=nu(),u=K6(),d=Y6(),h=X6(),y=p(gC);function p(C){return C&&C.__esModule?C:{default:C}}function b(C){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},b(C)}function S(){return S=Object.assign?Object.assign.bind():function(C){for(var Z=1;Z<arguments.length;Z++){var me=arguments[Z];for(var Q in me)Object.prototype.hasOwnProperty.call(me,Q)&&(C[Q]=me[Q])}return C},S.apply(this,arguments)}function x(C,Z){if(C==null)return{};var me=D(C,Z),Q,w;if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(C);for(w=0;w<ge.length;w++)Q=ge[w],!(Z.indexOf(Q)>=0)&&Object.prototype.propertyIsEnumerable.call(C,Q)&&(me[Q]=C[Q])}return me}function D(C,Z){if(C==null)return{};var me={},Q=Object.keys(C),w,ge;for(ge=0;ge<Q.length;ge++)w=Q[ge],!(Z.indexOf(w)>=0)&&(me[w]=C[w]);return me}function B(C,Z){var me=Object.keys(C);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(C);Z&&(Q=Q.filter(function(w){return Object.getOwnPropertyDescriptor(C,w).enumerable})),me.push.apply(me,Q)}return me}function V(C){for(var Z=1;Z<arguments.length;Z++){var me=arguments[Z]!=null?arguments[Z]:{};Z%2?B(Object(me),!0).forEach(function(Q){E(C,Q,me[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(me)):B(Object(me)).forEach(function(Q){Object.defineProperty(C,Q,Object.getOwnPropertyDescriptor(me,Q))})}return C}function U(C,Z){if(!(C instanceof Z))throw new TypeError("Cannot call a class as a function")}function F(C,Z){for(var me=0;me<Z.length;me++){var Q=Z[me];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(C,M(Q.key),Q)}}function Y(C,Z,me){return Z&&F(C.prototype,Z),Object.defineProperty(C,"prototype",{writable:!1}),C}function ne(C,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(Z&&Z.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),Z&&re(C,Z)}function re(C,Z){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,w){return Q.__proto__=w,Q},re(C,Z)}function P(C){var Z=O();return function(){var Q=R(C),w;if(Z){var ge=R(this).constructor;w=Reflect.construct(Q,arguments,ge)}else w=Q.apply(this,arguments);return H(this,w)}}function H(C,Z){if(Z&&(b(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(C)}function N(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function O(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!C})()}function R(C){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},R(C)}function E(C,Z,me){return Z=M(Z),Z in C?Object.defineProperty(C,Z,{value:me,enumerable:!0,configurable:!0,writable:!0}):C[Z]=me,C}function M(C){var Z=L(C,"string");return b(Z)=="symbol"?Z:String(Z)}function L(C,Z){if(b(C)!="object"||!C)return C;var me=C[Symbol.toPrimitive];if(me!==void 0){var Q=me.call(C,Z);if(b(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(C)}return Sl.InnerSlider=function(C){ne(me,C);var Z=P(me);function me(Q){var w;U(this,me),w=Z.call(this,Q),E(N(w),"listRefHandler",function(G){return w.list=G}),E(N(w),"trackRefHandler",function(G){return w.track=G}),E(N(w),"adaptHeight",function(){if(w.props.adaptiveHeight&&w.list){var G=w.list.querySelector('[data-index="'.concat(w.state.currentSlide,'"]'));w.list.style.height=(0,o.getHeight)(G)+"px"}}),E(N(w),"componentDidMount",function(){if(w.props.onInit&&w.props.onInit(),w.props.lazyLoad){var G=(0,o.getOnDemandLazySlides)(V(V({},w.props),w.state));G.length>0&&(w.setState(function(j){return{lazyLoadedList:j.lazyLoadedList.concat(G)}}),w.props.onLazyLoad&&w.props.onLazyLoad(G))}var _=V({listRef:w.list,trackRef:w.track},w.props);w.updateState(_,!0,function(){w.adaptHeight(),w.props.autoplay&&w.autoPlay("update")}),w.props.lazyLoad==="progressive"&&(w.lazyLoadTimer=setInterval(w.progressiveLazyLoad,1e3)),w.ro=new y.default(function(){w.state.animating?(w.onWindowResized(!1),w.callbackTimers.push(setTimeout(function(){return w.onWindowResized()},w.props.speed))):w.onWindowResized()}),w.ro.observe(w.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(j){j.onfocus=w.props.pauseOnFocus?w.onSlideFocus:null,j.onblur=w.props.pauseOnFocus?w.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",w.onWindowResized):window.attachEvent("onresize",w.onWindowResized)}),E(N(w),"componentWillUnmount",function(){w.animationEndCallback&&clearTimeout(w.animationEndCallback),w.lazyLoadTimer&&clearInterval(w.lazyLoadTimer),w.callbackTimers.length&&(w.callbackTimers.forEach(function(G){return clearTimeout(G)}),w.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",w.onWindowResized):window.detachEvent("onresize",w.onWindowResized),w.autoplayTimer&&clearInterval(w.autoplayTimer),w.ro.disconnect()}),E(N(w),"componentDidUpdate",function(G){if(w.checkImagesLoad(),w.props.onReInit&&w.props.onReInit(),w.props.lazyLoad){var _=(0,o.getOnDemandLazySlides)(V(V({},w.props),w.state));_.length>0&&(w.setState(function(W){return{lazyLoadedList:W.lazyLoadedList.concat(_)}}),w.props.onLazyLoad&&w.props.onLazyLoad(_))}w.adaptHeight();var j=V(V({listRef:w.list,trackRef:w.track},w.props),w.state),$=w.didPropsChange(G);$&&w.updateState(j,$,function(){w.state.currentSlide>=i.default.Children.count(w.props.children)&&w.changeSlide({message:"index",index:i.default.Children.count(w.props.children)-w.props.slidesToShow,currentSlide:w.state.currentSlide}),w.props.autoplay?w.autoPlay("update"):w.pause("paused")})}),E(N(w),"onWindowResized",function(G){w.debouncedResize&&w.debouncedResize.cancel(),w.debouncedResize=(0,n.default)(function(){return w.resizeWindow(G)},50),w.debouncedResize()}),E(N(w),"resizeWindow",function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,_=!!(w.track&&w.track.node);if(_){var j=V(V({listRef:w.list,trackRef:w.track},w.props),w.state);w.updateState(j,G,function(){w.props.autoplay?w.autoPlay("update"):w.pause("paused")}),w.setState({animating:!1}),clearTimeout(w.animationEndCallback),delete w.animationEndCallback}}),E(N(w),"updateState",function(G,_,j){var $=(0,o.initializedState)(G);G=V(V(V({},G),$),{},{slideIndex:$.currentSlide});var W=(0,o.getTrackLeft)(G);G=V(V({},G),{},{left:W});var ae=(0,o.getTrackCSS)(G);(_||i.default.Children.count(w.props.children)!==i.default.Children.count(G.children))&&($.trackStyle=ae),w.setState($,j)}),E(N(w),"ssrInit",function(){if(w.props.variableWidth){var G=0,_=0,j=[],$=(0,o.getPreClones)(V(V(V({},w.props),w.state),{},{slideCount:w.props.children.length})),W=(0,o.getPostClones)(V(V(V({},w.props),w.state),{},{slideCount:w.props.children.length}));w.props.children.forEach(function(ht){j.push(ht.props.style.width),G+=ht.props.style.width});for(var ae=0;ae<$;ae++)_+=j[j.length-1-ae],G+=j[j.length-1-ae];for(var ce=0;ce<W;ce++)G+=j[ce];for(var le=0;le<w.state.currentSlide;le++)_+=j[le];var ye={width:G+"px",left:-_+"px"};if(w.props.centerMode){var Se="".concat(j[w.state.currentSlide],"px");ye.left="calc(".concat(ye.left," + (100% - ").concat(Se,") / 2 ) ")}return{trackStyle:ye}}var Oe=i.default.Children.count(w.props.children),Pe=V(V(V({},w.props),w.state),{},{slideCount:Oe}),ze=(0,o.getPreClones)(Pe)+(0,o.getPostClones)(Pe)+Oe,He=100/w.props.slidesToShow*ze,Ve=100/ze,je=-Ve*((0,o.getPreClones)(Pe)+w.state.currentSlide)*He/100;w.props.centerMode&&(je+=(100-Ve*He/100)/2);var Ge={width:He+"%",left:je+"%"};return{slideWidth:Ve+"%",trackStyle:Ge}}),E(N(w),"checkImagesLoad",function(){var G=w.list&&w.list.querySelectorAll&&w.list.querySelectorAll(".slick-slide img")||[],_=G.length,j=0;Array.prototype.forEach.call(G,function($){var W=function(){return++j&&j>=_&&w.onWindowResized()};if(!$.onclick)$.onclick=function(){return $.parentNode.focus()};else{var ae=$.onclick;$.onclick=function(ce){ae(ce),$.parentNode.focus()}}$.onload||(w.props.lazyLoad?$.onload=function(){w.adaptHeight(),w.callbackTimers.push(setTimeout(w.onWindowResized,w.props.speed))}:($.onload=W,$.onerror=function(){W(),w.props.onLazyLoadError&&w.props.onLazyLoadError()}))})}),E(N(w),"progressiveLazyLoad",function(){for(var G=[],_=V(V({},w.props),w.state),j=w.state.currentSlide;j<w.state.slideCount+(0,o.getPostClones)(_);j++)if(w.state.lazyLoadedList.indexOf(j)<0){G.push(j);break}for(var $=w.state.currentSlide-1;$>=-(0,o.getPreClones)(_);$--)if(w.state.lazyLoadedList.indexOf($)<0){G.push($);break}G.length>0?(w.setState(function(W){return{lazyLoadedList:W.lazyLoadedList.concat(G)}}),w.props.onLazyLoad&&w.props.onLazyLoad(G)):w.lazyLoadTimer&&(clearInterval(w.lazyLoadTimer),delete w.lazyLoadTimer)}),E(N(w),"slideHandler",function(G){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=w.props,$=j.asNavFor,W=j.beforeChange,ae=j.onLazyLoad,ce=j.speed,le=j.afterChange,ye=w.state.currentSlide,Se=(0,o.slideHandler)(V(V(V({index:G},w.props),w.state),{},{trackRef:w.track,useCSS:w.props.useCSS&&!_})),Oe=Se.state,Pe=Se.nextState;if(Oe){W&&W(ye,Oe.currentSlide);var ze=Oe.lazyLoadedList.filter(function(He){return w.state.lazyLoadedList.indexOf(He)<0});ae&&ze.length>0&&ae(ze),!w.props.waitForAnimate&&w.animationEndCallback&&(clearTimeout(w.animationEndCallback),le&&le(ye),delete w.animationEndCallback),w.setState(Oe,function(){$&&w.asNavForIndex!==G&&(w.asNavForIndex=G,$.innerSlider.slideHandler(G)),Pe&&(w.animationEndCallback=setTimeout(function(){var He=Pe.animating,Ve=x(Pe,["animating"]);w.setState(Ve,function(){w.callbackTimers.push(setTimeout(function(){return w.setState({animating:He})},10)),le&&le(Oe.currentSlide),delete w.animationEndCallback})},ce))})}}),E(N(w),"changeSlide",function(G){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=V(V({},w.props),w.state),$=(0,o.changeSlide)(j,G);if(!($!==0&&!$)&&(_===!0?w.slideHandler($,_):w.slideHandler($),w.props.autoplay&&w.autoPlay("update"),w.props.focusOnSelect)){var W=w.list.querySelectorAll(".slick-current");W[0]&&W[0].focus()}}),E(N(w),"clickHandler",function(G){w.clickable===!1&&(G.stopPropagation(),G.preventDefault()),w.clickable=!0}),E(N(w),"keyHandler",function(G){var _=(0,o.keyHandler)(G,w.props.accessibility,w.props.rtl);_!==""&&w.changeSlide({message:_})}),E(N(w),"selectHandler",function(G){w.changeSlide(G)}),E(N(w),"disableBodyScroll",function(){var G=function(j){j=j||window.event,j.preventDefault&&j.preventDefault(),j.returnValue=!1};window.ontouchmove=G}),E(N(w),"enableBodyScroll",function(){window.ontouchmove=null}),E(N(w),"swipeStart",function(G){w.props.verticalSwiping&&w.disableBodyScroll();var _=(0,o.swipeStart)(G,w.props.swipe,w.props.draggable);_!==""&&w.setState(_)}),E(N(w),"swipeMove",function(G){var _=(0,o.swipeMove)(G,V(V(V({},w.props),w.state),{},{trackRef:w.track,listRef:w.list,slideIndex:w.state.currentSlide}));_&&(_.swiping&&(w.clickable=!1),w.setState(_))}),E(N(w),"swipeEnd",function(G){var _=(0,o.swipeEnd)(G,V(V(V({},w.props),w.state),{},{trackRef:w.track,listRef:w.list,slideIndex:w.state.currentSlide}));if(_){var j=_.triggerSlideHandler;delete _.triggerSlideHandler,w.setState(_),j!==void 0&&(w.slideHandler(j),w.props.verticalSwiping&&w.enableBodyScroll())}}),E(N(w),"touchEnd",function(G){w.swipeEnd(G),w.clickable=!0}),E(N(w),"slickPrev",function(){w.callbackTimers.push(setTimeout(function(){return w.changeSlide({message:"previous"})},0))}),E(N(w),"slickNext",function(){w.callbackTimers.push(setTimeout(function(){return w.changeSlide({message:"next"})},0))}),E(N(w),"slickGoTo",function(G){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G=Number(G),isNaN(G))return"";w.callbackTimers.push(setTimeout(function(){return w.changeSlide({message:"index",index:G,currentSlide:w.state.currentSlide},_)},0))}),E(N(w),"play",function(){var G;if(w.props.rtl)G=w.state.currentSlide-w.props.slidesToScroll;else if((0,o.canGoNext)(V(V({},w.props),w.state)))G=w.state.currentSlide+w.props.slidesToScroll;else return!1;w.slideHandler(G)}),E(N(w),"autoPlay",function(G){w.autoplayTimer&&clearInterval(w.autoplayTimer);var _=w.state.autoplaying;if(G==="update"){if(_==="hovered"||_==="focused"||_==="paused")return}else if(G==="leave"){if(_==="paused"||_==="focused")return}else if(G==="blur"&&(_==="paused"||_==="hovered"))return;w.autoplayTimer=setInterval(w.play,w.props.autoplaySpeed+50),w.setState({autoplaying:"playing"})}),E(N(w),"pause",function(G){w.autoplayTimer&&(clearInterval(w.autoplayTimer),w.autoplayTimer=null);var _=w.state.autoplaying;G==="paused"?w.setState({autoplaying:"paused"}):G==="focused"?(_==="hovered"||_==="playing")&&w.setState({autoplaying:"focused"}):_==="playing"&&w.setState({autoplaying:"hovered"})}),E(N(w),"onDotsOver",function(){return w.props.autoplay&&w.pause("hovered")}),E(N(w),"onDotsLeave",function(){return w.props.autoplay&&w.state.autoplaying==="hovered"&&w.autoPlay("leave")}),E(N(w),"onTrackOver",function(){return w.props.autoplay&&w.pause("hovered")}),E(N(w),"onTrackLeave",function(){return w.props.autoplay&&w.state.autoplaying==="hovered"&&w.autoPlay("leave")}),E(N(w),"onSlideFocus",function(){return w.props.autoplay&&w.pause("focused")}),E(N(w),"onSlideBlur",function(){return w.props.autoplay&&w.state.autoplaying==="focused"&&w.autoPlay("blur")}),E(N(w),"render",function(){var G=(0,a.default)("slick-slider",w.props.className,{"slick-vertical":w.props.vertical,"slick-initialized":!0}),_=V(V({},w.props),w.state),j=(0,o.extractObject)(_,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),$=w.props.pauseOnHover;j=V(V({},j),{},{onMouseEnter:$?w.onTrackOver:null,onMouseLeave:$?w.onTrackLeave:null,onMouseOver:$?w.onTrackOver:null,focusOnSelect:w.props.focusOnSelect&&w.clickable?w.selectHandler:null});var W;if(w.props.dots===!0&&w.state.slideCount>=w.props.slidesToShow){var ae=(0,o.extractObject)(_,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ce=w.props.pauseOnDotsHover;ae=V(V({},ae),{},{clickHandler:w.changeSlide,onMouseEnter:ce?w.onDotsLeave:null,onMouseOver:ce?w.onDotsOver:null,onMouseLeave:ce?w.onDotsLeave:null}),W=i.default.createElement(d.Dots,ae)}var le,ye,Se=(0,o.extractObject)(_,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Se.clickHandler=w.changeSlide,w.props.arrows&&(le=i.default.createElement(h.PrevArrow,Se),ye=i.default.createElement(h.NextArrow,Se));var Oe=null;w.props.vertical&&(Oe={height:w.state.listHeight});var Pe=null;w.props.vertical===!1?w.props.centerMode===!0&&(Pe={padding:"0px "+w.props.centerPadding}):w.props.centerMode===!0&&(Pe={padding:w.props.centerPadding+" 0px"});var ze=V(V({},Oe),Pe),He=w.props.touchMove,Ve={className:"slick-list",style:ze,onClick:w.clickHandler,onMouseDown:He?w.swipeStart:null,onMouseMove:w.state.dragging&&He?w.swipeMove:null,onMouseUp:He?w.swipeEnd:null,onMouseLeave:w.state.dragging&&He?w.swipeEnd:null,onTouchStart:He?w.swipeStart:null,onTouchMove:w.state.dragging&&He?w.swipeMove:null,onTouchEnd:He?w.touchEnd:null,onTouchCancel:w.state.dragging&&He?w.swipeEnd:null,onKeyDown:w.props.accessibility?w.keyHandler:null},je={className:G,dir:"ltr",style:w.props.style};return w.props.unslick&&(Ve={className:"slick-list"},je={className:G}),i.default.createElement("div",je,w.props.unslick?"":le,i.default.createElement("div",S({ref:w.listRefHandler},Ve),i.default.createElement(u.Track,S({ref:w.trackRefHandler},j),w.props.children)),w.props.unslick?"":ye,w.props.unslick?"":W)}),w.list=null,w.track=null,w.state=V(V({},e.default),{},{currentSlide:w.props.initialSlide,targetSlide:w.props.initialSlide?w.props.initialSlide:0,slideCount:i.default.Children.count(w.props.children)}),w.callbackTimers=[],w.clickable=!0,w.debouncedResize=null;var ge=w.ssrInit();return w.state=V(V({},w.state),ge),w}return Y(me,[{key:"didPropsChange",value:function(w){for(var ge=!1,G=0,_=Object.keys(this.props);G<_.length;G++){var j=_[G];if(!w.hasOwnProperty(j)){ge=!0;break}if(!(b(w[j])==="object"||typeof w[j]=="function"||isNaN(w[j]))&&w[j]!==this.props[j]){ge=!0;break}}return ge||i.default.Children.count(this.props.children)!==i.default.Children.count(w.children)}}]),me}(i.default.Component),Sl}var Kh,S_;function vC(){if(S_)return Kh;S_=1;var i=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return Kh=i,Kh}var Yh,w_;function _C(){if(w_)return Yh;w_=1;var i=vC(),e=function(o){var u=/[height|width]$/;return u.test(o)},n=function(o){var u="",d=Object.keys(o);return d.forEach(function(h,y){var p=o[h];h=i(h),e(h)&&typeof p=="number"&&(p=p+"px"),p===!0?u+=h:p===!1?u+="not "+h:u+="("+h+": "+p+")",y<d.length-1&&(u+=" and ")}),u},a=function(o){var u="";return typeof o=="string"?o:o instanceof Array?(o.forEach(function(d,h){u+=n(d),h<o.length-1&&(u+=", ")}),u):n(o)};return Yh=a,Yh}var Xh,T_;function bC(){if(T_)return Xh;T_=1;function i(e){this.options=e,!e.deferSetup&&this.setup()}return i.prototype={constructor:i,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Xh=i,Xh}var Wh,A_;function gb(){if(A_)return Wh;A_=1;function i(a,o){var u=0,d=a.length,h;for(u;u<d&&(h=o(a[u],u),h!==!1);u++);}function e(a){return Object.prototype.toString.apply(a)==="[object Array]"}function n(a){return typeof a=="function"}return Wh={isFunction:n,isArray:e,each:i},Wh}var Zh,R_;function EC(){if(R_)return Zh;R_=1;var i=bC(),e=gb().each;function n(a,o){this.query=a,this.isUnconditional=o,this.handlers=[],this.mql=window.matchMedia(a);var u=this;this.listener=function(d){u.mql=d.currentTarget||d,u.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(a){var o=new i(a);this.handlers.push(o),this.matches()&&o.on()},removeHandler:function(a){var o=this.handlers;e(o,function(u,d){if(u.equals(a))return u.destroy(),!o.splice(d,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";e(this.handlers,function(o){o[a]()})}},Zh=n,Zh}var Jh,x_;function SC(){if(x_)return Jh;x_=1;var i=EC(),e=gb(),n=e.each,a=e.isFunction,o=e.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return u.prototype={constructor:u,register:function(d,h,y){var p=this.queries,b=y&&this.browserIsIncapable;return p[d]||(p[d]=new i(d,b)),a(h)&&(h={match:h}),o(h)||(h=[h]),n(h,function(S){a(S)&&(S={match:S}),p[d].addHandler(S)}),this},unregister:function(d,h){var y=this.queries[d];return y&&(h?y.removeHandler(h):(y.clear(),delete this.queries[d])),this}},Jh=u,Jh}var em,C_;function wC(){if(C_)return em;C_=1;var i=SC();return em=new i,em}var N_;function TC(){return N_||(N_=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=d(Or()),n=yC(),a=d(_C()),o=d(cb()),u=nu();function d(R){return R&&R.__esModule?R:{default:R}}function h(R){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(R)}function y(){return y=Object.assign?Object.assign.bind():function(R){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(R[L]=M[L])}return R},y.apply(this,arguments)}function p(R,E){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(R);E&&(L=L.filter(function(C){return Object.getOwnPropertyDescriptor(R,C).enumerable})),M.push.apply(M,L)}return M}function b(R){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?p(Object(M),!0).forEach(function(L){P(R,L,M[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):p(Object(M)).forEach(function(L){Object.defineProperty(R,L,Object.getOwnPropertyDescriptor(M,L))})}return R}function S(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function x(R,E){for(var M=0;M<E.length;M++){var L=E[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,H(L.key),L)}}function D(R,E,M){return E&&x(R.prototype,E),Object.defineProperty(R,"prototype",{writable:!1}),R}function B(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),E&&V(R,E)}function V(R,E){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,C){return L.__proto__=C,L},V(R,E)}function U(R){var E=ne();return function(){var L=re(R),C;if(E){var Z=re(this).constructor;C=Reflect.construct(L,arguments,Z)}else C=L.apply(this,arguments);return F(this,C)}}function F(R,E){if(E&&(h(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(R)}function Y(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function ne(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ne=function(){return!!R})()}function re(R){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},re(R)}function P(R,E,M){return E=H(E),E in R?Object.defineProperty(R,E,{value:M,enumerable:!0,configurable:!0,writable:!0}):R[E]=M,R}function H(R){var E=N(R,"string");return h(E)=="symbol"?E:String(E)}function N(R,E){if(h(R)!="object"||!R)return R;var M=R[Symbol.toPrimitive];if(M!==void 0){var L=M.call(R,E);if(h(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(R)}var O=(0,u.canUseDOM)()&&wC();i.default=function(R){B(M,R);var E=U(M);function M(L){var C;return S(this,M),C=E.call(this,L),P(Y(C),"innerSliderRefHandler",function(Z){return C.innerSlider=Z}),P(Y(C),"slickPrev",function(){return C.innerSlider.slickPrev()}),P(Y(C),"slickNext",function(){return C.innerSlider.slickNext()}),P(Y(C),"slickGoTo",function(Z){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C.innerSlider.slickGoTo(Z,me)}),P(Y(C),"slickPause",function(){return C.innerSlider.pause("paused")}),P(Y(C),"slickPlay",function(){return C.innerSlider.autoPlay("play")}),C.state={breakpoint:null},C._responsiveMediaHandlers=[],C}return D(M,[{key:"media",value:function(C,Z){O.register(C,Z),this._responsiveMediaHandlers.push({query:C,handler:Z})}},{key:"componentDidMount",value:function(){var C=this;if(this.props.responsive){var Z=this.props.responsive.map(function(Q){return Q.breakpoint});Z.sort(function(Q,w){return Q-w}),Z.forEach(function(Q,w){var ge;w===0?ge=(0,a.default)({minWidth:0,maxWidth:Q}):ge=(0,a.default)({minWidth:Z[w-1]+1,maxWidth:Q}),(0,u.canUseDOM)()&&C.media(ge,function(){C.setState({breakpoint:Q})})});var me=(0,a.default)({minWidth:Z.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(me,function(){C.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(C){O.unregister(C.query,C.handler)})}},{key:"render",value:function(){var C=this,Z,me;this.state.breakpoint?(me=this.props.responsive.filter(function(ce){return ce.breakpoint===C.state.breakpoint}),Z=me[0].settings==="unslick"?"unslick":b(b(b({},o.default),this.props),me[0].settings)):Z=b(b({},o.default),this.props),Z.centerMode&&(Z.slidesToScroll>1,Z.slidesToScroll=1),Z.fade&&(Z.slidesToShow>1,Z.slidesToScroll>1,Z.slidesToShow=1,Z.slidesToScroll=1);var Q=e.default.Children.toArray(this.props.children);Q=Q.filter(function(ce){return typeof ce=="string"?!!ce.trim():!!ce}),Z.variableWidth&&(Z.rows>1||Z.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Z.variableWidth=!1);for(var w=[],ge=null,G=0;G<Q.length;G+=Z.rows*Z.slidesPerRow){for(var _=[],j=G;j<G+Z.rows*Z.slidesPerRow;j+=Z.slidesPerRow){for(var $=[],W=j;W<j+Z.slidesPerRow&&(Z.variableWidth&&Q[W].props.style&&(ge=Q[W].props.style.width),!(W>=Q.length));W+=1)$.push(e.default.cloneElement(Q[W],{key:100*G+10*j+W,tabIndex:-1,style:{width:"".concat(100/Z.slidesPerRow,"%"),display:"inline-block"}}));_.push(e.default.createElement("div",{key:10*G+j},$))}Z.variableWidth?w.push(e.default.createElement("div",{key:G,style:{width:ge}},_)):w.push(e.default.createElement("div",{key:G},_))}if(Z==="unslick"){var ae="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ae},Q)}else w.length<=Z.slidesToShow&&!Z.infinite&&(Z.unslick=!0);return e.default.createElement(n.InnerSlider,y({style:this.props.style,ref:this.innerSliderRefHandler},(0,u.filterSettings)(Z)),w)}}]),M}(e.default.Component)}(qh)),qh}var O_;function AC(){return O_||(O_=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n(TC());function n(a){return a&&a.__esModule?a:{default:a}}i.default=e.default}(Hh)),Hh}var RC=AC();const xC=L_(RC),CC=({menu:i=[],onCategorySelect:e,selectedCategory:n=null})=>{const[a,o]=z.useState(0),[u,d]=z.useState(!0),h=z.useRef(null);z.useRef(null);const y=Array.isArray(i)?i.map(S=>{const x=S.items||[],D=x.find(V=>V.image||V.imageUrl)||x[0],B=(D==null?void 0:D.imageUrl)||(D==null?void 0:D.image);return{name:S.name,displayName:S.name.charAt(0).toUpperCase()+S.name.slice(1),image:B||null,itemCount:x.length,firstItem:D}}).filter(S=>S.itemCount>0):[],p={dots:!0,infinite:y.length>3,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]},b=(S,x)=>{e&&e(S),h.current&&h.current.slickGoTo(x);const D=document.querySelector(".menu-display");D&&D.scrollIntoView({behavior:"smooth",block:"start"})};return y.length===0?null:g.jsx("div",{className:"category-slider",children:g.jsx("div",{className:"category-slider-container",children:g.jsx(xC,{ref:h,...p,children:y.map((S,x)=>g.jsxs("div",{className:`category-item ${n===S.name?"active":""}`,onClick:()=>b(S.name,x),children:[g.jsxs("div",{className:"category-image",children:[S.image?g.jsx("img",{src:S.image,alt:S.displayName,onError:D=>{D.target.style.display="none",D.target.nextElementSibling&&(D.target.nextElementSibling.style.display="flex")}}):g.jsx("div",{className:"category-image-placeholder",style:{display:"flex"},children:g.jsx("span",{className:"category-icon",children:g.jsx(Jc,{})})}),S.image&&g.jsx("div",{className:"category-image-placeholder",style:{display:"none"},children:g.jsx("span",{className:"category-icon",children:g.jsx(Jc,{})})}),g.jsx("div",{className:"category-overlay",children:g.jsxs("span",{className:"category-count",children:[S.itemCount," productos"]})})]}),g.jsx("div",{className:"category-info",children:g.jsx("h3",{className:"category-name",children:S.displayName})})]},S.name))})})})},NC=({categories:i=[],selected:e,onSelect:n})=>i.length?g.jsx("div",{className:"category-pills-mobile-wrapper",children:g.jsx("div",{className:"category-pills-mobile-track",children:i.map(a=>g.jsx("button",{className:`category-pill-mobile${e===a.name?" active":""}`,onClick:()=>n&&n(a.name),type:"button",children:a.name},a.id||a.name))})}):null,OC=({onSubmit:i,loading:e})=>{const[n,a]=z.useState({name:"",phone:"",email:"",address:"",notes:""}),[o,u]=z.useState({}),d=()=>{const p={};return n.name.trim()||(p.name="El nombre es requerido"),n.phone.trim()?/^\+?[\d\s-()]{8,}$/.test(n.phone)||(p.phone="Formato de teléfono inválido"):p.phone="El teléfono es requerido",n.email&&!/\S+@\S+\.\S+/.test(n.email)&&(p.email="Formato de email inválido"),u(p),Object.keys(p).length===0},h=p=>{p.preventDefault(),d()&&i(n)},y=p=>{const{name:b,value:S}=p.target;a(x=>({...x,[b]:S})),o[b]&&u(x=>({...x,[b]:""}))};return g.jsxs("form",{onSubmit:h,className:"customer-form",children:[g.jsx("h3",{children:"Información de Contacto"}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"name",children:[g.jsx(j6,{style:{marginRight:6,color:"#009688"}})," Nombre completo *"]}),g.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:y,className:o.name?"error":"",disabled:e}),o.name&&g.jsx("span",{className:"error-message",children:o.name})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"phone",children:[g.jsx(w6,{style:{marginRight:6,color:"#009688"}})," Teléfono *"]}),g.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:y,placeholder:"+54 11 1234-5678",className:o.phone?"error":"",disabled:e}),o.phone&&g.jsx("span",{className:"error-message",children:o.phone})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"email",children:[g.jsx(ib,{style:{marginRight:6,color:"#009688"}})," Email"]}),g.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:y,className:o.email?"error":"",disabled:e}),o.email&&g.jsx("span",{className:"error-message",children:o.email})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"address",children:[g.jsx(xp,{style:{marginRight:6,color:"#009688"}})," Dirección"]}),g.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:y,disabled:e,rows:"3"})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{htmlFor:"notes",children:[g.jsx(C6,{style:{marginRight:6,color:"#009688"}})," Notas adicionales"]}),g.jsx("textarea",{id:"notes",name:"notes",value:n.notes,onChange:y,placeholder:"Instrucciones especiales, alergias, etc.",disabled:e,rows:"3"})]}),g.jsx("button",{type:"submit",className:"submit-btn",disabled:e,children:e?"Procesando...":"Proceder al Pago"})]})},IC=({onSelect:i,onBack:e,total:n})=>g.jsxs("div",{className:"payment-selection",children:[g.jsxs("div",{className:"payment-header",children:[g.jsx("button",{onClick:e,className:"back-btn",children:"← Volver"}),g.jsx("h3",{children:"Método de Pago"})]}),g.jsx("div",{className:"payment-total",children:g.jsxs("h4",{children:["Total de tu compra: $",n.toFixed(2)," ARS"]})}),g.jsxs("div",{className:"payment-methods",children:[g.jsxs("div",{className:"payment-method cash",onClick:()=>i("cash"),children:[g.jsx("div",{className:"payment-icon",children:g.jsx(S6,{style:{color:"#28a745"}})}),g.jsxs("div",{className:"payment-info",children:[g.jsx("h4",{children:"Efectivo"}),g.jsx("p",{children:"Pago al retirar en tienda"}),g.jsx("small",{children:"Coordinaremos por WhatsApp"})]}),g.jsx("div",{className:"payment-arrow",children:g.jsx(Bh,{style:{color:"#888"}})})]}),g.jsxs("div",{className:"payment-method mercadopago",onClick:()=>i("mercadopago"),children:[g.jsx("div",{className:"payment-icon",children:g.jsx(rb,{style:{color:"#0077ff"}})}),g.jsxs("div",{className:"payment-info",children:[g.jsx("h4",{children:"MercadoPago"}),g.jsx("p",{children:"Tarjeta de crédito/débito"}),g.jsx("small",{children:"Pago seguro online con envío"})]}),g.jsx("div",{className:"payment-arrow",children:g.jsx(Bh,{style:{color:"#888"}})})]}),g.jsxs("div",{className:"payment-method transfer",onClick:()=>i("transfer"),children:[g.jsx("div",{className:"payment-icon",children:g.jsx(D6,{style:{color:"#6c757d"}})}),g.jsxs("div",{className:"payment-info",children:[g.jsx("h4",{children:"Transferencia"}),g.jsx("p",{children:"Transferencia bancaria"}),g.jsx("small",{children:"Te enviaremos los datos bancarios"})]}),g.jsx("div",{className:"payment-arrow",children:g.jsx(Bh,{style:{color:"#888"}})})]})]}),g.jsxs("div",{className:"payment-note",children:[g.jsxs("p",{children:[g.jsx(ob,{style:{color:"#28a745",marginRight:6}})," Todos los pagos son seguros y protegidos"]}),g.jsxs("p",{children:[g.jsx(tb,{style:{color:"#0077ff",marginRight:6}})," Envío gratuito en compras superiores a $5000"]})]})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="type.googleapis.com/google.protobuf.Int64Value",jC="type.googleapis.com/google.protobuf.UInt64Value";function yb(i,e){const n={};for(const a in i)i.hasOwnProperty(a)&&(n[a]=e(i[a]));return n}function Nm(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>Nm(e));if(typeof i=="function"||typeof i=="object")return yb(i,e=>Nm(e));throw new Error("Data cannot be encoded in JSON: "+i)}function nf(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case DC:case jC:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>nf(e)):typeof i=="function"||typeof i=="object"?yb(i,e=>nf(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fs extends Wi{constructor(e,n,a){super(`${Ip}/${e}`,n||""),this.details=a}}function MC(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function PC(i,e){let n=MC(i),a=n,o;try{const u=e&&e.error;if(u){const d=u.status;if(typeof d=="string"){if(!I_[d])return new Fs("internal","internal");n=I_[d],a=d}const h=u.message;typeof h=="string"&&(a=h),o=u.details,o!==void 0&&(o=nf(o))}}catch{}return n==="ok"?null:new Fs(n,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,a){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(o=>this.auth=o,()=>{}),this.messaging||n.get().then(o=>this.messaging=o,()=>{}),this.appCheck||a.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:a,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="us-central1";function VC(i){let e=null;return{promise:new Promise((n,a)=>{e=setTimeout(()=>{a(new Fs("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class LC{constructor(e,n,a,o,u=Om,d){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new kC(n,a,o),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(u);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=Om}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function zC(i,e,n){i.emulatorOrigin=`http://${e}:${n}`}function UC(i,e,n){return a=>HC(i,e,a,{})}async function BC(i,e,n,a){n["Content-Type"]="application/json";let o;try{o=await a(i,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}function HC(i,e,n,a){const o=i._url(e);return qC(i,o,n,a)}async function qC(i,e,n,a){n=Nm(n);const o={data:n},u={},d=await i.contextProvider.getContext(a.limitedUseAppCheckTokens);d.authToken&&(u.Authorization="Bearer "+d.authToken),d.messagingToken&&(u["Firebase-Instance-ID-Token"]=d.messagingToken),d.appCheckToken!==null&&(u["X-Firebase-AppCheck"]=d.appCheckToken);const h=a.timeout||7e4,y=VC(h),p=await Promise.race([BC(e,o,u,i.fetchImpl),y.promise,i.cancelAllRequests]);if(y.cancel(),!p)throw new Fs("cancelled","Firebase Functions instance was deleted.");const b=PC(p.status,p.json);if(b)throw b;if(!p.json)throw new Fs("internal","Response is not valid JSON object.");let S=p.json.data;if(typeof S>"u"&&(S=p.json.result),typeof S>"u")throw new Fs("internal","Response is missing data field.");return{data:nf(S)}}const D_="@firebase/functions",j_="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="auth-internal",GC="app-check-internal",QC="messaging-internal";function $C(i,e){const n=(a,{instanceIdentifier:o})=>{const u=a.getProvider("app").getImmediate(),d=a.getProvider(FC),h=a.getProvider(QC),y=a.getProvider(GC);return new LC(u,d,h,y,o,i)};Gs(new Ha(Ip,n,"PUBLIC").setMultipleInstances(!0)),Ar(D_,j_,e),Ar(D_,j_,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(i=zm(),e=Om){const a=sf(yn(i),Ip).getImmediate({identifier:e}),o=Vm("functions");return o&&YC(a,...o),a}function YC(i,e,n){zC(yn(i),e,n)}function XC(i,e,n){return UC(yn(i),e)}$C(fetch.bind(self));class WC{constructor(){this.functions=null,this.initialized=!1}async _ensureInitialized(){if(!this.initialized)try{const{app:e}=await It.initialize();this.functions=KC(e),this.initialized=!0,console.log("✅ PaymentService initialized")}catch(e){throw console.error("❌ Failed to initialize PaymentService:",e),e}}async createMercadoPagoPreference(e){try{await this._ensureInitialized(),console.log("🔄 Creating MercadoPago preference...",e),this._validateOrderData(e);try{const a=await XC(this.functions,"createMercadoPagoPreference")({businessId:e.businessId,items:e.items,customer:e.customer,totalAmount:e.totalAmount,orderId:e.orderId,backUrls:e.backUrls,notes:e.notes||""});if(a.data.success)return console.log("✅ MercadoPago preference created:",a.data),{success:!0,init_point:a.data.init_point,preference_id:a.data.preference_id,order_id:a.data.order_id};throw new Error("Failed to create payment preference")}catch(n){console.warn("⚠️ Firebase callable failed, trying HTTP fallback:",n);const a=await fetch("https://us-central1-cms-menu-7b4a4.cloudfunctions.net/createMercadoPagoPreferenceHTTP",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({businessId:e.businessId,items:e.items,payer:e.customer,totalAmount:e.totalAmount,orderId:e.orderId,backUrls:e.backUrls,notes:e.notes||""})});if(!a.ok){const u=await a.json();throw new Error(`HTTP function failed: ${u.message||a.statusText}`)}const o=await a.json();return console.log("✅ MercadoPago preference created via HTTP:",o),o}}catch(n){throw console.error("❌ Error creating MercadoPago preference:",n),new Error(`Payment error: ${n.message}`)}}generateBackUrls(e,n){const a="https://juanmaacampos.github.io/restaurant_template";return{success:`${a}/payment/success?order=${n}&payment_id={{payment_id}}&status={{status}}&collection_status={{collection_status}}&source=mp_redirect`,pending:`${a}/payment/pending?order=${n}&payment_id={{payment_id}}&status={{status}}&collection_status={{collection_status}}&source=mp_redirect`,failure:`${a}/payment/failure?order=${n}&payment_id={{payment_id}}&status={{status}}&collection_status={{collection_status}}&source=mp_redirect`}}_validateOrderData(e){const n=["businessId","items","customer","totalAmount","orderId","backUrls"];for(const d of n)if(!e[d])throw new Error(`Missing required field: ${d}`);if(!Array.isArray(e.items)||e.items.length===0)throw new Error("Items must be a non-empty array");if(!e.customer.name||!e.customer.phone)throw new Error("Customer name and phone are required");if(typeof e.totalAmount!="number"||e.totalAmount<=0)throw new Error("Total amount must be a positive number");const{success:a,pending:o,failure:u}=e.backUrls;if(!a||!o||!u)throw new Error("All back URLs (success, pending, failure) are required")}}const M_=new WC,Dp=({cart:i=[],updateQuantity:e,removeFromCart:n,clearCart:a,total:o=0,onClose:u,firebaseManager:d})=>{const[h,y]=z.useState("cart"),[p,b]=z.useState(""),[S,x]=z.useState(!1),[D,B]=z.useState(null),V=typeof o=="number"?o:0;Array.isArray(i)&&i.reduce((P,H)=>P+(H.quantity||0),0),z.useEffect(()=>{console.log("🛒 Cart component props:",{cart:i.length,total:o,firebaseManager:!!d,orderService:!!D})},[i,o,d,D]),z.useEffect(()=>{(async()=>{if(d)console.log("✅ Initializing OrderService with Firebase manager"),B(new Bc(d,Wt.businessId));else try{const{globalFirebaseManager:H}=await Pl(async()=>{const{globalFirebaseManager:N}=await Promise.resolve().then(()=>l_);return{globalFirebaseManager:N}},void 0);H&&(console.log("✅ Initializing OrderService with global Firebase manager"),B(new Bc(H,Wt.businessId)))}catch(H){console.warn("⚠️ Could not initialize OrderService:",H.message)}})()},[d]);const U=P=>{b(P),y("customer")},F=async P=>{if(!D)try{const{globalFirebaseManager:H}=await Pl(async()=>{const{globalFirebaseManager:O}=await Promise.resolve().then(()=>l_);return{globalFirebaseManager:O}},void 0),N=new Bc(H,Wt.businessId);return B(N),F(P)}catch(H){console.error("❌ Failed to initialize OrderService:",H),alert("Error: Servicio de pedidos no disponible. Por favor recarga la página e intenta nuevamente.");return}x(!0);try{const H=`order_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;p==="mercadopago"?await re(H,P):p==="transfer"?await ne(H,P):await Y(H,P)}catch(H){console.error("❌ Checkout error:",H),alert(`Error al procesar el pedido: ${H.message}

Por favor intenta nuevamente.`)}finally{x(!1)}},Y=async(P,H)=>{const N={items:i,customer:H,total:V,notes:H.notes,paymentMethod:"cash"},O=await D.createOrder(N);console.log("✅ Cash order created:",O),alert(`¡Pedido confirmado!

ID: `+O.orderId+`

Te contactaremos por WhatsApp para coordinar el retiro.

Total a pagar: $`+V.toFixed(2)+" ARS"),a(),u()},ne=async(P,H)=>{const N={items:i,customer:H,total:V,notes:H.notes,paymentMethod:"transfer"},O=await D.createOrder(N);console.log("✅ Transfer order created:",O),alert(`¡Pedido confirmado!

ID: `+O.orderId+`

Te enviaremos los datos bancarios por WhatsApp para realizar la transferencia.

Total a transferir: $`+V.toFixed(2)+" ARS"),a(),u()},re=async(P,H)=>{console.log("🔄 Processing MercadoPago payment...");const N=window.location.origin,O=M_.generateBackUrls(N,P),R={businessId:Wt.businessId,items:i.map(E=>({name:E.name,unit_price:E.price,quantity:E.quantity})),customer:{name:H.name,phone:H.phone,email:H.email||"",address:H.address||""},totalAmount:o||0,orderId:P,backUrls:O,notes:H.notes||""};try{const E=await M_.createMercadoPagoPreference(R);if(E.success&&E.init_point)console.log("✅ Redirecting to MercadoPago:",E.init_point),a(),window.location.href=E.init_point;else throw new Error("Failed to create payment preference")}catch(E){throw console.error("❌ MercadoPago error:",E),new Error(`Error con MercadoPago: ${E.message}`)}};return i.length===0?g.jsxs("div",{className:"cart-empty",children:[g.jsx("p",{children:"Tu carrito está vacío"}),g.jsx("button",{onClick:u,className:"close-btn",children:"Cerrar"})]}):g.jsxs("div",{className:"cart-container",children:[g.jsxs("div",{className:"cart-header",children:[g.jsx("h2",{children:"Tu Pedido"}),g.jsx("button",{onClick:u,className:"close-btn",children:"×"})]}),h==="cart"&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"cart-items",children:i.map(P=>g.jsxs("div",{className:"cart-item",children:[g.jsxs("div",{className:"item-info",children:[g.jsx("h4",{children:P.name}),g.jsxs("p",{className:"item-price",children:["$",P.price]})]}),g.jsxs("div",{className:"quantity-controls",children:[g.jsx("button",{onClick:()=>e(P.id,P.quantity-1),children:"-"}),g.jsx("span",{children:P.quantity}),g.jsx("button",{onClick:()=>e(P.id,P.quantity+1),children:"+"})]}),g.jsx("button",{onClick:()=>n(P.id),className:"remove-btn",children:g.jsx(O6,{style:{color:"#888"}})})]},P.id))}),g.jsx("div",{className:"cart-total",children:g.jsxs("h3",{children:["Total: $",V.toFixed(2)," ARS"]})}),g.jsxs("div",{className:"cart-actions",children:[g.jsx("button",{onClick:a,className:"clear-btn",children:"Vaciar Carrito"}),g.jsx("button",{onClick:()=>y("payment"),className:"checkout-btn",children:"Continuar"})]})]}),h==="payment"&&g.jsx(IC,{onSelect:U,onBack:()=>y("cart"),total:o}),h==="customer"&&g.jsx(OC,{onSubmit:F,loading:S,paymentMethod:p,onBack:()=>y("payment")})]})},ZC=({cart:i,addToCart:e,updateQuantity:n,removeFromCart:a,clearCart:o,total:u,itemCount:d,firebaseManager:h})=>{const y=z.useRef(null),p=z.useRef(null),[b,S]=z.useState(!1),[x,D]=z.useState(null),B=()=>typeof window<"u"&&window.innerWidth<=768,V=G6.getInstance(Wt.firebaseConfig,Wt.businessId),{menu:U,loading:F,error:Y}=n1(V),ne=Op,re=N=>{D(N)},P=x&&U?U.filter(N=>N.name.toLowerCase()===x.toLowerCase()):U,H=Array.isArray(U)?U.map(N=>({id:N.id||N.name,name:N.name})):[];return g.jsxs("section",{id:"menu",className:"menu-section store-catalog",ref:y,children:[g.jsxs("div",{className:"container",children:[g.jsx("div",{className:"menu-header",style:{justifyContent:"center"},children:g.jsxs("h2",{className:"section-title",ref:p,style:{textAlign:"center",width:"100%"},children:[g.jsx(Jc,{})," ",ne.menuNameCapitalized]})}),B()?g.jsx(NC,{categories:H,selected:x,onSelect:re}):g.jsx(CC,{menu:U,onCategorySelect:re,selectedCategory:x}),x&&g.jsxs("div",{className:"category-filter-status",children:[g.jsxs("span",{className:"filter-text",children:["Mostrando: ",g.jsx("strong",{children:x})]}),g.jsx("button",{className:"clear-filter-btn",onClick:()=>D(null),children:"Ver todas las categorías"})]}),g.jsx(H6,{menu:P,loading:F,error:Y,onAddToCart:e,showImages:!0,showPrices:!0,showDescription:!0,terminology:ne,businessId:Wt.businessId,enableRealTimeStock:!0,db:V==null?void 0:V.db})]}),b&&g.jsx("div",{className:"cart-overlay",onClick:N=>N.target.classList.contains("cart-overlay")&&S(!1),children:g.jsx(Dp,{cart:i,updateQuantity:n,removeFromCart:a,clearCart:o,total:u,onClose:()=>S(!1),firebaseManager:h})})]})},JC=()=>{const i=z.useRef(null),e=z.useRef(null),n=z.useRef(null),a=z.useRef(null);return g.jsx("section",{ref:i,className:"location section",id:"location",children:g.jsxs("div",{className:"container",children:[g.jsx("h2",{ref:e,className:"section-title",children:"Encontranos:"}),g.jsxs("div",{className:"location-content",children:[g.jsxs("div",{ref:n,className:"location-info",children:[g.jsxs("div",{className:"info-item",children:[g.jsx(xp,{className:"info-icon"}),g.jsxs("div",{children:[g.jsx("h3",{children:"Dirección"}),g.jsxs("p",{children:["123 Main Street",g.jsx("br",{}),"Downtown, City"]})]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx(_6,{className:"info-icon"}),g.jsxs("div",{children:[g.jsx("h3",{children:"Horarios"}),g.jsxs("p",{children:["Lunes a domingo",g.jsx("br",{}),"11:00 AM - 11:00 PM"]})]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx(T6,{className:"info-icon"}),g.jsxs("div",{children:[g.jsx("h3",{children:"Contacto"}),g.jsx("p",{children:"+54 11 1123-4567"})]})]}),g.jsxs("div",{className:"info-item",children:[g.jsx(J2,{className:"info-icon"}),g.jsxs("div",{children:[g.jsx("h3",{children:"Síguenos"}),g.jsx("p",{children:"@restaurant"})]})]})]}),g.jsx("div",{ref:a,className:"location-map",style:{width:"100%",height:"100%"},children:g.jsx("iframe",{title:"Ubicación en Google Maps",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d105558.2618251795!2d-58.955988950000005!3d-34.23078795!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bb723060430bad%3A0xaa31c9f685c849bf!2sCampana%2C%20Provincia%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1750823038951!5m2!1ses-419!2sar",width:"100%",height:"400",style:{border:0,width:"100%",height:400},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})})},e3=()=>{const i=z.useRef(null),e=z.useRef(null),n=z.useRef(null),[a,o]=z.useState({name:"",email:"",phone:"",message:""}),u=h=>{o({...a,[h.target.name]:h.target.value})},d=h=>{h.preventDefault(),console.log("Form data:",a)};return g.jsx("section",{ref:i,className:"contact section",id:"contact",children:g.jsxs("div",{className:"container",children:[g.jsx("h2",{ref:e,className:"section-title",children:"Contáctanos"}),g.jsxs("div",{className:"contact-content",children:[g.jsxs("div",{className:"contact-info",children:[g.jsx("h3",{children:"¿Tienes alguna pregunta?"}),g.jsx("p",{children:"Escríbenos y te responderemos lo antes posible. También puedes hacer tu pedido directamente por WhatsApp."})]}),g.jsxs("form",{ref:n,className:"contact-form",onSubmit:d,children:[g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"text",name:"name",placeholder:"Tu nombre",value:a.name,onChange:u,required:!0})}),g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"email",name:"email",placeholder:"Tu email",value:a.email,onChange:u,required:!0})}),g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"tel",name:"phone",placeholder:"Tu teléfono",value:a.phone,onChange:u,required:!0})}),g.jsx("div",{className:"form-group",children:g.jsx("textarea",{name:"message",placeholder:"Tu mensaje",rows:"5",value:a.message,onChange:u,required:!0})}),g.jsxs("button",{type:"submit",className:"btn-whatsapp",children:[g.jsx(eb,{className:"whatsapp-icon"}),"Enviar por WhatsApp"]})]})]})]})})},t3=({value:i,onChange:e,placeholder:n="Buscar productos..."})=>g.jsxs("div",{className:"search-bar-container",children:[g.jsx("input",{type:"text",className:"search-bar-input",value:i,onChange:a=>e(a.target.value),placeholder:n,"aria-label":"Buscar"}),g.jsx(A6,{className:"search-bar-icon"})]}),vb=z.createContext(),Af=()=>{const i=z.useContext(vb);if(!i)throw new Error("useMenu must be used within a MenuProvider");return i},n3=({children:i})=>{const[e,n]=z.useState([]),[a,o]=z.useState(null),[u,d]=z.useState(!0),[h,y]=z.useState(null),[p,b]=z.useState(!1),[S,x]=z.useState(null);z.useEffect(()=>{(async()=>{try{d(!0),y(null),console.log("🔥 Initializing Firebase connection...");const ne=Np(Wt.firebaseConfig,Wt.businessId);x(ne);let re=null;try{re=await ne.getRestaurantInfo(),o(re),console.log("✅ Business info loaded successfully")}catch(H){console.warn("⚠️ Business info not found, but continuing with menu data:",H.message),o({businessId:Wt.businessId,name:"Mi Negocio",businessType:"restaurant",isActive:!0})}b(!0),console.log("✅ Firebase connected successfully");const P=await ne.getFullMenu();n(P),console.log("✅ Menu data loaded:",P.length,"categories")}catch(ne){console.error("❌ Firebase connection failed:",ne),y(ne.message),b(!1)}finally{d(!1)}})()},[]);const D=async()=>{if(S)try{d(!0);const Y=await S.getFullMenu();n(Y),y(null)}catch(Y){y(Y.message)}finally{d(!1)}},B=async Y=>{if(!S)throw new Error("Firebase SDK not initialized");if(!p)throw new Error("No connection to Firebase");try{console.log("🔄 Creating order with data:",Y);const ne=await S.createOrder(Y);return console.log("✅ Order created successfully:",ne),ne}catch(ne){throw console.error("❌ Error creating order:",ne),new Error(`Failed to create order: ${ne.message}`)}},V=async(Y,ne,re=null)=>{if(!S)throw new Error("Firebase SDK not initialized");if(!p)throw new Error("No connection to Firebase");try{await S.updateOrderStatus(Y,ne,re)}catch(P){throw console.error("❌ Error updating order status:",P),new Error(`Failed to update order status: ${P.message}`)}},U=async Y=>{if(!S)throw new Error("Firebase SDK not initialized");if(!p)throw new Error("No connection to Firebase");try{return await S.getOrder(Y)}catch(ne){throw console.error("❌ Error getting order:",ne),new Error(`Failed to get order: ${ne.message}`)}},F={menu:e,restaurantInfo:a,isLoading:u,error:h,isConnected:p,refetchMenu:D,sdk:S,firebaseManager:S==null?void 0:S.firebaseManager,createOrder:B,updateOrderStatus:V,getOrder:U};return g.jsx(vb.Provider,{value:F,children:i})},r3=i=>Array.isArray(i)?i.flatMap(e=>(e.items||[]).map(n=>({...n,category:e.name}))):[],i3=i=>Array.isArray(i)?i.map(e=>({id:e.id||e.name,name:e.name,type:"category"})):[],P_=()=>{var B;const i=$l(),{menu:e}=r1(Wt);let n=null;try{n=(B=Af())==null?void 0:B.setSelectedCategory}catch{}const[a,o]=z.useState(""),[u,d]=z.useState(!1),h=z.useRef(),y=z.useRef(),p=z.useMemo(()=>r3(e),[e]),b=z.useMemo(()=>i3(e),[e]),{categoryResults:S,productResults:x}=z.useMemo(()=>{if(!a.trim())return{categoryResults:[],productResults:[]};const V=a.toLowerCase(),U=a.length>=3?b.filter(Y=>Y.name&&Y.name.toLowerCase().includes(V)).slice(0,3):[],F=p.filter(Y=>Y.name&&Y.name.toLowerCase().includes(V)||Y.description&&Y.description.toLowerCase().includes(V)).slice(0,8);return{categoryResults:U,productResults:F}},[a,p,b]);z.useEffect(()=>{d(!!a)},[a]),z.useEffect(()=>{const V=U=>{h.current&&!h.current.contains(U.target)&&y.current&&!y.current.contains(U.target)&&d(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const D=V=>{if(o(""),d(!1),V.type==="category"){const U=document.getElementById("menu");if(U){const F=U.querySelector(".clear-filter-btn");F&&F.click()}setTimeout(()=>{const F=document.getElementById(`category-${V.id}`);if(F)F.scrollIntoView({behavior:"smooth",block:"start"});else{const Y=document.getElementById("menu");Y&&Y.scrollIntoView({behavior:"smooth"})}},200)}else i(`/producto/${V.id}`)};return g.jsxs("div",{className:"product-search-container",style:{minWidth:0,width:"100%"},children:[g.jsx("div",{ref:h,style:{width:"100%"},children:g.jsx(t3,{value:a,onChange:o,placeholder:"Buscar productos o categorías..."})}),g.jsx("div",{style:{position:"relative",width:"100%"},children:u&&a&&g.jsxs("div",{ref:y,children:[S.length>0&&g.jsx("ul",{className:"search-results-list",children:S.map(V=>g.jsxs("li",{className:"search-result-item search-result-category",onClick:()=>D(V),children:[g.jsx("span",{className:"result-name",children:V.name}),g.jsx("span",{className:"result-category-label",children:"Categoría"})]},V.id))}),x.length>0&&g.jsx("ul",{className:"search-results-list",children:x.map(V=>g.jsxs("li",{className:"search-result-item",onClick:()=>D(V),children:[g.jsx("span",{className:"result-name",children:V.name}),V.category&&g.jsxs("span",{className:"result-category",children:["(",V.category,")"]})]},V.id))}),S.length===0&&x.length===0&&g.jsx("div",{className:"no-results",children:"No se encontraron resultados."})]})})]})},_b=({onCartClick:i,itemCount:e,hideMainNavLinks:n,hideNavLinks:a})=>{const[o,u]=z.useState("home"),[d,h]=z.useState(!1),[y,p]=z.useState(!1),[b,S]=z.useState(!1);z.useEffect(()=>{const D=()=>{p(window.innerWidth>1024)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),z.useEffect(()=>{const D=()=>{const B=window.innerHeight,V=window.scrollY;h(V>B*.8||y);const F=["home","menu","location","contact"].find(Y=>{const ne=document.getElementById(Y);if(ne){const re=ne.getBoundingClientRect();return re.top<=window.innerHeight/2&&re.bottom>=window.innerHeight/2}return!1});F&&u(F)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[y]);const x=[{id:"home",icon:b6,label:"Inicio"},{id:"menu",icon:tb,label:"Productos"},{id:"location",icon:xp,label:"Ubicación"},{id:"contact",icon:ib,label:"Contacto"}];return g.jsxs("nav",{className:"navbar-modern",children:[g.jsxs("div",{className:"navbar-modern-container",children:[g.jsxs(Ft,{to:"/",className:"navbar-modern-logo",children:[g.jsx(Jc,{className:"navbar-modern-logo-icon"}),"Digital Store"]}),g.jsx("div",{className:"navbar-modern-menu",children:!n&&!a&&x.map(({id:D,icon:B,label:V})=>g.jsxs("a",{href:`#${D}`,className:"navbar-modern-link",onClick:U=>{U.preventDefault();const F=document.getElementById(D);F&&F.scrollIntoView({behavior:"smooth"})},children:[g.jsx(B,{className:"navbar-modern-link-icon"})," ",V]},D))}),g.jsxs("div",{className:"navbar-modern-actions",children:[g.jsx("div",{className:"navbar-modern-search-desktop",children:g.jsx(P_,{})}),g.jsxs("a",{href:"#",className:"navbar-modern-cart",onClick:i,children:[g.jsx(R6,{className:"navbar-modern-cart-icon"})," Carrito",e>0&&g.jsx("span",{className:"navbar-modern-cart-badge",children:e})]}),g.jsx("button",{className:"navbar-modern-mobile-btn",onClick:()=>S(D=>!D),children:g.jsx(y6,{className:"navbar-modern-mobile-icon"})})]})]}),b&&g.jsxs("div",{className:"navbar-modern-mobile-menu",children:[g.jsx("div",{className:"navbar-modern-search-mobile",children:g.jsx(P_,{})}),g.jsx("div",{className:"navbar-modern-mobile-links",children:!n&&!a&&x.map(({id:D,icon:B,label:V})=>g.jsxs("a",{href:`#${D}`,className:"navbar-modern-link",onClick:U=>{U.preventDefault();const F=document.getElementById(D);F&&F.scrollIntoView({behavior:"smooth"}),S(!1)},children:[g.jsx(B,{className:"navbar-modern-link-icon"})," ",V]},D))})]})]})},a3=()=>{const{isConnected:i,isLoading:e,error:n}=Af();return e?g.jsxs("div",{style:{position:"fixed",top:10,right:10,background:"#f39c12",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",zIndex:1e3},children:[g.jsx(N6,{style:{marginRight:6}})," Conectando a Firebase..."]}):n?g.jsxs("div",{style:{position:"fixed",top:10,right:10,background:"#e74c3c",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",zIndex:1e3},children:[g.jsx(lb,{style:{marginRight:6}})," Error: ",n]}):i?g.jsxs("div",{style:{position:"fixed",top:10,right:10,background:"#27ae60",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",zIndex:1e3},children:[g.jsx(nb,{style:{marginRight:6}})," Conectado a Firebase"]}):null},s3=()=>{document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden",document.querySelectorAll("*").forEach(e=>{const n=window.getComputedStyle(e);(n.position==="absolute"||n.position==="fixed")&&(e.style.maxWidth="100vw")})},k_=()=>{/iPad|iPhone|iPod/.test(navigator.userAgent)&&document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], textarea').forEach(e=>{e.addEventListener("focus",()=>{e.style.fontSize="16px"})}),s3(),document.body.style.touchAction="pan-y"};function o3(){const{isConnected:i,error:e}=Af(),[n,a]=z.useState(!1),{cart:o,addToCart:u,updateQuantity:d,removeFromCart:h,clearCart:y,total:p,itemCount:b,firebaseManager:S,cartTotal:x,cartCount:D}=r1(Wt,{enabled:!0}),B=p||x||0,V=b||D||0,U=()=>{a(!0)};return z.useEffect(()=>{k_();const F=()=>{k_()};return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),g.jsxs("div",{className:"App",children:[g.jsx(a3,{}),e&&g.jsxs("div",{style:{background:"#ffebee",color:"#c62828",padding:"1rem",margin:"1rem",borderRadius:"4px",textAlign:"center"},children:["Error de conexión: ",e]}),g.jsx(L6,{}),g.jsx(ZC,{cart:o,addToCart:u,updateQuantity:d,removeFromCart:h,clearCart:y,total:B,itemCount:V,firebaseManager:S}),g.jsx(JC,{}),g.jsx(e3,{}),g.jsx(z6,{}),g.jsx(_b,{onCartClick:U,itemCount:V}),n&&g.jsx("div",{className:"cart-overlay",onClick:F=>F.target.classList.contains("cart-overlay")&&a(!1),children:g.jsx(Dp,{cart:o,updateQuantity:d,removeFromCart:h,clearCart:y,total:B,onClose:()=>a(!1),firebaseManager:S})})]})}const l3=()=>{var S;const[i]=ro(),[e,n]=z.useState(null),[a,o]=z.useState(!0),[u,d]=z.useState(null),h=i.get("order")||i.get("external_reference"),y=i.get("payment_id"),p=i.get("status"),b=i.get("collection_status");return z.useEffect(()=>{(async()=>{if(console.log("🔍 PaymentSuccess: Starting with params:",{orderId:h,paymentId:y,status:p,collectionStatus:b,allSearchParams:Object.fromEntries(i.entries()),currentURL:window.location.href,currentPath:window.location.pathname,shouldBeOnSuccessPage:"✅ IF YOU SEE THIS, PAYMENT WAS SUPPOSED TO SUCCEED"}),!h){console.error("❌ PaymentSuccess: No orderId found in URL params"),console.log("Available search params:",Object.fromEntries(i.entries())),d("No se encontró el ID del pedido"),o(!1);return}console.log("✅ PaymentSuccess: Processing approved payment"),console.log("Payment verification passed - staying on success page");try{console.log("💳 Processing successful payment for order:",h),console.log("📄 Payment details:",{paymentId:y,status:p,collectionStatus:b}),await It.initializeForPayment();const D=It.getDatabase(),B=gn(D,"orders",h),V=await Xn(B);if(V.exists()){const U={id:V.id,...V.data()};console.log("📋 Order data found:",U),n(U),U.paymentStatus!=="paid"?(console.log("✅ Updating order payment status to paid"),await Ef(B,{paymentStatus:"paid",status:"confirmed",paymentId:y,updatedAt:Js(),mercadopagoData:{payment_id:y,status:p,collection_status:b,processed_at:Js()}}),n(F=>({...F,paymentStatus:"paid",status:"confirmed",paymentId:y}))):console.log("✅ Order already marked as paid")}else console.error("❌ PaymentSuccess: Order not found in Firestore:",h),d("Pedido no encontrado en la base de datos")}catch(D){console.error("❌ Error loading/updating order:",D),d("Error al procesar el pedido")}finally{o(!1)}})()},[h,y,p,b]),a?g.jsx("div",{className:"payment-result",children:g.jsxs("div",{className:"loading",children:[g.jsx("h2",{children:"✅ Procesando Pago Exitoso"}),g.jsx("p",{children:"Verificando el estado de tu pedido..."}),g.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"0.9rem",fontFamily:"monospace"},children:[g.jsx("div",{children:g.jsx("strong",{children:"Debug Info:"})}),g.jsxs("div",{children:["URL: ",window.location.href]}),g.jsxs("div",{children:["Order ID: ",h||"NOT FOUND"]}),g.jsxs("div",{children:["Payment ID: ",y||"NOT FOUND"]}),g.jsxs("div",{children:["Status: ",p||"NOT FOUND"]}),g.jsxs("div",{children:["Collection Status: ",b||"NOT FOUND"]})]})]})}):u?g.jsx("div",{className:"payment-result",children:g.jsxs("div",{className:"error",children:[g.jsx("h2",{children:"❌ Error"}),g.jsx("p",{children:u}),g.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"0.9rem",fontFamily:"monospace"},children:[g.jsx("div",{children:g.jsx("strong",{children:"Debug Info:"})}),g.jsxs("div",{children:["URL: ",window.location.href]}),g.jsxs("div",{children:["Order ID: ",h||"NOT FOUND"]}),g.jsxs("div",{children:["Payment ID: ",y||"NOT FOUND"]}),g.jsxs("div",{children:["Status: ",p||"NOT FOUND"]}),g.jsxs("div",{children:["Collection Status: ",b||"NOT FOUND"]})]}),g.jsx(Ft,{to:"/",className:"btn",children:"Volver al inicio"})]})}):g.jsx("div",{className:"payment-result payment-success",children:g.jsxs("div",{className:"success-content",children:[g.jsx("div",{className:"success-icon",children:"✅"}),g.jsx("h1",{children:"¡Pago Exitoso!"}),g.jsx("p",{children:"Tu pago ha sido procesado correctamente"}),e&&g.jsxs("div",{className:"order-details",children:[g.jsx("h3",{children:"Detalles del Pedido"}),g.jsxs("div",{className:"order-info",children:[g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Número de pedido:"}),g.jsx("span",{children:e.id})]}),g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Total pagado:"}),g.jsxs("span",{children:["$",(S=e.total)==null?void 0:S.toFixed(2)," ARS"]})]}),g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Estado del pago:"}),g.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:"✅ Pagado"})]}),g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Estado del pedido:"}),g.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:"✅ Confirmado"})]}),y&&g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"ID de pago:"}),g.jsx("span",{children:y})]})]}),e.items&&e.items.length>0&&g.jsxs("div",{className:"order-items",children:[g.jsx("h4",{children:"Items del pedido:"}),e.items.map((x,D)=>g.jsxs("div",{className:"order-info-item",children:[g.jsxs("span",{children:[x.name," x",x.quantity]}),g.jsxs("span",{children:["$",((x.unit_price||x.price)*x.quantity).toFixed(2)]})]},D))]}),e.customer&&g.jsxs("div",{className:"customer-info",children:[g.jsx("h4",{children:"Información de contacto:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Nombre:"})," ",e.customer.name]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Teléfono:"})," ",e.customer.phone]}),e.customer.email&&g.jsxs("p",{children:[g.jsx("strong",{children:"Email:"})," ",e.customer.email]}),e.customer.address&&g.jsxs("p",{children:[g.jsx("strong",{children:"Dirección:"})," ",e.customer.address]})]})]}),g.jsxs("div",{className:"next-steps",children:[g.jsx("h3",{children:"¿Qué sigue?"}),g.jsx("p",{children:"• Te contactaremos por WhatsApp para coordinar la entrega"}),g.jsx("p",{children:"• Recibirás una confirmación por email"}),g.jsx("p",{children:"• Prepararemos tu pedido lo antes posible"})]}),g.jsxs("div",{className:"action-buttons",children:[g.jsx(Ft,{to:"/",className:"btn btn-primary",children:"Volver al menú"}),h&&g.jsx(Ft,{to:`/estado-pedido?orderId=${h}`,className:"btn btn-secondary",children:"Ver estado del pedido"})]})]})})},u3=()=>{var S;const[i]=ro(),[e,n]=z.useState(null),[a,o]=z.useState(!0),[u,d]=z.useState(null),h=i.get("order")||i.get("external_reference"),y=i.get("payment_id"),p=i.get("status"),b=i.get("collection_status");return z.useEffect(()=>{(async()=>{if(console.log("🔍 PaymentPending: Starting with params:",{orderId:h,paymentId:y,status:p,collectionStatus:b,allSearchParams:Object.fromEntries(i.entries())}),!h){console.error("❌ PaymentPending: No orderId found"),d("No se encontró el ID del pedido"),o(!1);return}if(p==="approved"||b==="approved"){console.warn("⚠️ PaymentPending: Payment approved, redirecting to success page"),alert("¡Tu pago fue aprobado! Te redirigiremos a la página de confirmación."),window.location.href=`/restaurant_template/payment/success?order=${h}&payment_id=${y}&status=${p}&collection_status=${b}`;return}if(p==="rejected"||p==="cancelled"||b==="rejected"||b==="cancelled"){console.warn("⚠️ PaymentPending: Payment failed, redirecting to failure page"),window.location.href=`/restaurant_template/payment/failure?order=${h}&payment_id=${y}&status=${p}&collection_status=${b}`;return}try{await It.initializeForPayment();const D=It.getDatabase(),B=gn(D,"orders",h),V=await Xn(B);if(V.exists()){const U=V.data();if(U.paymentStatus==="paid"||U.status==="confirmed"){console.warn("🔄 Payment was actually successful according to Firebase, redirecting..."),alert("¡Tu pago fue procesado exitosamente! Te redirigiremos a la página correcta."),window.location.href=`/restaurant_template/payment/success?order=${h}&payment_id=${y}`;return}if(U.paymentStatus==="failed"||U.status==="payment_failed"){console.warn("🔄 Payment failed according to Firebase, redirecting..."),window.location.href=`/restaurant_template/payment/failure?order=${h}&payment_id=${y}`;return}}}catch(D){console.warn("⚠️ Could not verify payment status from Firebase:",D)}try{console.log("[Pending] Processing pending payment for order:",h),console.log("📄 Payment details:",{paymentId:y,status:p,collectionStatus:b}),await It.initializeForPayment();const D=It.getDatabase(),B=gn(D,"orders",h),V=await Xn(B);if(V.exists()){const U={id:V.id,...V.data()};console.log("📋 Order data found:",U),n(U),y&&U.paymentId!==y?(console.log("⏳ Updating order with pending payment info"),await Ef(B,{paymentStatus:"pending",paymentId:y,updatedAt:Js(),mercadopagoData:{payment_id:y,status:p,collection_status:b,processed_at:Js()}}),n(F=>({...F,paymentStatus:"pending",paymentId:y}))):console.log("⏳ No update needed for pending payment")}else console.error("❌ PaymentPending: Order not found in Firestore:",h),d("Pedido no encontrado")}catch(D){console.error("❌ Error loading/updating order:",D),d("Error al procesar el pedido")}finally{o(!1)}})()},[h,y,p,b]),a?g.jsx("div",{className:"payment-result",children:g.jsx("div",{className:"loading",children:"Cargando..."})}):u?g.jsx("div",{className:"payment-result",children:g.jsxs("div",{className:"error",children:[g.jsx("h2",{children:"❌ Error"}),g.jsx("p",{children:u}),g.jsx(Ft,{to:"/",className:"btn",children:"Volver al inicio"})]})}):g.jsx("div",{className:"payment-result payment-pending",children:g.jsxs("div",{className:"pending-content",children:[g.jsx("div",{className:"pending-icon",children:"⏳"}),g.jsx("h1",{children:"Pago Pendiente"}),g.jsx("p",{children:"Tu pago está siendo procesado"}),e&&g.jsxs("div",{className:"order-details",children:[g.jsx("h3",{children:"Detalles del Pedido"}),g.jsxs("div",{className:"order-info",children:[g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Número de pedido:"}),g.jsx("span",{children:e.id})]}),g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Total:"}),g.jsxs("span",{children:["$",(S=e.total)==null?void 0:S.toFixed(2)," ARS"]})]}),g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Estado del pago:"}),g.jsx("span",{style:{color:"#ffc107",fontWeight:"bold"},children:"⏳ Pendiente"})]}),y&&g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"ID de pago:"}),g.jsx("span",{children:y})]})]})]}),g.jsxs("div",{className:"next-steps",children:[g.jsx("h3",{children:"¿Qué hacer ahora?"}),g.jsx("p",{children:"• Tu pago está siendo verificado"}),g.jsx("p",{children:"• Recibirás una notificación cuando se confirme"}),g.jsx("p",{children:"• Puedes contactarnos si tienes dudas"})]}),g.jsxs("div",{className:"action-buttons",children:[g.jsx(Ft,{to:"/",className:"btn btn-primary",children:"Volver al menú"}),g.jsx(Ft,{to:`/estado-pedido?orderId=${h}`,className:"btn btn-secondary",children:"Ver estado del pedido"})]})]})})},c3=({onClose:i})=>{const[e,n]=z.useState(!1);return z.useEffect(()=>{const a=setTimeout(()=>n(!0),500);return()=>clearTimeout(a)},[]),e?g.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"1rem",maxWidth:"400px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:1e3,animation:"slideIn 0.3s ease-out"},children:g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[g.jsxs("div",{children:[g.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#856404"},children:"⚠️ ¿Problema con el pago?"}),g.jsxs("p",{style:{margin:"0",fontSize:"0.9rem",color:"#856404"},children:["Si ves esta página de error pero tu pago fue exitoso, ",g.jsx("strong",{children:"no te preocupes"}),". Tu pedido fue procesado correctamente. Contactanos para confirmar."]}),g.jsx("div",{style:{marginTop:"0.5rem"},children:g.jsx("a",{href:"https://wa.me/1234567890",target:"_blank",rel:"noopener noreferrer",style:{background:"#25d366",color:"white",textDecoration:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem",display:"inline-block"},children:"📱 WhatsApp"})})]}),g.jsx("button",{onClick:i,style:{background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",color:"#856404"},children:"×"})]})}):null},f3=()=>{var D;const[i]=ro(),[e,n]=z.useState(null),[a,o]=z.useState(!0),[u,d]=z.useState(null),[h,y]=z.useState(!0),p=i.get("order")||i.get("external_reference"),b=i.get("payment_id"),S=i.get("status"),x=i.get("collection_status");return z.useEffect(()=>{(async()=>{if(console.log("🔍 PaymentFailure: Starting with params:",{orderId:p,paymentId:b,status:S,collectionStatus:x,allSearchParams:Object.fromEntries(i.entries()),currentURL:window.location.href,currentPath:window.location.pathname,shouldBeOnFailurePage:"❌ IF YOU SEE THIS, PAYMENT WAS SUPPOSED TO FAIL"}),S==="approved"||x==="approved"){console.error("🚨 ROUTING ERROR: Successful payment redirected to failure page!"),console.log("This should NOT happen. Payment details:",{status:S,collectionStatus:x}),console.log("Redirecting to correct success page..."),alert("¡Tu pago fue exitoso! Te redirigiremos a la página correcta."),window.location.href=`/restaurant_template/payment/success?order=${p}&payment_id=${b}&status=${S}&collection_status=${x}`;return}try{await It.initializeForPayment();const V=It.getDatabase(),U=gn(V,"orders",p),F=await Xn(U);if(F.exists()){const Y=F.data();if(Y.paymentStatus==="paid"||Y.status==="confirmed"){console.warn("🔄 Payment was actually successful according to Firebase, redirecting..."),alert("¡Tu pago fue procesado exitosamente! Te redirigiremos a la página correcta."),window.location.href=`/restaurant_template/payment/success?order=${p}&payment_id=${b}`;return}}}catch(V){console.warn("⚠️ Could not verify payment status from Firebase:",V)}if(!p){console.error("❌ PaymentFailure: No orderId found in URL params"),console.log("Available search params:",Object.fromEntries(i.entries())),d("No se encontró el ID del pedido"),o(!1);return}console.log("❌ PaymentFailure: Processing failed payment"),console.log("Payment verification passed - staying on failure page");try{console.log("❌ Processing failed payment for order:",p),console.log("📄 Payment details:",{paymentId:b,status:S,collectionStatus:x}),await It.initializeForPayment();const V=It.getDatabase(),U=gn(V,"orders",p),F=await Xn(U);if(F.exists()){const Y={id:F.id,...F.data()};console.log("📋 Order data found:",Y),n(Y),Y.paymentStatus!=="failed"?(console.log("❌ Updating order payment status to failed"),await Ef(U,{paymentStatus:"failed",status:"payment_failed",paymentId:b,updatedAt:Js(),mercadopagoData:{payment_id:b,status:S,collection_status:x,processed_at:Js()}}),n(ne=>({...ne,paymentStatus:"failed",status:"payment_failed",paymentId:b}))):console.log("⚠️ Order already marked as failed")}else console.error("❌ PaymentFailure: Order not found in Firestore:",p),d("Pedido no encontrado")}catch(V){console.error("❌ Error loading/updating order:",V),d("Error al procesar el pedido")}finally{o(!1)}})()},[p,b,S,x]),a?g.jsx("div",{className:"payment-result",children:g.jsxs("div",{className:"loading",children:[g.jsx("h2",{children:"Cargando resultado del pago..."}),g.jsx("p",{children:"Verificando el estado de tu pedido..."}),g.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"0.9rem",fontFamily:"monospace"},children:[g.jsx("strong",{children:"Debug Info:"}),g.jsx("br",{}),"URL: ",window.location.href,g.jsx("br",{}),"Order ID: ",p||"NOT FOUND",g.jsx("br",{}),"Status: ",S||"NOT FOUND",g.jsx("br",{}),"Collection Status: ",x||"NOT FOUND",g.jsx("br",{}),"Payment ID: ",b||"NOT FOUND"]})]})}):u?g.jsx("div",{className:"payment-result",children:g.jsxs("div",{className:"error",children:[g.jsx("h2",{children:"❌ Error"}),g.jsx("p",{children:u}),g.jsx(Ft,{to:"/",className:"btn",children:"Volver al inicio"})]})}):g.jsxs("div",{className:"payment-result payment-failure",children:[h&&g.jsx(c3,{onClose:()=>y(!1)}),g.jsxs("div",{className:"failure-content",children:[g.jsx("div",{className:"failure-icon",children:"❌"}),g.jsx("h1",{children:"Pago No Completado"}),g.jsx("p",{children:"Hubo un problema al procesar tu pago"}),e&&g.jsxs("div",{className:"order-details",children:[g.jsx("h3",{children:"Detalles del Pedido"}),g.jsxs("div",{className:"order-info",children:[g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Número de pedido:"}),g.jsx("span",{children:e.id})]}),g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Total:"}),g.jsxs("span",{children:["$",(D=e.total)==null?void 0:D.toFixed(2)," ARS"]})]}),g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"Estado del pago:"}),g.jsx("span",{style:{color:"#dc3545",fontWeight:"bold"},children:"❌ Falló"})]}),b&&g.jsxs("div",{className:"order-info-item",children:[g.jsx("span",{children:"ID de pago:"}),g.jsx("span",{children:b})]})]})]}),g.jsxs("div",{className:"next-steps",children:[g.jsx("h3",{children:"¿Qué puedes hacer?"}),g.jsxs("div",{style:{background:"#d1ecf1",border:"1px solid #bee5eb",borderRadius:"6px",padding:"1rem",marginBottom:"1rem",color:"#0c5460"},children:[g.jsx("strong",{children:"📝 IMPORTANTE:"})," Si realizaste el pago y recibes esta página de error, tu pago ",g.jsx("strong",{children:"SÍ fue procesado correctamente"}),". Esta es una página de error falsa debido a un problema de redirección. Tu pedido está confirmado y lo prepararemos."]}),g.jsx("p",{children:"• Intentar el pago nuevamente solo si estás seguro de que falló"}),g.jsx("p",{children:"• Verificar los datos de tu tarjeta"}),g.jsx("p",{children:"• Contactarnos para confirmar tu pedido"}),g.jsx("p",{children:"• Pagar en efectivo al retirar"})]}),g.jsxs("div",{className:"action-buttons",children:[g.jsx(Ft,{to:"/",className:"btn btn-primary",children:"Volver al menú"}),g.jsx(Ft,{to:"/",className:"btn btn-warning",children:"Intentar nuevamente"}),g.jsx(Ft,{to:`/estado-pedido?orderId=${p}`,className:"btn btn-secondary",children:"Ver estado del pedido"})]})]})]})},V_=()=>{const[i]=ro(),[e,n]=z.useState(null),[a,o]=z.useState(!0),[u,d]=z.useState(null),[h,y]=z.useState(null),[p,b]=z.useState(!1),S=z.useRef(null),x=i.get("orderId")||i.get("order");z.useEffect(()=>{if(!x){d("No se proporcionó ID de pedido"),o(!1),b(!1);return}o(!0),d(null),n(null),b(!1);let U=!1;return(async()=>{try{console.log("🔄 Initializing Firebase for OrderStatus listener..."),await It.initializeForPayment(),U=!0;const Y=It.getDatabase();console.log("👂 Setting up Firestore listener for order:",x);const ne=gn(Y,"orders",x);S.current&&(console.log("🧹 Unsubscribing previous listener."),S.current()),S.current=V2(ne,re=>{if(re.exists()){const P={id:re.id,...re.data()};console.log("🔔 Real-time update for order:",P),n(P),d(null),y(new Date),b(!0)}else console.error("❌ Order not found with listener:",x),d("Pedido no encontrado"),n(null),b(!1);o(!1)},re=>{console.error("❌ Firestore listener error:",re),d("Error al escuchar cambios del pedido: "+re.message),o(!1),b(!1)})}catch(Y){console.error("❌ Error setting up Firestore listener:",Y),d("Error al inicializar la escucha de pedidos: "+Y.message),o(!1),b(!1)}})(),()=>{console.log("🧹 Cleaning up OrderStatus listener for order:",x),S.current&&(console.log("🔪 Unsubscribing listener."),S.current(),S.current=null),U&&(console.log("🔌 Releasing Firebase manager from OrderStatus."),It.release())}},[x]);const D=(U,F)=>F==="paid"||U==="confirmed"?g.jsx(nb,{className:"status-icon",color:"#28a745"}):F==="pending"||U==="pending"?g.jsx(sb,{className:"status-icon",color:"#ffc107"}):F==="failed"||U==="payment_failed"?g.jsx(lb,{className:"status-icon",color:"#dc3545"}):g.jsx(v6,{className:"status-icon",color:"#6c757d"}),B=(U,F)=>F==="paid"||U==="confirmed"?"Confirmado":F==="pending"||U==="pending"?"Pendiente":F==="failed"||U==="payment_failed"?"Falló":"En proceso",V=(U,F)=>F==="paid"||U==="confirmed"?"#28a745":F==="pending"||U==="pending"?"#ffc107":F==="failed"||U==="payment_failed"?"#dc3545":"#6c757d";return a?g.jsx("div",{className:"order-status-page",children:g.jsx("div",{className:"order-status-container",children:g.jsxs("div",{className:"loading-state",children:[g.jsx("div",{className:"loading-icon",children:"🔄"}),g.jsx("h2",{children:"Cargando estado del pedido..."}),g.jsx("p",{children:"Obteniendo información de tu pedido en tiempo real..."})]})})}):u?g.jsx("div",{className:"order-status-page",children:g.jsx("div",{className:"order-status-container",children:g.jsxs("div",{className:"error-state",children:[g.jsx("div",{className:"error-icon",children:"❌"}),g.jsx("h2",{children:"Error"}),g.jsx("p",{children:u}),g.jsx("div",{className:"error-actions",children:g.jsx(Ft,{to:"/",className:"btn btn-secondary",children:"Volver al menú"})})]})})}):e?g.jsx("div",{className:"order-status-page",children:g.jsxs("div",{className:"order-status-container",children:[g.jsxs("div",{className:"order-header",children:[g.jsx("div",{className:"status-icon",children:D(e.status,e.paymentStatus)}),g.jsx("h1",{children:"Estado del Pedido"}),g.jsxs("div",{className:"order-id",children:[g.jsxs("span",{children:["Pedido #",e.id]}),p&&g.jsx("span",{className:"real-time-badge",children:"En tiempo real"})]})]}),g.jsxs("div",{className:"status-card",children:[g.jsxs("div",{className:"status-info",children:[g.jsx("div",{className:"status-badge",style:{backgroundColor:V(e.status,e.paymentStatus)},children:B(e.status,e.paymentStatus)}),g.jsxs("div",{className:"status-details",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Estado del pedido:"})," ",e.status||"No definido"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Estado del pago:"})," ",e.paymentStatus||"No definido"]}),e.paymentMethod&&g.jsxs("p",{children:[g.jsx("strong",{children:"Método de pago:"})," ",e.paymentMethod==="mercadopago"?"MercadoPago":"Efectivo"]})]})]}),g.jsxs("div",{className:"refresh-section",children:[h&&g.jsxs("p",{className:"last-updated",children:["Última actualización: ",h.toLocaleTimeString("es-AR")]}),!p&&!a&&g.jsx("p",{className:"real-time-badge-error",children:"Actualizaciones en tiempo real no activas"})]})]}),e.total&&g.jsxs("div",{className:"order-summary",children:[g.jsx("h3",{children:"Resumen del Pedido"}),g.jsxs("div",{className:"summary-info",children:[g.jsxs("div",{className:"summary-item",children:[g.jsx("span",{children:"Total:"}),g.jsxs("span",{className:"total-amount",children:["$",e.total.toFixed(2)," ARS"]})]}),e.createdAt&&g.jsxs("div",{className:"summary-item",children:[g.jsx("span",{children:"Fecha:"}),g.jsx("span",{children:new Date(e.createdAt.seconds*1e3).toLocaleString("es-AR")})]})]})]}),e.items&&e.items.length>0&&g.jsxs("div",{className:"order-items",children:[g.jsx("h3",{children:"Productos"}),g.jsx("div",{className:"items-list",children:e.items.map((U,F)=>g.jsxs("div",{className:"order-item",children:[g.jsxs("div",{className:"item-info",children:[g.jsx("span",{className:"item-name",children:U.name||U.title}),g.jsxs("span",{className:"item-quantity",children:["x",U.quantity]})]}),g.jsxs("div",{className:"item-price",children:["$",((U.unit_price||U.price)*U.quantity).toFixed(2)]})]},F))})]}),e.customer&&g.jsxs("div",{className:"customer-info",children:[g.jsx("h3",{children:"Información de Contacto"}),g.jsxs("div",{className:"contact-details",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Nombre:"})," ",e.customer.name]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Teléfono:"})," ",e.customer.phone]}),e.customer.email&&g.jsxs("p",{children:[g.jsx("strong",{children:"Email:"})," ",e.customer.email]}),e.customer.address&&g.jsxs("p",{children:[g.jsx("strong",{children:"Dirección:"})," ",e.customer.address]})]})]}),e.notes&&g.jsxs("div",{className:"order-notes",children:[g.jsx("h3",{children:"Notas Adicionales"}),g.jsx("p",{children:e.notes})]}),g.jsxs("div",{className:"next-steps",children:[g.jsx("h3",{children:"¿Qué sigue?"}),e.paymentStatus==="paid"||e.status==="confirmed"?g.jsxs("div",{className:"success-steps",children:[g.jsx("p",{children:"✅ Tu pedido ha sido confirmado"}),g.jsx("p",{children:"📞 Te contactaremos por WhatsApp para coordinar la entrega"}),g.jsx("p",{children:"🍽️ Estamos preparando tu pedido"}),g.jsxs("p",{children:[g.jsx(Sf,{})," Estamos preparando tu pedido"]})]}):e.paymentStatus==="pending"?g.jsxs("div",{className:"pending-steps",children:[g.jsx("p",{children:"⏳ Tu pago está siendo procesado"}),g.jsx("p",{children:"📧 Recibirás una confirmación cuando se apruebe"}),g.jsx("p",{children:"💬 Puedes contactarnos si tienes dudas"})]}):g.jsxs("div",{className:"failed-steps",children:[g.jsx("p",{children:"❌ Hubo un problema con el pago"}),g.jsx("p",{children:"💳 Puedes intentar nuevamente"}),g.jsx("p",{children:"📞 O contactarnos para ayuda"})]})]}),g.jsxs("div",{className:"action-buttons",children:[g.jsx(Ft,{to:"/",className:"btn btn-primary",children:"Volver al menú"}),(e.paymentStatus==="failed"||e.status==="payment_failed")&&g.jsx(Ft,{to:"/",className:"btn btn-warning",children:"Intentar de nuevo"})]})]})}):g.jsx("div",{className:"order-status-page",children:g.jsx("div",{className:"order-status-container",children:g.jsxs("div",{className:"not-found-state",children:[g.jsx("div",{className:"not-found-icon",children:"🔍"}),g.jsx("h2",{children:"Pedido no encontrado"}),g.jsxs("p",{children:["Verificando el pedido con ID: ",g.jsx("code",{children:x}),". Si existe, aparecerá en breve."]}),g.jsx(Ft,{to:"/",className:"btn btn-primary",children:"Volver al menú"})]})})})},d3=()=>{const[i]=ro();return z.useEffect(()=>{const e=i.get("collection_id"),n=i.get("collection_status"),a=i.get("payment_id"),o=i.get("status"),u=i.get("external_reference"),d=i.get("payment_type"),h=i.get("merchant_order_id"),y=i.get("preference_id"),p=i.get("site_id"),b=i.get("processing_mode"),S=i.get("merchant_account_id");console.log("🔔 MercadoPago webhook parameters received:",{collection_id:e,collection_status:n,payment_id:a,status:o,external_reference:u,payment_type:d,merchant_order_id:h,preference_id:y,site_id:p,processing_mode:b,merchant_account_id:S}),console.log("📍 WebhookHandler: Current URL:",window.location.href),console.log("📍 WebhookHandler: All search params:",Object.fromEntries(i.entries()));const x=u,D="/restaurant_template",B=`&payment_id=${a||"none"}&status=${o||"none"}&collection_status=${n||"none"}&source=webhook`;o==="approved"||n==="approved"?(console.log("✅ WebhookHandler: Redirecting to SUCCESS page"),window.location.href=`${D}/payment/success?order=${x}${B}`):o==="pending"||n==="pending"?(console.log("⏳ WebhookHandler: Redirecting to PENDING page"),window.location.href=`${D}/payment/pending?order=${x}${B}`):o==="rejected"||o==="cancelled"||n==="rejected"?(console.log("❌ WebhookHandler: Redirecting to FAILURE page"),window.location.href=`${D}/payment/failure?order=${x}${B}`):(console.log("❓ WebhookHandler: Unclear status, redirecting to DEBUG page"),window.location.href=`${D}/payment/debug?order=${x}${B}`)},[i]),g.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[g.jsx("div",{style:{fontSize:"2rem"},children:g.jsx(sb,{})}),g.jsx("p",{children:"Procesando resultado del pago..."}),g.jsx("p",{style:{color:"#666",fontSize:"0.9rem"},children:"Serás redirigido automáticamente"})]})},h3=()=>{var u,d;const[i]=ro(),[e,n]=z.useState({}),[a,o]=z.useState(null);return z.useEffect(()=>{(async()=>{const y=Object.fromEntries(i.entries()),p=i.get("order")||i.get("external_reference"),b={url:window.location.href,pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,allParams:y,orderId:p,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,referrer:document.referrer};if(n(b),p)try{await It.initialize();const S=It.getDatabase(),x=gn(S,"orders",p),D=await Xn(x);D.exists()&&o({id:D.id,...D.data()})}catch(S){console.error("Error loading order:",S)}})()},[i]),g.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto",fontFamily:"monospace",fontSize:"0.9rem"},children:[g.jsx("h1",{children:"🔍 MercadoPago Payment Debug Info"}),g.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"6px",marginBottom:"2rem"},children:[g.jsx("h2",{children:"URL Information"}),g.jsx("pre",{children:JSON.stringify(e,null,2)})]}),a&&g.jsxs("div",{style:{background:"#e8f5e8",padding:"1rem",borderRadius:"6px",marginBottom:"2rem"},children:[g.jsx("h2",{children:"Order Data from Firebase"}),g.jsx("pre",{children:JSON.stringify(a,null,2)})]}),g.jsxs("div",{style:{background:"#fff3cd",padding:"1rem",borderRadius:"6px",marginBottom:"2rem"},children:[g.jsx("h2",{children:"Recommended Action"}),((u=e.allParams)==null?void 0:u.status)==="approved"||((d=e.allParams)==null?void 0:d.collection_status)==="approved"?g.jsxs("p",{style:{color:"#155724"},children:["✅ ",g.jsx("strong",{children:"Payment appears to be SUCCESSFUL"})," - should redirect to success page"]}):(a==null?void 0:a.paymentStatus)==="paid"?g.jsxs("p",{style:{color:"#155724"},children:["✅ ",g.jsx("strong",{children:"Payment is SUCCESSFUL in Firebase"})," - should redirect to success page"]}):g.jsx("p",{style:{color:"#721c24"},children:"❌ Payment appears to have failed or is pending"})]}),g.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[g.jsx("button",{onClick:()=>window.location.href="/restaurant_template/payment/success?order="+e.orderId,style:{background:"#28a745",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px"},children:"Go to Success Page"}),g.jsx("button",{onClick:()=>window.location.href="/restaurant_template/payment/failure?order="+e.orderId,style:{background:"#dc3545",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px"},children:"Go to Failure Page"}),g.jsx("button",{onClick:()=>window.location.href="/restaurant_template/",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px"},children:"Go to Menu"})]})]})},m3=({currentProduct:i,menu:e,onProductClick:n})=>{const[a,o]=z.useState([]);return z.useEffect(()=>{if(!i||!e)return;let u=[];for(const[d,h]of Object.entries(e))if(h.items&&h.items.find(p=>p.id===i.id)){u=h.items.filter(p=>p.id!==i.id&&!p.isHidden&&p.isAvailable!==!1).slice(0,8);break}o(u)},[i,e]),a.length===0?null:g.jsxs("div",{className:"suggested-products-section",children:[g.jsx("h2",{children:"Productos relacionados"}),g.jsx("div",{className:"suggested-products-grid",children:a.map(u=>{var d,h;return g.jsxs("div",{className:"suggested-product-card",onClick:()=>n(u.id),children:[g.jsx("div",{className:"suggested-product-image",children:(d=u.images)!=null&&d[0]||u.imageUrl||u.image?g.jsx("img",{src:((h=u.images)==null?void 0:h[0])||u.imageUrl||u.image,alt:u.name}):g.jsx("div",{className:"suggested-product-placeholder",children:g.jsx(Sf,{})})}),g.jsxs("div",{className:"suggested-product-info",children:[g.jsx("h3",{className:"suggested-product-name",children:u.name}),g.jsxs("div",{className:"suggested-product-price",children:[g.jsx("span",{className:"price-symbol",children:"$"}),g.jsx("span",{className:"price-amount",children:u.price})]}),u.trackStock&&u.stock<=5&&u.stock>0&&g.jsxs("div",{className:"suggested-stock-warning",children:[g.jsx(ab,{style:{color:"#ffc107",marginRight:4}})," Últimas ",u.stock," unidades"]}),u.trackStock&&u.stock<=0&&g.jsxs("div",{className:"suggested-out-of-stock",children:[g.jsx(xm,{style:{color:"#dc3545",marginRight:4}})," Sin stock"]})]})]},u.id)})})]})},p3=()=>{const{productId:i}=IS(),e=$l(),{menu:n,isLoading:a,error:o}=Af(),{addToCart:u,cartCount:d,cart:h,updateQuantity:y,removeFromCart:p,clearCart:b}=t1(),[S,x]=z.useState(null),[D,B]=z.useState(1),[V,U]=z.useState(0),[F,Y]=z.useState(!1),[ne,re]=z.useState(!1),[P,H]=z.useState(!1);z.useEffect(()=>{if(n&&!a){let C=null;for(const Z of Object.values(n))if(Z.items&&(C=Z.items.find(me=>me.id===i),C))break;C?(x(C),C.images&&C.images.length>0&&U(0)):x(null)}},[n,a,i]),z.useEffect(()=>{re(!0),B(1),U(0),Y(!1),window.scrollTo(0,0);const C=setTimeout(()=>{re(!1)},300);return()=>clearTimeout(C)},[i]);const N=()=>{if(S)try{u(S,D),Y(!0),setTimeout(()=>Y(!1),3e3)}catch(C){console.error("Error adding to cart:",C),alert("Error al agregar al carrito")}},O=()=>S.trackStock?S.stock<=0?{status:"out",text:"Sin stock",color:"#dc3545"}:S.stock<=5?{status:"low",text:`Últimas ${S.stock} unidades`,color:"#ffc107"}:{status:"available",text:"Disponible",color:"#28a745"}:{status:"unlimited",text:"Disponible",color:"#28a745"},R=()=>!(S.isHidden||S.isAvailable===!1||S.trackStock&&S.stock<=0),E=()=>H(!0);if(o||!S)return g.jsxs("div",{className:"product-detail-error",children:[g.jsx("div",{className:"error-icon",children:g.jsx(xm,{})}),g.jsx("h2",{children:"Producto no encontrado"}),g.jsx("p",{children:"El producto que buscas no existe o no está disponible."}),g.jsx(Ft,{to:"/",className:"btn btn-primary",children:"Volver al catálogo"})]});const M=O(),L=S.images||(S.imageUrl||S.image?[S.imageUrl||S.image]:[]);return g.jsxs("div",{className:"product-detail-page",style:{paddingTop:"80px"},children:[g.jsx(_b,{onCartClick:E,itemCount:d||0,hideNavLinks:!0}),P&&g.jsx("div",{className:"cart-overlay",onClick:C=>C.target.classList.contains("cart-overlay")&&H(!1),children:g.jsx(Dp,{cart:h,updateQuantity:y,removeFromCart:p,clearCart:b,total:h.reduce((C,Z)=>C+Z.price*(Z.quantity||1),0),onClose:()=>H(!1)})}),g.jsxs("div",{className:"breadcrumb",children:[g.jsx(Ft,{to:"/",children:"Inicio"}),g.jsx("span",{children:" › "}),g.jsx("span",{children:S.name})]}),F&&g.jsxs("div",{className:"add-to-cart-notification",children:[g.jsx(c_,{style:{color:"#28a745",marginRight:4}})," Producto agregado al carrito"]}),g.jsxs("div",{className:"product-detail-container",children:[g.jsxs("div",{className:"product-gallery",children:[g.jsxs("div",{className:"main-image",children:[L.length>0?g.jsx("img",{src:L[V],alt:S.name,className:"product-main-image"}):g.jsx("div",{className:"product-placeholder",children:g.jsx(Sf,{})}),S.isFeatured&&g.jsxs("div",{className:"featured-badge",children:[g.jsx(x6,{style:{color:"#ffc107",marginRight:4}})," Destacado"]})]}),L.length>1&&g.jsx("div",{className:"image-thumbnails",children:L.map((C,Z)=>g.jsx("img",{src:C,alt:`${S.name} ${Z+1}`,className:`thumbnail ${V===Z?"active":""}`,onClick:()=>U(Z)},Z))})]}),g.jsxs("div",{className:"product-info",children:[g.jsxs("div",{className:"product-header",children:[g.jsx("h1",{className:"product-title",children:S.name}),g.jsxs("div",{className:"stock-status",style:{color:M.color},children:[g.jsxs("span",{className:"stock-icon",children:[M.status==="available"&&g.jsx(c_,{style:{color:"#28a745"}}),M.status==="low"&&g.jsx(ab,{style:{color:"#ffc107"}}),M.status==="out"&&g.jsx(xm,{style:{color:"#dc3545"}}),M.status==="unlimited"&&g.jsx(E6,{style:{color:"#28a745"}})]}),M.text]})]}),g.jsxs("div",{className:"product-price",children:[g.jsx("span",{className:"price-symbol",children:"$"}),g.jsx("span",{className:"price-amount",children:S.price}),g.jsx("span",{className:"price-currency",children:"ARS"})]}),R()&&g.jsxs("div",{className:"quantity-section",children:[g.jsx("label",{htmlFor:"quantity",children:"Cantidad:"}),g.jsxs("div",{className:"quantity-controls",children:[g.jsx("button",{className:"quantity-btn",onClick:()=>B(Math.max(1,D-1)),disabled:D<=1,children:"-"}),g.jsx("input",{id:"quantity",type:"number",min:"1",max:S.trackStock?S.stock:999,value:D,onChange:C=>{const Z=parseInt(C.target.value)||1,me=S.trackStock?S.stock:999;B(Math.min(Math.max(1,Z),me))},className:"quantity-input"}),g.jsx("button",{className:"quantity-btn",onClick:()=>{const C=S.trackStock?S.stock:D+1;B(Math.min(D+1,C))},disabled:S.trackStock&&D>=S.stock,children:"+"})]}),S.trackStock&&g.jsxs("small",{className:"stock-info",children:[S.stock," unidades disponibles"]})]}),g.jsx("div",{className:"product-actions",children:R()?g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn btn-primary add-to-cart-btn",onClick:N,children:"Agregar al carrito"}),g.jsx("button",{className:"btn btn-secondary buy-now-btn",onClick:()=>{N(),setTimeout(()=>e("/"),500)},children:"Comprar ahora"})]}):g.jsx("button",{className:"btn btn-disabled",disabled:!0,children:S.isHidden?"Producto oculto":S.isAvailable===!1?"No disponible":"Sin stock"})}),g.jsxs("div",{className:"product-features",children:[g.jsxs("div",{className:"feature",children:[g.jsx("span",{className:"feature-icon",children:g.jsx(I6,{})}),g.jsx("span",{children:"Envío a todo el país"})]}),g.jsxs("div",{className:"feature",children:[g.jsx("span",{className:"feature-icon",children:g.jsx(ob,{})}),g.jsx("span",{children:"Compra protegida"})]}),g.jsxs("div",{className:"feature",children:[g.jsx("span",{className:"feature-icon",children:g.jsx(rb,{})}),g.jsx("span",{children:"Múltiples medios de pago"})]})]})]})]}),S.description&&g.jsxs("div",{className:"product-description-section",children:[g.jsx("h2",{children:"Descripción del producto"}),g.jsx("div",{className:"product-description",children:g.jsx("p",{children:S.description})})]}),g.jsx(m3,{currentProduct:S,menu:n,onProductClick:C=>{e(`/producto/${C}`)}})]})},g3=()=>g.jsx(yw,{basename:"/shop_template",children:g.jsxs(QS,{children:[g.jsx(Tr,{path:"/",element:g.jsx(o3,{})}),g.jsx(Tr,{path:"/producto/:productId",element:g.jsx(p3,{})}),g.jsx(Tr,{path:"/payment/success",element:g.jsx(l3,{})}),g.jsx(Tr,{path:"/payment/pending",element:g.jsx(u3,{})}),g.jsx(Tr,{path:"/payment/failure",element:g.jsx(f3,{})}),g.jsx(Tr,{path:"/payment/debug",element:g.jsx(h3,{})}),g.jsx(Tr,{path:"/webhook/mercadopago",element:g.jsx(d3,{})}),g.jsx(Tr,{path:"/estado-pedido",element:g.jsx(V_,{})}),g.jsx(Tr,{path:"/order-status",element:g.jsx(V_,{})})]})});eS.createRoot(document.getElementById("root")).render(g.jsx(z.StrictMode,{children:g.jsx(n3,{children:g.jsx(g3,{})})}));
